{"version":3,"sources":["webpack:///../../../src/components/VGrid/VFlex.ts","webpack:///./src/components/PipingUI.vue?e862","webpack:///./node_modules/core-js/modules/web.url.js","webpack:///./node_modules/core-js/modules/web.url.constructor.js","webpack:///./node_modules/core-js/internals/string-punycode-to-ascii.js","webpack:///./node_modules/fp-ts/es6/ChainRec.js","webpack:///./node_modules/fp-ts/es6/internal.js","webpack:///./node_modules/fp-ts/es6/Either.js","webpack:///./node_modules/io-ts/es6/index.js","webpack:///../../../src/components/VGrid/VLayout.ts","webpack:///./node_modules/filepond/dist/filepond.js","webpack:///./src/components/PipingUI.vue?8641","webpack:///./src/build-constants.ts","webpack:///./src/components/PipingUI.vue","webpack:///./src/components/PipingUI.vue?1af3","webpack:///../../../src/mixins/button-group/index.ts","webpack:///../../../src/components/VBtnToggle/VBtnToggle.ts","webpack:///../../../src/components/VGrid/VCol.ts","webpack:///../../../src/components/VAutocomplete/VAutocomplete.ts","webpack:///../../../src/components/VCombobox/VCombobox.ts","webpack:///../../../src/components/VExpansionPanel/VExpansionPanels.ts","webpack:///../../../src/components/VGrid/VRow.ts","webpack:///../../../src/components/VSnackbar/VSnackbar.ts","webpack:///../../../src/components/VTextarea/VTextarea.ts","webpack:///./src/components/PipingUI.vue?9a7d","webpack:///../../../src/components/VGrid/grid.ts","webpack:///./node_modules/core-js/modules/es.typed-array.uint32-array.js"],"names":["EOF","$","DESCRIPTORS","USE_NATIVE_URL","global","bind","uncurryThis","defineBuiltIn","defineBuiltInAccessor","anInstance","hasOwn","assign","arrayFrom","arraySlice","codeAt","toASCII","$toString","setToStringTag","validateArgumentsLength","URLSearchParamsModule","InternalStateModule","setInternalState","set","getInternalURLState","getterFor","URLSearchParams","getInternalSearchParamsState","getState","NativeURL","URL","TypeError","parseInt","floor","Math","pow","charAt","exec","join","numberToString","toString","pop","push","replace","shift","split","stringSlice","slice","toLowerCase","unshift","INVALID_AUTHORITY","INVALID_SCHEME","INVALID_HOST","INVALID_PORT","ALPHA","ALPHANUMERIC","DIGIT","HEX_START","OCT","DEC","HEX","FORBIDDEN_HOST_CODE_POINT","FORBIDDEN_HOST_CODE_POINT_EXCLUDING_PERCENT","LEADING_AND_TRAILING_C0_CONTROL_OR_SPACE","TAB_AND_NEW_LINE","parseIPv4","input","partsLength","numbers","index","part","radix","number","ipv4","parts","length","parseIPv6","value","numbersSeen","ipv4Piece","swaps","swap","address","pieceIndex","compress","pointer","chr","findLongestZeroSequence","ipv6","maxIndex","maxLength","currStart","currLength","serializeHost","host","result","ignore0","C0ControlPercentEncodeSet","fragmentPercentEncodeSet","pathPercentEncodeSet","userinfoPercentEncodeSet","percentEncode","code","encodeURIComponent","specialSchemes","ftp","file","http","https","ws","wss","isWindowsDriveLetter","string","normalized","second","startsWithWindowsDriveLetter","third","isSingleDot","segment","isDoubleDot","SCHEME_START","SCHEME","NO_SCHEME","SPECIAL_RELATIVE_OR_AUTHORITY","PATH_OR_AUTHORITY","RELATIVE","RELATIVE_SLASH","SPECIAL_AUTHORITY_SLASHES","SPECIAL_AUTHORITY_IGNORE_SLASHES","AUTHORITY","HOST","HOSTNAME","PORT","FILE","FILE_SLASH","FILE_HOST","PATH_START","PATH","CANNOT_BE_A_BASE_URL_PATH","QUERY","FRAGMENT","URLState","url","isBase","base","baseState","failure","searchParams","urlString","this","parse","undefined","bindURL","prototype","type","stateOverride","codePoints","bufferCodePoints","state","buffer","seenAt","seenBracket","seenPasswordToken","scheme","username","password","port","path","query","fragment","cannotBeABaseURL","isSpecial","includesCredentials","i","codePoint","encodedCodePoints","parseHost","shortenPath","cannotHaveUsernamePasswordPort","pathSize","serialize","output","setHref","href","update","getOrigin","URLConstructor","origin","error","getProtocol","setProtocol","protocol","getUsername","setUsername","getPassword","setPassword","getHost","setHost","getHostname","setHostname","hostname","getPort","setPort","getPathname","setPathname","pathname","getSearch","setSearch","search","getSearchParams","facade","getHash","setHash","hash","that","URLPrototype","arguments","accessorDescriptor","getter","setter","get","configurable","enumerable","nativeCreateObjectURL","createObjectURL","nativeRevokeObjectURL","revokeObjectURL","constructor","forced","sham","maxInt","tMin","tMax","skew","damp","initialBias","initialN","delimiter","regexNonASCII","regexSeparators","OVERFLOW_ERROR","baseMinusTMin","$RangeError","RangeError","fromCharCode","String","charCodeAt","ucs2decode","counter","extra","digitToBasic","digit","adapt","delta","numPoints","firstTime","k","encode","currentValue","inputLength","n","bias","basicLength","handledCPCount","m","handledCPCountPlusOne","q","t","qMinusT","baseMinusT","module","exports","label","encoded","labels","isLeft","ma","_tag","left","e","right","a","Object","hasOwnProperty","__extends","extendStatics","d","b","setPrototypeOf","__proto__","Array","p","call","__","create","__assign","s","apply","failures","context","message","success","Type","name","is","validate","decode","pipe","ab","_this","c","asDecoder","asEncoder","key","actual","getFunctionName","f","displayName","appendContext","decoder","len","r","pushAll","xs","ys","l","getNameFromProps","props","keys","map","useIdentity","codecs","getInterfaceTypeName","getPartialTypeName","inner","mergeAll","us","equal","primitive","baseIsNotADictionary","UnknownRecord","_i","us_1","u","_a","us_2","NullType","_super","UndefinedType","undefinedType","VoidType","UnknownType","_","StringType","NumberType","BigIntType","BooleanType","AnyArrayType","isArray","UnknownArray","AnyDictionaryType","LiteralType","literal","JSON","stringify","KeyofType","RefinementType","predicate","brand","codec","refinement","Number","isInteger","RecursiveType","runDefinition","defineProperty","ArrayType","array","item","every","as","errors","ui","ai","InterfaceType","types","uk","o","ak","type_1","vak","PartialType","partial","type_2","DictionaryType","domain","codomain","UnionType","IntersectionType","intersection","TupleType","ReadonlyType","ReadonlyArrayType","ExactType","FunctionType","NeverType","TaggedUnionType","tag","Error","AnyType","ObjectType","StrictType","factory","isNode","HTMLElement","createStore","initialState","queries","actions","actionQueue","dispatchQueue","processActionQueue","queue","concat","processDispatchQueue","forEach","_ref","data","dispatch","isBlocking","document","hidden","actionHandlers","str","_queryHandles","_len","args","_key","queryHandles","api","action","obj","property","definition","forin","cb","createObject","attr","node","getAttribute","hasAttribute","setAttribute","ns","svgElements","isSVGElement","includes","createElement","className","attributes","element","createElementNS","appendChild","parent","child","children","insertBefore","appendChildView","childViews","view","splice","removeChildView","indexOf","parentNode","removeChild","IS_BROWSER","window","isBrowser","testElement","getChildCount","el","childNodes","getViewRect","elementRect","offset","scale","top","width","bottom","height","rect","outer","filter","childView","isRectIgnored","childViewRect","expandRect","calculateRectSize","marginBottom","marginRight","isNumber","thereYet","position","destination","velocity","errorMargin","abs","spring","_ref$stiffness","stiffness","_ref$damping","damping","_ref$mass","mass","target","resting","interpolate","ts","skipToEndState","onupdate","oncomplete","setTarget","easeInOutQuad","tween","_ref$duration","duration","_ref$easing","easing","_ref$delay","delay","start","reverse","animator","createAnimator","category","def","addGetSet","overwrite","animations","mixinConfig","viewProps","viewInternalAPI","viewExternalAPI","initialProps","animation","prop","write","destroy","addEvent","fn","addEventListener","removeEvent","removeEventListener","listeners","viewState","events","add","remove","on","off","findIndex","event","apis","isDefined","defaults","opacity","scaleX","scaleY","translateX","translateY","rotateX","rotateY","rotateZ","originX","originY","styles","currentProps","getOffset","getScale","getRect","propsHaveChanged","applyStyles","newProps","_ref2","perspective","transforms","elementCurrentStyle","style","cssText","Mixins","updateRect","layoutCalculated","paddingTop","marginTop","marginLeft","offsetLeft","offsetTop","offsetWidth","offsetHeight","scrollTop","offsetParent","createView","_ref$tag","_ref$name","_ref$attributes","_ref$read","read","_ref$write","_ref$create","_ref$destroy","_ref$filterFrameActio","filterFrameActionsForChild","_ref$didCreateView","didCreateView","_ref$didWriteView","didWriteView","_ref$ignoreRect","ignoreRect","_ref$ignoreRectUpdate","ignoreRectUpdate","_ref$mixins","mixins","store","getComputedStyle","frameRect","isResting","activeMixins","ref","writers","readers","destroyers","getElement","getChildViews","getReference","createChildView","getStyle","_read","shouldUpdate","root","internalAPI","reader","_write","frameActions","shouldOptimize","writer","writerResting","timestamp","mixin","mixinResting","childResting","_destroy","destroyer","sharedAPIDefinition","internalAPIDefinition","needle","linkView","unlinkView","registerWriter","registerReader","registerDestroyer","invalidateLayout","externalAPIDefinition","mixinAPIDefinition","sort","mixinAPI","childCount","createPainter","fps","painter","interval","last","id","requestTick","cancelTick","setTimerType","setTimeout","tick","performance","now","clearTimeout","requestAnimationFrame","cancelAnimationFrame","pause","createRoute","routes","_ref$actions","newNode","referenceNode","insertAfter","nextSibling","isEmpty","trim","toArray","splitter","isBoolean","toBoolean","isString","toNumber","toInt","toFloat","parseFloat","isInt","isFinite","toBytes","naturalFileSize","test","isFunction","toFunctionReference","self","levels","level","methods","process","patch","revert","fetch","restore","load","createServerAPI","outline","timeout","headers","createAction","method","withCredentials","onload","ondata","onerror","header","toServerAPI","isNull","isObject","isAPI","getType","replaceSingleQuotes","conversionTable","boolean","int","float","bytes","function","serverapi","object","convertTo","getValueByType","newValue","defaultValue","valueType","newValueType","convertedValue","option","createOption","createOptions","options","optionDefinition","createInitialState","items","listUpdateTimeout","itemUpdateTimeout","processingQueue","fromCamels","separator","createOptionAPI","toUpperCase","createOptionActions","createOptionQueries","InteractionMethod","API","DROP","BROWSE","PASTE","NONE","getUniqueId","random","substring","_AwaitValue","wrapped","_AsyncGenerator","gen","front","back","send","arg","Promise","resolve","reject","request","next","resume","wrappedAwait","then","settle","done","err","_invoke","return","_objectWithoutPropertiesLoose","source","excluded","sourceKeys","_objectWithoutProperties","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","Symbol","asyncIterator","throw","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","arr2","iter","iterator","from","arrayRemove","run","sync","listener","_fire","fireSync","fire","_len2","_key2","onOnce","_cb","copyObjectPropertiesToObject","src","getOwnPropertyNames","getOwnPropertyDescriptor","PRIVATE","createItemAPI","removeReleasedItems","released","ItemStatus","INIT","IDLE","PROCESSING_QUEUED","PROCESSING","PROCESSING_COMPLETE","PROCESSING_ERROR","PROCESSING_REVERT_ERROR","LOADING","LOAD_ERROR","FileOrigin","INPUT","LIMBO","LOCAL","getNonNumeric","getDecimalSeparator","toLocaleString","getThousandsSeparator","decimalSeparator","thousandsStringWithSeparator","thousandsStringWithoutSeparator","BOOLEAN","INT","NUMBER","STRING","ARRAY","OBJECT","FUNCTION","ACTION","SERVER_API","REGEX","filters","applyFilterChain","utils","matchingFilters","initialFilter","reduce","current","catch","applyFilters","addFilter","extendDefaultOptions","additionalOptions","defaultOptions","getOptions","setOptions","opts","disabled","required","captureMethod","allowSyncAcceptAttribute","allowDrop","allowBrowse","allowPaste","allowMultiple","allowReplace","allowRevert","allowRemove","allowProcess","allowReorder","allowDirectoriesOnly","storeAsFile","forceRevert","maxFiles","checkValidity","itemInsertLocationFreedom","itemInsertLocation","itemInsertInterval","dropOnPage","dropOnElement","dropValidation","ignoredFiles","instantUpload","maxParallelUploads","allowMinimumUploadDuration","chunkUploads","chunkForce","chunkSize","chunkRetryDelays","server","fileSizeBase","labelFileSizeBytes","labelFileSizeKilobytes","labelFileSizeMegabytes","labelFileSizeGigabytes","labelDecimalSeparator","labelThousandsSeparator","labelIdle","labelInvalidField","labelFileWaitingForSize","labelFileSizeNotAvailable","labelFileCountSingular","labelFileCountPlural","labelFileLoading","labelFileAdded","labelFileLoadError","labelFileRemoved","labelFileRemoveError","labelFileProcessing","labelFileProcessingComplete","labelFileProcessingAborted","labelFileProcessingError","labelFileProcessingRevertError","labelTapToCancel","labelTapToRetry","labelTapToUndo","labelButtonRemoveItem","labelButtonAbortItemLoad","labelButtonRetryItemLoad","labelButtonAbortItemProcessing","labelButtonUndoItemProcessing","labelButtonRetryItemProcessing","labelButtonProcessItem","iconRemove","iconProcess","iconRetry","iconUndo","iconDone","oninit","onwarning","onactivatefile","oninitfile","onaddfilestart","onaddfileprogress","onaddfile","onprocessfilestart","onprocessfileprogress","onprocessfileabort","onprocessfilerevert","onprocessfile","onprocessfiles","onremovefile","onpreparefile","onupdatefiles","onreorderfiles","beforeDropFile","beforeAddFile","beforeRemoveFile","beforePrepareFile","stylePanelLayout","stylePanelAspectRatio","styleItemPanelAspectRatio","styleButtonRemoveItemPosition","styleButtonProcessItemPosition","styleLoadIndicatorPosition","styleProgressIndicatorPosition","styleButtonRemoveItemAlign","files","credits","getItemByQuery","find","getNumericAspectRatioFromString","aspectRatio","getActiveItems","archived","Status","EMPTY","ERROR","BUSY","READY","res","canUpdateFileInput","dataTransfer","DataTransfer","File","ITEM_ERROR","ITEM_BUSY","ITEM_READY","isItemInErrorState","status","isItemInBusyState","isItemInReadyState","isAsync","GET_STATUS","some","GET_ITEM","GET_ACTIVE_ITEM","GET_ACTIVE_ITEMS","GET_ITEMS","GET_ITEM_NAME","filename","GET_ITEM_SIZE","fileSize","GET_STYLES","GET_PANEL_ASPECT_RATIO","isShapeCircle","GET_ITEM_PANEL_ASPECT_RATIO","GET_ITEMS_BY_STATUS","GET_TOTAL_ITEMS","SHOULD_UPDATE_FILE_INPUT","IS_ASYNC","GET_FILE_SIZE_LABELS","labelBytes","labelKilobytes","labelMegabytes","labelGigabytes","hasRoomForItem","count","maxFileCount","limit","min","max","arrayInsert","insertItem","isBase64DataURI","getFilenameFromURL","getExtensionFromFilename","guesstimateExtension","subtype","leftPad","padding","getDateString","date","Date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getFileFromBlob","blob","extension","size","lastModifiedDate","_relativePath","getBlobBuilder","BlobBuilder","WebKitBlobBuilder","MozBlobBuilder","MSBlobBuilder","createBlob","arrayBuffer","mimeType","BB","bb","append","getBlob","Blob","getBlobFromByteStringWithMimeType","byteString","ArrayBuffer","ia","Uint8Array","getMimeTypeFromBase64DataURI","dataURI","getBase64DataFromBase64DataURI","getByteStringFromBase64DataURI","atob","getBlobFromBase64DataURI","getFileFromBase64DataURI","getFileNameFromHeader","matches","decodeURI","getFileSizeFromHeader","match","getTranfserIdFromHeader","getFileInfoFromHeaders","info","rows","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","createFileLoader","fetchFn","complete","progress","getProgress","abort","loadURL","response","body","computable","total","fileinfo","setSource","isGet","sendRequest","onheaders","onprogress","ontimeout","onabort","aborted","xhr","headersReceived","encodeURI","XMLHttpRequest","upload","lengthComputable","loaded","onreadystatechange","readyState","open","unescape","setRequestHeader","responseType","createResponse","createTimeoutResponse","getAllResponseHeaders","hasQS","buildURL","createFetchFunction","apiUrl","statusText","ChunkStatus","QUEUED","COMPLETE","WAITING","processFileChunked","metadata","transfer","chunks","chunkTransferId","chunkServer","serverId","fd","getResponseHeader","requestTransferId","formData","FormData","requestParams","requestTransferOffset","requestUrl","lastChunkIndex","retries","completeProcessingChunks","canProcessChunk","chunk","processChunk","processChunks","updateTotalProgress","retryProcessChunk","totalBytesTransfered","totalSize","totalProcessing","abortChunks","createFileProcessorFunction","canChunkUpload","shouldChunkUpload","willChunkUpload","createProcessorFunction","params","createRevertFunction","uniqueFileId","getRandomNumber","createPerceivedPerformanceUpdater","tickMin","tickMax","runtime","clear","createFileProcessor","processFn","perceivedProgress","perceivedPerformanceUpdater","perceivedDuration","progressFn","completeFn","transferId","reset","getDuration","getFilenameWithoutExtension","lastIndexOf","createFileStub","isFile","deepCloneObject","v","createItem","serverFileReference","frozen","processingAborted","activeLoader","activeProcessor","abortProcessingRequestComplete","setStatus","getFileExtension","getFileType","getFileSize","getFile","loader","meta","retryLoad","abortLoad","processor","onprocess","console","requestProcessing","abortProcessing","revertFileUpload","serverTransferId","_setMetadata","silent","getMetadata","filenameWithoutExtension","fileExtension","fileType","relativePath","setMetadata","extend","handler","itemAPI","freeze","release","archive","getItemIndexByQuery","getItemById","itemId","fetchBlob","getDomainFromURL","location","isExternalURL","dynamicLabel","isMockItem","listUpdated","optionalPromise","sortItems","compare","getItemByQueryFromState","itemHandler","_ref$success","_ref$failure","ABORT_ALL","DID_SET_FILES","_ref2$value","activeItems","interactionMethod","DID_UPDATE_ITEM_METADATA","_ref3","change","doUpload","shouldPrepareOutput","MOVE_ITEM","_ref4","currentIndex","SORT","_ref5","ADD_ITEMS","_ref6","_ref6$success","_ref6$failure","insertLocation","totalItems","isValidFile","validItems","promises","all","ADD_ITEM","_ref7","_ref7$index","_ref7$success","_ref7$failure","_ref7$options","_item","mainStatus","main","sub","handleAdd","shouldAdd","loadComplete","_ref8","REQUEST_PREPARE_OUTPUT","_ref9","_ref9$failure","COMPLETE_LOAD_ITEM","_ref10","RETRY_ITEM_LOAD","REQUEST_ITEM_PREPARE","_success","REQUEST_ITEM_PROCESSING","itemCanBeQueuedForProcessing","processNow","PROCESS_ITEM","totalCurrentUploads","processNext","queueEntry","itemReference","noop","allItemsProcessed","RETRY_ITEM_PROCESSING","REQUEST_REMOVE_ITEM","shouldRemove","RELEASE_ITEM","REMOVE_ITEM","removeFromView","ABORT_ITEM_LOAD","ABORT_ITEM_PROCESSING","REQUEST_REVERT_ITEM_PROCESSING","handleRevert","shouldRevert","requestRemoveResult","REVERT_ITEM_PROCESSING","SET_OPTIONS","_ref11","optionKeys","prioritizedOptionKeys","PrioritizedOptions","orderedOptionKeys","formatFilename","createElement$1","tagName","text","textNode","nodeValue","createTextNode","polarToCartesian","centerX","centerY","radius","angleInDegrees","angleInRadians","PI","x","cos","y","sin","describeArc","startAngle","endAngle","arcSweep","end","percentageArc","to","spin","svg","align","dataset","ringStrokeWidth","ringFrom","ringTo","coordinates","progressIndicator","create$1","innerHTML","icon","isDisabled","write$1","shouldDisable","removeAttribute","fileActionButton","toNaturalFileSize","_options$labelBytes","_options$labelKilobyt","_options$labelMegabyt","_options$labelGigabyt","round","KB","MB","GB","removeDecimalsWhenZero","decimalCount","toFixed","create$2","fileName","updateFile","updateFileSizeOnError","fileInfo","DID_LOAD_ITEM","DID_UPDATE_ITEM_META","DID_THROW_ITEM_LOAD_ERROR","DID_THROW_ITEM_INVALID","toPercentage","create$3","didSetItemLoadProgress","title","didSetItemProcessProgress","didRequestItemProcessing","didAbortItemProcessing","didCompleteItemProcessing","fileStatus","DID_REVERT_ITEM_PROCESSING","DID_REQUEST_ITEM_PROCESSING","DID_ABORT_ITEM_PROCESSING","DID_COMPLETE_ITEM_PROCESSING","DID_UPDATE_ITEM_PROCESS_PROGRESS","DID_UPDATE_ITEM_LOAD_PROGRESS","DID_THROW_ITEM_PROCESSING_ERROR","DID_THROW_ITEM_PROCESSING_REVERT_ERROR","DID_THROW_ITEM_REMOVE_ERROR","Buttons","AbortItemLoad","RetryItemLoad","RemoveItem","ProcessItem","AbortItemProcessing","RetryItemProcessing","RevertItemProcessing","ButtonKeys","calculateFileInfoOffset","getRemoveIndicatorAligment","buttonRect","buttonRemoveItem","calculateButtonWidth","buttonAbortItemLoad","calculateFileVerticalCenterOffset","calculateFileHorizontalCenterOffset","getLoadIndicatorAlignment","getProcessIndicatorAlignment","DefaultStyle","buttonRetryItemLoad","buttonProcessItem","buttonAbortItemProcessing","buttonRetryItemProcessing","buttonRevertItemProcessing","loadProgressIndicator","processProgressIndicator","processingCompleteIndicator","IdleStyle","ProcessingStyle","StyleMap","DID_START_ITEM_LOAD","DID_START_ITEM_REMOVE","DID_LOAD_LOCAL_ITEM","DID_START_ITEM_PROCESSING","processingCompleteIndicatorView","create$4","buttonFilter","LocalButtons","prev","curr","alignRemoveItemButton","enabledButtons","_map","buttonView","classList","stopPropagation","loadIndicatorView","progressIndicatorView","activeStyles","write$2","route","stylesToApply","defaultStyles","control","DID_SET_LABEL_BUTTON_ABORT_ITEM_PROCESSING","DID_SET_LABEL_BUTTON_ABORT_ITEM_LOAD","DID_SET_LABEL_BUTTON_ABORT_ITEM_REMOVAL","buttonAbortItemRemoval","_ref12","create$5","didLoadItem","fileWrapper","PANEL_SPRING_PROPS","create$6","section","createSection","scalable","viewConstructor","write$3","topRect","bottomRect","center","panel","heightCurrent","createDragHelper","itemIds","prevIndex","setIndex","getIndex","getItemIndex","ITEM_TRANSLATE_SPRING","ITEM_SCALE_SPRING","StateMap","create$7","handleClick","container","markedForRemoval","dragState","grab","isPrimary","removedActivateListener","pageX","pageY","dragOrigin","dragCenter","offsetX","offsetY","drag","preventDefault","dragOffset","dist","drop","route$1","DID_UPDATE_PANEL_HEIGHT","write$4","DID_GRAB_ITEM","DID_DRAG_ITEM","DID_DROP_ITEM","currentState","filepondItemState","getItemsPerRow","horizontalSpace","itemWidth","getItemIndexByPosition","positionInView","itemRect","itemHorizontalMargin","itemsPerRow","childMid","itemVerticalMargin","itemHeight","_index","indexX","indexY","itemTop","itemRight","itemBottom","dropAreaDimensions","val","setDimensions","create$8","lastItemSpanwDate","addItemView","addIndex","spawnDate","cooldown","moveItem","vx","vy","introItemView","removeItemView","getItemHeight","getItemWidth","dragItem","numItems","oldIndex","dragPosition","dragHeight","dragWidth","cols","setHeight","setWidth","getGridIndex","getHeight","getWidth","getColIndex","visibleChildren","idx","childHeight","childBottom","childTop","route$2","DID_ADD_ITEM","DID_REMOVE_ITEM","write$5","dragCoordinates","dragIndex","dragIndexOffset","removeIndexOffset","addIndexOffset","childRect","visualHeight","prevX","prevY","visualIndex","vectorX","sign","vectorY","filterSetItemActions","list","create$9","overflowing","storeDragCoordinates","scopeLeft","scopeTop","clearDragCoordinates","route$3","DID_DRAG","DID_END_DRAG","write$6","overflow","newHeight","listScroller","attrToggle","enabledValue","resetFileInput","form","create$a","setAcceptedFileTypes","toggleAllowMultiple","toggleDirectoryFilter","toggleDisabled","toggleRequired","setCaptureMethod","handleChange","webkitRelativePath","doesAllowBrowse","disableField","updateRequiredStatus","shouldCheckValidity","setCustomValidity","updateFieldValidityStatus","browser","DID_SET_DISABLED","DID_SET_ALLOW_BROWSE","DID_SET_ALLOW_DIRECTORIES_ONLY","DID_SET_ALLOW_MULTIPLE","DID_SET_ACCEPTED_FILE_TYPES","DID_SET_CAPTURE_METHOD","DID_SET_REQUIRED","Key","ENTER","SPACE","create$b","handleKeyDown","isActivationKey","keyCode","click","isLabelClick","contains","updateLabelValue","caption","clickable","querySelector","dropLabel","DID_SET_LABEL_IDLE","addBlob","moveBlob","hideBlob","explodeBlob","write$7","route$4","DID_DROP","drip","setInputFiles","create$c","fields","getField","syncFieldPositionsWithItems","didReorderItems","didAddItem","fileItem","isLocalFile","shouldUseFileInput","dataContainer","didLoadItem$1","field","didPrepareOutput","didSetDisabled","didRemoveItem","didDefineValue","write$8","DID_DEFINE_VALUE","DID_PREPARE_OUTPUT","DID_REORDER_ITEMS","DID_SORT_ITEMS","getRootNode","images","text$1","zip","epub","guesstimateMimeType","requestDataTransferItems","links","getLinks","hasFiles","getFiles","promisedFiles","isFileSystemItem","getFilesFromItem","returnedFileGroups","group","isEntry","entry","getAsEntry","isDirectory","kind","isDirectoryEntry","getFilesInDirectory","getAsFile","dirCounter","fileCounter","resolveIfDone","readEntries","dirEntry","directoryReader","createReader","readBatch","entries","correctedFile","correctMissingFileType","fullPath","webkitGetAsEntry","getLinksFromTransferMetaData","getLinksFromTransferURLData","getData","dragNDropObservers","eventPosition","pageLeft","pageTop","layerX","layerY","createDragNDropClient","scopeToObserve","filterElement","observer","getDragNDropObserver","client","ondrop","onenter","ondrag","onexit","allowdrop","addListener","newObserver","createDragNDropObserver","clients","dragenter","dragover","dragleave","handlers","createHandler","elementFromPoint","point","isEventTarget","elementAtPosition","pageXOffset","pageYOffset","initialTarget","setDropEffect","effect","dropEffect","overDropTarget","allowsTransfer","createHopper","scope","validateItems","catchesDropsOnPage","requiresDropOnElement","_options$filterItems","filterItems","documentElement","lastState","filteredItems","ondragend","ondragstart","updateHopperState","hopperState","listening","listeners$1","handlePaste","activeEl","activeElement","nodeName","inScope","clipboardData","listen","unlisten","createPaster","create$d","addFilesNotificationTimeout","notificationClearTimeout","filenames","assist","textContent","clear$1","listModified","isUsingFilePond","itemAdded","itemRemoved","itemProcessed","itemProcessedUndo","itemError","assistant","toCamels","RegExp","debounce","func","immidiateOnly","MAX_FILES_LIMIT","prevent","create$e","measure","bounds","widthPrevious","widthUpdated","updateHistory","previousAspectRatio","canHover","matchMedia","hasPointerEvents","passive","hasCredits","frag","tabindex","rel","write$9","route$5","calculateRootBoundingBoxHeight","_root$ref","hopper","isMultiItem","maxItems","atMaxCapacity","addAction","listItemMargin","calculateListItemMargin","listHeight","calculateListHeight","labelHeight","currentLabelHeight","listMarginTop","listMarginBottom","visual","boundsHeight","history","MAX_BOUNCES","bounces","listAvailableHeight","fixedHeight","_listAvailableHeight","cappedHeight","isCappedHeight","panelHeight","_listAvailableHeight2","itemMargin","transform","scrollList","itemList","newItem","removedItem","verticalItemCount","ceil","measureHeight","maxHeight","exceedsMaxFiles","totalBrowseItems","hasMaxItems","getDragIndex","toggleDrop","isAllowed","enabled","toggleBrowse","togglePaste","paster","DID_SET_ALLOW_DROP","DID_SET_ALLOW_PASTE","createApp","initialOptions","originalElement","visibilityHandler","resizeDoneTimer","isResizing","isResizingHorizontally","initialWindowWidth","currentWindowWidth","resizeHandler","isHidden","readWriteApi","innerWidth","routeActionsToEvents","createEvent","eventRoutes","DID_DESTROY","DID_INIT","DID_THROW_MAX_FILES","DID_INIT_ITEM","DID_COMPLETE_ITEM_PROCESSING_ALL","DID_UPDATE_ITEMS","DID_ACTIVATE_ITEM","exposeEvent","detail","pond","dispatchEvent","CustomEvent","bubbles","cancelable","composed","filtered","prepareFile","addFile","addFiles","isFilePondFile","removeFile","sources","lastArgument","processFile","prepareFiles","processFiles","_len3","_key3","removeFiles","_len4","_key4","mappedQueries","moveFile","browse","appendTo","replaceElement","restoreElement","isAttachedTo","createAppObject","customOptions","app","lowerCaseFirstLetter","attributeNameToPropertyName","attributeName","mapObject","propertyMap","selector","mapping","selectorRegExp","getAttributesAsObject","attributeMapping","attribute","createAppAtElement","mergedOptions","attributeOptions","querySelectorAll","createApp$1","PRIVATE_METHODS","createAppAPI","replaceInString","replacements","createWorker","workerBlob","workerURL","worker","Worker","post","transferList","onmessage","postMessage","terminate","loadImage","img","Image","renameFile","renamedFile","copyFile","registeredPlugins","createAppPlugin","plugin","pluginOutline","views","isOperaMini","operamini","hasPromises","hasBlobSlice","hasCreateObjectURL","hasVisibility","hasTiming","hasCSSSupports","CSS","isIE11","navigator","userAgent","supported","isSupported","apps","FileStatus","OptionTypes","registerPlugin","updateOptionTypes","hook","indexToRemove","matchedHooks","newHooks","newHook","plugins","_vm","_h","$createElement","_c","_self","attrs","staticStyle","model","callback","$$v","sendOrGet","expression","_v","_s","strings","icons","mdiUpload","mdiDownload","directives","rawName","class","scopedSlots","_u","staticClass","mdiText","proxy","isTextMode","_e","filePondLabelIdle","mdiClose","inputText","serverUrlHistory","$event","onUpdateServerUrl","attachProtocolToUrl","deleteServerUrl","mdiDelete","serverUrl","secretPathHistory","deleteSecretPath","secretPath","suggestedSecretPaths","_l","suggestedSecretPath","protectionType","onEnablePasswordlessProtection","mdiShieldHalfFull","onEnablePasswordProtection","mdiKey","showsPassword","mdiEye","mdiEyeOff","mdiFileFind","expandedPanelIds","expandedPanel","showsSnackbar","snackbarMessage","staticRenderFns","pipingServerUrls","urlJoinAsync","default","DataUploader","DataViewer","DataDownloader","FilePond","vueFilePond","defaultServerUrls","normalizeUrl","loadLocalStorage","typeC","localStorage","getItem","either","chars","nonConfusing","alphanum","randomStr","randomArr","crypto","getRandomValues","Uint32Array","getShareTargetText","shareTargetText","show","loadedBytes","totalBytes","mdi","latestServerUrl","latestSecretPath","language","shouldBeRemoved","setItem","selectedServerUrl","randomStrs","candidates","ext","endsWith","enable","updateRandomStrs","$refs","server_url_ref","$el","ev","secret_path_ref","applyLatestServerUrlAndSecretPath","showSnackbar","uploadCount","expandedPanels","uploadNo","protection","recordsServerUrlHistory","recordsSecretPathHistory","addSecretPath","downloadCount","downloadNo","enablePasswordProtection","viewCount","viewNo","components","provide","btnToggle","computed","classes","genData","backgroundColor","borderless","dense","rounded","shaped","tile","Boolean","themeClasses","setTextColor","setBackgroundColor","breakpoints","breakpointProps","offsetProps","orderProps","propMap","col","order","breakpointClass","breakpoint","cache","functional","alignSelf","validator","render","cacheKey","hasColClasses","h","mergeData","defaultMenuProps","offsetOverflow","transition","VSelect","allowOverflow","autoSelectFirst","itemText","queryText","hideNoData","menuProps","noFilter","searchInput","lazySearch","selectedIndex","computedItems","selectedValues","selectedItems","hasDisplayedItems","hideSelected","currentRange","selectedItem","getText","internalSearch","allItems","$emit","isAnyValueAllowed","isDirty","searchIsDirty","isSearching","multiple","menuCanShow","$_menuProps","listData","watch","internalValue","isFocused","blur","updateSelf","isMenuActive","oldVal","activateMenu","created","destroyed","onFilteredItemsChanged","preSelectedItem","menu","setMenuIndex","$nextTick","onInternalSearchChanged","updateMenuDimensions","changeSelectedIndex","deleteCurrentItem","curIndex","curItem","getDisabled","lastIndex","nextIndex","nextItem","selectItem","setValue","clearableCallback","genInput","VTextField","autocomplete","domProps","genInputSlot","slot","genSelections","hasSlot","onClick","isAppendInner","onInput","badInput","onKeyDown","onSpaceDown","onTabDown","onUpDown","setSelectedItems","valueComparator","getValue","hasItem","onCopy","currentItem","currentItemText","delimiters","returnObject","editingIndex","computedCounterValue","$slots","updateTags","genChipSelection","chip","dblclick","onChipInput","onEnterDown","getMenuIndex","selectionStart","updateEditing","toLocaleLowerCase","updateCombobox","isUsingSlot","$scopedSlots","menuIndex","itemToSelect","onPaste","pastedItemText","findExistingIndex","expansionPanels","accordion","flat","hover","focusable","inset","popout","readonly","$attrs","updateItem","nextValue","toggleMethod","ALIGNMENT","makeProps","prefix","alignValidator","alignProps","justifyValidator","justifyProps","alignContentValidator","alignContentProps","justify","alignContent","classMap","noGutters","centered","contentClass","multiLine","vertical","activeTimeout","hasBackground","isDark","absolute","$vuetify","paddingBottom","paddingLeft","paddingRight","bar","isActive","mounted","genActions","genContent","role","genWrapper","setColor","VSheet","pointerenter","pointerleave","genTransition","baseMixins","autoGrow","noResize","rowHeight","isNaN","noResizeHandle","lazyValue","calculateInputHeight","minHeight","component","VBtn","VBtnToggle","VCard","VChip","VCol","VCombobox","VExpansionPanels","VFlex","VIcon","VLayout","VListItemAction","VRow","VSnackbar","VSwitch","VTextarea","createTypedArrayConstructor","init","byteOffset"],"mappings":"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","file":"js/chunk-6d7b944a.5f311d56.js","sourcesContent":["import './_grid.sass'\n\nimport Grid from './grid'\n\nexport default Grid('flex')\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PipingUI.vue?vue&type=style&index=0&id=52cc8bba&scoped=true&lang=css&\"","// TODO: Remove this module from `core-js@4` since it's replaced to module below\nrequire('../modules/web.url.constructor');\n","'use strict';\n// TODO: in core-js@4, move /modules/ dependencies to public entries for better optimization by tools like `preset-env`\nrequire('../modules/es.string.iterator');\nvar $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar USE_NATIVE_URL = require('../internals/native-url');\nvar global = require('../internals/global');\nvar bind = require('../internals/function-bind-context');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar defineBuiltIn = require('../internals/define-built-in');\nvar defineBuiltInAccessor = require('../internals/define-built-in-accessor');\nvar anInstance = require('../internals/an-instance');\nvar hasOwn = require('../internals/has-own-property');\nvar assign = require('../internals/object-assign');\nvar arrayFrom = require('../internals/array-from');\nvar arraySlice = require('../internals/array-slice-simple');\nvar codeAt = require('../internals/string-multibyte').codeAt;\nvar toASCII = require('../internals/string-punycode-to-ascii');\nvar $toString = require('../internals/to-string');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar validateArgumentsLength = require('../internals/validate-arguments-length');\nvar URLSearchParamsModule = require('../modules/web.url-search-params.constructor');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar setInternalState = InternalStateModule.set;\nvar getInternalURLState = InternalStateModule.getterFor('URL');\nvar URLSearchParams = URLSearchParamsModule.URLSearchParams;\nvar getInternalSearchParamsState = URLSearchParamsModule.getState;\n\nvar NativeURL = global.URL;\nvar TypeError = global.TypeError;\nvar parseInt = global.parseInt;\nvar floor = Math.floor;\nvar pow = Math.pow;\nvar charAt = uncurryThis(''.charAt);\nvar exec = uncurryThis(/./.exec);\nvar join = uncurryThis([].join);\nvar numberToString = uncurryThis(1.0.toString);\nvar pop = uncurryThis([].pop);\nvar push = uncurryThis([].push);\nvar replace = uncurryThis(''.replace);\nvar shift = uncurryThis([].shift);\nvar split = uncurryThis(''.split);\nvar stringSlice = uncurryThis(''.slice);\nvar toLowerCase = uncurryThis(''.toLowerCase);\nvar unshift = uncurryThis([].unshift);\n\nvar INVALID_AUTHORITY = 'Invalid authority';\nvar INVALID_SCHEME = 'Invalid scheme';\nvar INVALID_HOST = 'Invalid host';\nvar INVALID_PORT = 'Invalid port';\n\nvar ALPHA = /[a-z]/i;\n// eslint-disable-next-line regexp/no-obscure-range -- safe\nvar ALPHANUMERIC = /[\\d+-.a-z]/i;\nvar DIGIT = /\\d/;\nvar HEX_START = /^0x/i;\nvar OCT = /^[0-7]+$/;\nvar DEC = /^\\d+$/;\nvar HEX = /^[\\da-f]+$/i;\n/* eslint-disable regexp/no-control-character -- safe */\nvar FORBIDDEN_HOST_CODE_POINT = /[\\0\\t\\n\\r #%/:<>?@[\\\\\\]^|]/;\nvar FORBIDDEN_HOST_CODE_POINT_EXCLUDING_PERCENT = /[\\0\\t\\n\\r #/:<>?@[\\\\\\]^|]/;\nvar LEADING_AND_TRAILING_C0_CONTROL_OR_SPACE = /^[\\u0000-\\u0020]+|[\\u0000-\\u0020]+$/g;\nvar TAB_AND_NEW_LINE = /[\\t\\n\\r]/g;\n/* eslint-enable regexp/no-control-character -- safe */\nvar EOF;\n\n// https://url.spec.whatwg.org/#ipv4-number-parser\nvar parseIPv4 = function (input) {\n  var parts = split(input, '.');\n  var partsLength, numbers, index, part, radix, number, ipv4;\n  if (parts.length && parts[parts.length - 1] == '') {\n    parts.length--;\n  }\n  partsLength = parts.length;\n  if (partsLength > 4) return input;\n  numbers = [];\n  for (index = 0; index < partsLength; index++) {\n    part = parts[index];\n    if (part == '') return input;\n    radix = 10;\n    if (part.length > 1 && charAt(part, 0) == '0') {\n      radix = exec(HEX_START, part) ? 16 : 8;\n      part = stringSlice(part, radix == 8 ? 1 : 2);\n    }\n    if (part === '') {\n      number = 0;\n    } else {\n      if (!exec(radix == 10 ? DEC : radix == 8 ? OCT : HEX, part)) return input;\n      number = parseInt(part, radix);\n    }\n    push(numbers, number);\n  }\n  for (index = 0; index < partsLength; index++) {\n    number = numbers[index];\n    if (index == partsLength - 1) {\n      if (number >= pow(256, 5 - partsLength)) return null;\n    } else if (number > 255) return null;\n  }\n  ipv4 = pop(numbers);\n  for (index = 0; index < numbers.length; index++) {\n    ipv4 += numbers[index] * pow(256, 3 - index);\n  }\n  return ipv4;\n};\n\n// https://url.spec.whatwg.org/#concept-ipv6-parser\n// eslint-disable-next-line max-statements -- TODO\nvar parseIPv6 = function (input) {\n  var address = [0, 0, 0, 0, 0, 0, 0, 0];\n  var pieceIndex = 0;\n  var compress = null;\n  var pointer = 0;\n  var value, length, numbersSeen, ipv4Piece, number, swaps, swap;\n\n  var chr = function () {\n    return charAt(input, pointer);\n  };\n\n  if (chr() == ':') {\n    if (charAt(input, 1) != ':') return;\n    pointer += 2;\n    pieceIndex++;\n    compress = pieceIndex;\n  }\n  while (chr()) {\n    if (pieceIndex == 8) return;\n    if (chr() == ':') {\n      if (compress !== null) return;\n      pointer++;\n      pieceIndex++;\n      compress = pieceIndex;\n      continue;\n    }\n    value = length = 0;\n    while (length < 4 && exec(HEX, chr())) {\n      value = value * 16 + parseInt(chr(), 16);\n      pointer++;\n      length++;\n    }\n    if (chr() == '.') {\n      if (length == 0) return;\n      pointer -= length;\n      if (pieceIndex > 6) return;\n      numbersSeen = 0;\n      while (chr()) {\n        ipv4Piece = null;\n        if (numbersSeen > 0) {\n          if (chr() == '.' && numbersSeen < 4) pointer++;\n          else return;\n        }\n        if (!exec(DIGIT, chr())) return;\n        while (exec(DIGIT, chr())) {\n          number = parseInt(chr(), 10);\n          if (ipv4Piece === null) ipv4Piece = number;\n          else if (ipv4Piece == 0) return;\n          else ipv4Piece = ipv4Piece * 10 + number;\n          if (ipv4Piece > 255) return;\n          pointer++;\n        }\n        address[pieceIndex] = address[pieceIndex] * 256 + ipv4Piece;\n        numbersSeen++;\n        if (numbersSeen == 2 || numbersSeen == 4) pieceIndex++;\n      }\n      if (numbersSeen != 4) return;\n      break;\n    } else if (chr() == ':') {\n      pointer++;\n      if (!chr()) return;\n    } else if (chr()) return;\n    address[pieceIndex++] = value;\n  }\n  if (compress !== null) {\n    swaps = pieceIndex - compress;\n    pieceIndex = 7;\n    while (pieceIndex != 0 && swaps > 0) {\n      swap = address[pieceIndex];\n      address[pieceIndex--] = address[compress + swaps - 1];\n      address[compress + --swaps] = swap;\n    }\n  } else if (pieceIndex != 8) return;\n  return address;\n};\n\nvar findLongestZeroSequence = function (ipv6) {\n  var maxIndex = null;\n  var maxLength = 1;\n  var currStart = null;\n  var currLength = 0;\n  var index = 0;\n  for (; index < 8; index++) {\n    if (ipv6[index] !== 0) {\n      if (currLength > maxLength) {\n        maxIndex = currStart;\n        maxLength = currLength;\n      }\n      currStart = null;\n      currLength = 0;\n    } else {\n      if (currStart === null) currStart = index;\n      ++currLength;\n    }\n  }\n  if (currLength > maxLength) {\n    maxIndex = currStart;\n    maxLength = currLength;\n  }\n  return maxIndex;\n};\n\n// https://url.spec.whatwg.org/#host-serializing\nvar serializeHost = function (host) {\n  var result, index, compress, ignore0;\n  // ipv4\n  if (typeof host == 'number') {\n    result = [];\n    for (index = 0; index < 4; index++) {\n      unshift(result, host % 256);\n      host = floor(host / 256);\n    } return join(result, '.');\n  // ipv6\n  } else if (typeof host == 'object') {\n    result = '';\n    compress = findLongestZeroSequence(host);\n    for (index = 0; index < 8; index++) {\n      if (ignore0 && host[index] === 0) continue;\n      if (ignore0) ignore0 = false;\n      if (compress === index) {\n        result += index ? ':' : '::';\n        ignore0 = true;\n      } else {\n        result += numberToString(host[index], 16);\n        if (index < 7) result += ':';\n      }\n    }\n    return '[' + result + ']';\n  } return host;\n};\n\nvar C0ControlPercentEncodeSet = {};\nvar fragmentPercentEncodeSet = assign({}, C0ControlPercentEncodeSet, {\n  ' ': 1, '\"': 1, '<': 1, '>': 1, '`': 1\n});\nvar pathPercentEncodeSet = assign({}, fragmentPercentEncodeSet, {\n  '#': 1, '?': 1, '{': 1, '}': 1\n});\nvar userinfoPercentEncodeSet = assign({}, pathPercentEncodeSet, {\n  '/': 1, ':': 1, ';': 1, '=': 1, '@': 1, '[': 1, '\\\\': 1, ']': 1, '^': 1, '|': 1\n});\n\nvar percentEncode = function (chr, set) {\n  var code = codeAt(chr, 0);\n  return code > 0x20 && code < 0x7F && !hasOwn(set, chr) ? chr : encodeURIComponent(chr);\n};\n\n// https://url.spec.whatwg.org/#special-scheme\nvar specialSchemes = {\n  ftp: 21,\n  file: null,\n  http: 80,\n  https: 443,\n  ws: 80,\n  wss: 443\n};\n\n// https://url.spec.whatwg.org/#windows-drive-letter\nvar isWindowsDriveLetter = function (string, normalized) {\n  var second;\n  return string.length == 2 && exec(ALPHA, charAt(string, 0))\n    && ((second = charAt(string, 1)) == ':' || (!normalized && second == '|'));\n};\n\n// https://url.spec.whatwg.org/#start-with-a-windows-drive-letter\nvar startsWithWindowsDriveLetter = function (string) {\n  var third;\n  return string.length > 1 && isWindowsDriveLetter(stringSlice(string, 0, 2)) && (\n    string.length == 2 ||\n    ((third = charAt(string, 2)) === '/' || third === '\\\\' || third === '?' || third === '#')\n  );\n};\n\n// https://url.spec.whatwg.org/#single-dot-path-segment\nvar isSingleDot = function (segment) {\n  return segment === '.' || toLowerCase(segment) === '%2e';\n};\n\n// https://url.spec.whatwg.org/#double-dot-path-segment\nvar isDoubleDot = function (segment) {\n  segment = toLowerCase(segment);\n  return segment === '..' || segment === '%2e.' || segment === '.%2e' || segment === '%2e%2e';\n};\n\n// States:\nvar SCHEME_START = {};\nvar SCHEME = {};\nvar NO_SCHEME = {};\nvar SPECIAL_RELATIVE_OR_AUTHORITY = {};\nvar PATH_OR_AUTHORITY = {};\nvar RELATIVE = {};\nvar RELATIVE_SLASH = {};\nvar SPECIAL_AUTHORITY_SLASHES = {};\nvar SPECIAL_AUTHORITY_IGNORE_SLASHES = {};\nvar AUTHORITY = {};\nvar HOST = {};\nvar HOSTNAME = {};\nvar PORT = {};\nvar FILE = {};\nvar FILE_SLASH = {};\nvar FILE_HOST = {};\nvar PATH_START = {};\nvar PATH = {};\nvar CANNOT_BE_A_BASE_URL_PATH = {};\nvar QUERY = {};\nvar FRAGMENT = {};\n\nvar URLState = function (url, isBase, base) {\n  var urlString = $toString(url);\n  var baseState, failure, searchParams;\n  if (isBase) {\n    failure = this.parse(urlString);\n    if (failure) throw TypeError(failure);\n    this.searchParams = null;\n  } else {\n    if (base !== undefined) baseState = new URLState(base, true);\n    failure = this.parse(urlString, null, baseState);\n    if (failure) throw TypeError(failure);\n    searchParams = getInternalSearchParamsState(new URLSearchParams());\n    searchParams.bindURL(this);\n    this.searchParams = searchParams;\n  }\n};\n\nURLState.prototype = {\n  type: 'URL',\n  // https://url.spec.whatwg.org/#url-parsing\n  // eslint-disable-next-line max-statements -- TODO\n  parse: function (input, stateOverride, base) {\n    var url = this;\n    var state = stateOverride || SCHEME_START;\n    var pointer = 0;\n    var buffer = '';\n    var seenAt = false;\n    var seenBracket = false;\n    var seenPasswordToken = false;\n    var codePoints, chr, bufferCodePoints, failure;\n\n    input = $toString(input);\n\n    if (!stateOverride) {\n      url.scheme = '';\n      url.username = '';\n      url.password = '';\n      url.host = null;\n      url.port = null;\n      url.path = [];\n      url.query = null;\n      url.fragment = null;\n      url.cannotBeABaseURL = false;\n      input = replace(input, LEADING_AND_TRAILING_C0_CONTROL_OR_SPACE, '');\n    }\n\n    input = replace(input, TAB_AND_NEW_LINE, '');\n\n    codePoints = arrayFrom(input);\n\n    while (pointer <= codePoints.length) {\n      chr = codePoints[pointer];\n      switch (state) {\n        case SCHEME_START:\n          if (chr && exec(ALPHA, chr)) {\n            buffer += toLowerCase(chr);\n            state = SCHEME;\n          } else if (!stateOverride) {\n            state = NO_SCHEME;\n            continue;\n          } else return INVALID_SCHEME;\n          break;\n\n        case SCHEME:\n          if (chr && (exec(ALPHANUMERIC, chr) || chr == '+' || chr == '-' || chr == '.')) {\n            buffer += toLowerCase(chr);\n          } else if (chr == ':') {\n            if (stateOverride && (\n              (url.isSpecial() != hasOwn(specialSchemes, buffer)) ||\n              (buffer == 'file' && (url.includesCredentials() || url.port !== null)) ||\n              (url.scheme == 'file' && !url.host)\n            )) return;\n            url.scheme = buffer;\n            if (stateOverride) {\n              if (url.isSpecial() && specialSchemes[url.scheme] == url.port) url.port = null;\n              return;\n            }\n            buffer = '';\n            if (url.scheme == 'file') {\n              state = FILE;\n            } else if (url.isSpecial() && base && base.scheme == url.scheme) {\n              state = SPECIAL_RELATIVE_OR_AUTHORITY;\n            } else if (url.isSpecial()) {\n              state = SPECIAL_AUTHORITY_SLASHES;\n            } else if (codePoints[pointer + 1] == '/') {\n              state = PATH_OR_AUTHORITY;\n              pointer++;\n            } else {\n              url.cannotBeABaseURL = true;\n              push(url.path, '');\n              state = CANNOT_BE_A_BASE_URL_PATH;\n            }\n          } else if (!stateOverride) {\n            buffer = '';\n            state = NO_SCHEME;\n            pointer = 0;\n            continue;\n          } else return INVALID_SCHEME;\n          break;\n\n        case NO_SCHEME:\n          if (!base || (base.cannotBeABaseURL && chr != '#')) return INVALID_SCHEME;\n          if (base.cannotBeABaseURL && chr == '#') {\n            url.scheme = base.scheme;\n            url.path = arraySlice(base.path);\n            url.query = base.query;\n            url.fragment = '';\n            url.cannotBeABaseURL = true;\n            state = FRAGMENT;\n            break;\n          }\n          state = base.scheme == 'file' ? FILE : RELATIVE;\n          continue;\n\n        case SPECIAL_RELATIVE_OR_AUTHORITY:\n          if (chr == '/' && codePoints[pointer + 1] == '/') {\n            state = SPECIAL_AUTHORITY_IGNORE_SLASHES;\n            pointer++;\n          } else {\n            state = RELATIVE;\n            continue;\n          } break;\n\n        case PATH_OR_AUTHORITY:\n          if (chr == '/') {\n            state = AUTHORITY;\n            break;\n          } else {\n            state = PATH;\n            continue;\n          }\n\n        case RELATIVE:\n          url.scheme = base.scheme;\n          if (chr == EOF) {\n            url.username = base.username;\n            url.password = base.password;\n            url.host = base.host;\n            url.port = base.port;\n            url.path = arraySlice(base.path);\n            url.query = base.query;\n          } else if (chr == '/' || (chr == '\\\\' && url.isSpecial())) {\n            state = RELATIVE_SLASH;\n          } else if (chr == '?') {\n            url.username = base.username;\n            url.password = base.password;\n            url.host = base.host;\n            url.port = base.port;\n            url.path = arraySlice(base.path);\n            url.query = '';\n            state = QUERY;\n          } else if (chr == '#') {\n            url.username = base.username;\n            url.password = base.password;\n            url.host = base.host;\n            url.port = base.port;\n            url.path = arraySlice(base.path);\n            url.query = base.query;\n            url.fragment = '';\n            state = FRAGMENT;\n          } else {\n            url.username = base.username;\n            url.password = base.password;\n            url.host = base.host;\n            url.port = base.port;\n            url.path = arraySlice(base.path);\n            url.path.length--;\n            state = PATH;\n            continue;\n          } break;\n\n        case RELATIVE_SLASH:\n          if (url.isSpecial() && (chr == '/' || chr == '\\\\')) {\n            state = SPECIAL_AUTHORITY_IGNORE_SLASHES;\n          } else if (chr == '/') {\n            state = AUTHORITY;\n          } else {\n            url.username = base.username;\n            url.password = base.password;\n            url.host = base.host;\n            url.port = base.port;\n            state = PATH;\n            continue;\n          } break;\n\n        case SPECIAL_AUTHORITY_SLASHES:\n          state = SPECIAL_AUTHORITY_IGNORE_SLASHES;\n          if (chr != '/' || charAt(buffer, pointer + 1) != '/') continue;\n          pointer++;\n          break;\n\n        case SPECIAL_AUTHORITY_IGNORE_SLASHES:\n          if (chr != '/' && chr != '\\\\') {\n            state = AUTHORITY;\n            continue;\n          } break;\n\n        case AUTHORITY:\n          if (chr == '@') {\n            if (seenAt) buffer = '%40' + buffer;\n            seenAt = true;\n            bufferCodePoints = arrayFrom(buffer);\n            for (var i = 0; i < bufferCodePoints.length; i++) {\n              var codePoint = bufferCodePoints[i];\n              if (codePoint == ':' && !seenPasswordToken) {\n                seenPasswordToken = true;\n                continue;\n              }\n              var encodedCodePoints = percentEncode(codePoint, userinfoPercentEncodeSet);\n              if (seenPasswordToken) url.password += encodedCodePoints;\n              else url.username += encodedCodePoints;\n            }\n            buffer = '';\n          } else if (\n            chr == EOF || chr == '/' || chr == '?' || chr == '#' ||\n            (chr == '\\\\' && url.isSpecial())\n          ) {\n            if (seenAt && buffer == '') return INVALID_AUTHORITY;\n            pointer -= arrayFrom(buffer).length + 1;\n            buffer = '';\n            state = HOST;\n          } else buffer += chr;\n          break;\n\n        case HOST:\n        case HOSTNAME:\n          if (stateOverride && url.scheme == 'file') {\n            state = FILE_HOST;\n            continue;\n          } else if (chr == ':' && !seenBracket) {\n            if (buffer == '') return INVALID_HOST;\n            failure = url.parseHost(buffer);\n            if (failure) return failure;\n            buffer = '';\n            state = PORT;\n            if (stateOverride == HOSTNAME) return;\n          } else if (\n            chr == EOF || chr == '/' || chr == '?' || chr == '#' ||\n            (chr == '\\\\' && url.isSpecial())\n          ) {\n            if (url.isSpecial() && buffer == '') return INVALID_HOST;\n            if (stateOverride && buffer == '' && (url.includesCredentials() || url.port !== null)) return;\n            failure = url.parseHost(buffer);\n            if (failure) return failure;\n            buffer = '';\n            state = PATH_START;\n            if (stateOverride) return;\n            continue;\n          } else {\n            if (chr == '[') seenBracket = true;\n            else if (chr == ']') seenBracket = false;\n            buffer += chr;\n          } break;\n\n        case PORT:\n          if (exec(DIGIT, chr)) {\n            buffer += chr;\n          } else if (\n            chr == EOF || chr == '/' || chr == '?' || chr == '#' ||\n            (chr == '\\\\' && url.isSpecial()) ||\n            stateOverride\n          ) {\n            if (buffer != '') {\n              var port = parseInt(buffer, 10);\n              if (port > 0xFFFF) return INVALID_PORT;\n              url.port = (url.isSpecial() && port === specialSchemes[url.scheme]) ? null : port;\n              buffer = '';\n            }\n            if (stateOverride) return;\n            state = PATH_START;\n            continue;\n          } else return INVALID_PORT;\n          break;\n\n        case FILE:\n          url.scheme = 'file';\n          if (chr == '/' || chr == '\\\\') state = FILE_SLASH;\n          else if (base && base.scheme == 'file') {\n            if (chr == EOF) {\n              url.host = base.host;\n              url.path = arraySlice(base.path);\n              url.query = base.query;\n            } else if (chr == '?') {\n              url.host = base.host;\n              url.path = arraySlice(base.path);\n              url.query = '';\n              state = QUERY;\n            } else if (chr == '#') {\n              url.host = base.host;\n              url.path = arraySlice(base.path);\n              url.query = base.query;\n              url.fragment = '';\n              state = FRAGMENT;\n            } else {\n              if (!startsWithWindowsDriveLetter(join(arraySlice(codePoints, pointer), ''))) {\n                url.host = base.host;\n                url.path = arraySlice(base.path);\n                url.shortenPath();\n              }\n              state = PATH;\n              continue;\n            }\n          } else {\n            state = PATH;\n            continue;\n          } break;\n\n        case FILE_SLASH:\n          if (chr == '/' || chr == '\\\\') {\n            state = FILE_HOST;\n            break;\n          }\n          if (base && base.scheme == 'file' && !startsWithWindowsDriveLetter(join(arraySlice(codePoints, pointer), ''))) {\n            if (isWindowsDriveLetter(base.path[0], true)) push(url.path, base.path[0]);\n            else url.host = base.host;\n          }\n          state = PATH;\n          continue;\n\n        case FILE_HOST:\n          if (chr == EOF || chr == '/' || chr == '\\\\' || chr == '?' || chr == '#') {\n            if (!stateOverride && isWindowsDriveLetter(buffer)) {\n              state = PATH;\n            } else if (buffer == '') {\n              url.host = '';\n              if (stateOverride) return;\n              state = PATH_START;\n            } else {\n              failure = url.parseHost(buffer);\n              if (failure) return failure;\n              if (url.host == 'localhost') url.host = '';\n              if (stateOverride) return;\n              buffer = '';\n              state = PATH_START;\n            } continue;\n          } else buffer += chr;\n          break;\n\n        case PATH_START:\n          if (url.isSpecial()) {\n            state = PATH;\n            if (chr != '/' && chr != '\\\\') continue;\n          } else if (!stateOverride && chr == '?') {\n            url.query = '';\n            state = QUERY;\n          } else if (!stateOverride && chr == '#') {\n            url.fragment = '';\n            state = FRAGMENT;\n          } else if (chr != EOF) {\n            state = PATH;\n            if (chr != '/') continue;\n          } break;\n\n        case PATH:\n          if (\n            chr == EOF || chr == '/' ||\n            (chr == '\\\\' && url.isSpecial()) ||\n            (!stateOverride && (chr == '?' || chr == '#'))\n          ) {\n            if (isDoubleDot(buffer)) {\n              url.shortenPath();\n              if (chr != '/' && !(chr == '\\\\' && url.isSpecial())) {\n                push(url.path, '');\n              }\n            } else if (isSingleDot(buffer)) {\n              if (chr != '/' && !(chr == '\\\\' && url.isSpecial())) {\n                push(url.path, '');\n              }\n            } else {\n              if (url.scheme == 'file' && !url.path.length && isWindowsDriveLetter(buffer)) {\n                if (url.host) url.host = '';\n                buffer = charAt(buffer, 0) + ':'; // normalize windows drive letter\n              }\n              push(url.path, buffer);\n            }\n            buffer = '';\n            if (url.scheme == 'file' && (chr == EOF || chr == '?' || chr == '#')) {\n              while (url.path.length > 1 && url.path[0] === '') {\n                shift(url.path);\n              }\n            }\n            if (chr == '?') {\n              url.query = '';\n              state = QUERY;\n            } else if (chr == '#') {\n              url.fragment = '';\n              state = FRAGMENT;\n            }\n          } else {\n            buffer += percentEncode(chr, pathPercentEncodeSet);\n          } break;\n\n        case CANNOT_BE_A_BASE_URL_PATH:\n          if (chr == '?') {\n            url.query = '';\n            state = QUERY;\n          } else if (chr == '#') {\n            url.fragment = '';\n            state = FRAGMENT;\n          } else if (chr != EOF) {\n            url.path[0] += percentEncode(chr, C0ControlPercentEncodeSet);\n          } break;\n\n        case QUERY:\n          if (!stateOverride && chr == '#') {\n            url.fragment = '';\n            state = FRAGMENT;\n          } else if (chr != EOF) {\n            if (chr == \"'\" && url.isSpecial()) url.query += '%27';\n            else if (chr == '#') url.query += '%23';\n            else url.query += percentEncode(chr, C0ControlPercentEncodeSet);\n          } break;\n\n        case FRAGMENT:\n          if (chr != EOF) url.fragment += percentEncode(chr, fragmentPercentEncodeSet);\n          break;\n      }\n\n      pointer++;\n    }\n  },\n  // https://url.spec.whatwg.org/#host-parsing\n  parseHost: function (input) {\n    var result, codePoints, index;\n    if (charAt(input, 0) == '[') {\n      if (charAt(input, input.length - 1) != ']') return INVALID_HOST;\n      result = parseIPv6(stringSlice(input, 1, -1));\n      if (!result) return INVALID_HOST;\n      this.host = result;\n    // opaque host\n    } else if (!this.isSpecial()) {\n      if (exec(FORBIDDEN_HOST_CODE_POINT_EXCLUDING_PERCENT, input)) return INVALID_HOST;\n      result = '';\n      codePoints = arrayFrom(input);\n      for (index = 0; index < codePoints.length; index++) {\n        result += percentEncode(codePoints[index], C0ControlPercentEncodeSet);\n      }\n      this.host = result;\n    } else {\n      input = toASCII(input);\n      if (exec(FORBIDDEN_HOST_CODE_POINT, input)) return INVALID_HOST;\n      result = parseIPv4(input);\n      if (result === null) return INVALID_HOST;\n      this.host = result;\n    }\n  },\n  // https://url.spec.whatwg.org/#cannot-have-a-username-password-port\n  cannotHaveUsernamePasswordPort: function () {\n    return !this.host || this.cannotBeABaseURL || this.scheme == 'file';\n  },\n  // https://url.spec.whatwg.org/#include-credentials\n  includesCredentials: function () {\n    return this.username != '' || this.password != '';\n  },\n  // https://url.spec.whatwg.org/#is-special\n  isSpecial: function () {\n    return hasOwn(specialSchemes, this.scheme);\n  },\n  // https://url.spec.whatwg.org/#shorten-a-urls-path\n  shortenPath: function () {\n    var path = this.path;\n    var pathSize = path.length;\n    if (pathSize && (this.scheme != 'file' || pathSize != 1 || !isWindowsDriveLetter(path[0], true))) {\n      path.length--;\n    }\n  },\n  // https://url.spec.whatwg.org/#concept-url-serializer\n  serialize: function () {\n    var url = this;\n    var scheme = url.scheme;\n    var username = url.username;\n    var password = url.password;\n    var host = url.host;\n    var port = url.port;\n    var path = url.path;\n    var query = url.query;\n    var fragment = url.fragment;\n    var output = scheme + ':';\n    if (host !== null) {\n      output += '//';\n      if (url.includesCredentials()) {\n        output += username + (password ? ':' + password : '') + '@';\n      }\n      output += serializeHost(host);\n      if (port !== null) output += ':' + port;\n    } else if (scheme == 'file') output += '//';\n    output += url.cannotBeABaseURL ? path[0] : path.length ? '/' + join(path, '/') : '';\n    if (query !== null) output += '?' + query;\n    if (fragment !== null) output += '#' + fragment;\n    return output;\n  },\n  // https://url.spec.whatwg.org/#dom-url-href\n  setHref: function (href) {\n    var failure = this.parse(href);\n    if (failure) throw TypeError(failure);\n    this.searchParams.update();\n  },\n  // https://url.spec.whatwg.org/#dom-url-origin\n  getOrigin: function () {\n    var scheme = this.scheme;\n    var port = this.port;\n    if (scheme == 'blob') try {\n      return new URLConstructor(scheme.path[0]).origin;\n    } catch (error) {\n      return 'null';\n    }\n    if (scheme == 'file' || !this.isSpecial()) return 'null';\n    return scheme + '://' + serializeHost(this.host) + (port !== null ? ':' + port : '');\n  },\n  // https://url.spec.whatwg.org/#dom-url-protocol\n  getProtocol: function () {\n    return this.scheme + ':';\n  },\n  setProtocol: function (protocol) {\n    this.parse($toString(protocol) + ':', SCHEME_START);\n  },\n  // https://url.spec.whatwg.org/#dom-url-username\n  getUsername: function () {\n    return this.username;\n  },\n  setUsername: function (username) {\n    var codePoints = arrayFrom($toString(username));\n    if (this.cannotHaveUsernamePasswordPort()) return;\n    this.username = '';\n    for (var i = 0; i < codePoints.length; i++) {\n      this.username += percentEncode(codePoints[i], userinfoPercentEncodeSet);\n    }\n  },\n  // https://url.spec.whatwg.org/#dom-url-password\n  getPassword: function () {\n    return this.password;\n  },\n  setPassword: function (password) {\n    var codePoints = arrayFrom($toString(password));\n    if (this.cannotHaveUsernamePasswordPort()) return;\n    this.password = '';\n    for (var i = 0; i < codePoints.length; i++) {\n      this.password += percentEncode(codePoints[i], userinfoPercentEncodeSet);\n    }\n  },\n  // https://url.spec.whatwg.org/#dom-url-host\n  getHost: function () {\n    var host = this.host;\n    var port = this.port;\n    return host === null ? ''\n      : port === null ? serializeHost(host)\n      : serializeHost(host) + ':' + port;\n  },\n  setHost: function (host) {\n    if (this.cannotBeABaseURL) return;\n    this.parse(host, HOST);\n  },\n  // https://url.spec.whatwg.org/#dom-url-hostname\n  getHostname: function () {\n    var host = this.host;\n    return host === null ? '' : serializeHost(host);\n  },\n  setHostname: function (hostname) {\n    if (this.cannotBeABaseURL) return;\n    this.parse(hostname, HOSTNAME);\n  },\n  // https://url.spec.whatwg.org/#dom-url-port\n  getPort: function () {\n    var port = this.port;\n    return port === null ? '' : $toString(port);\n  },\n  setPort: function (port) {\n    if (this.cannotHaveUsernamePasswordPort()) return;\n    port = $toString(port);\n    if (port == '') this.port = null;\n    else this.parse(port, PORT);\n  },\n  // https://url.spec.whatwg.org/#dom-url-pathname\n  getPathname: function () {\n    var path = this.path;\n    return this.cannotBeABaseURL ? path[0] : path.length ? '/' + join(path, '/') : '';\n  },\n  setPathname: function (pathname) {\n    if (this.cannotBeABaseURL) return;\n    this.path = [];\n    this.parse(pathname, PATH_START);\n  },\n  // https://url.spec.whatwg.org/#dom-url-search\n  getSearch: function () {\n    var query = this.query;\n    return query ? '?' + query : '';\n  },\n  setSearch: function (search) {\n    search = $toString(search);\n    if (search == '') {\n      this.query = null;\n    } else {\n      if ('?' == charAt(search, 0)) search = stringSlice(search, 1);\n      this.query = '';\n      this.parse(search, QUERY);\n    }\n    this.searchParams.update();\n  },\n  // https://url.spec.whatwg.org/#dom-url-searchparams\n  getSearchParams: function () {\n    return this.searchParams.facade;\n  },\n  // https://url.spec.whatwg.org/#dom-url-hash\n  getHash: function () {\n    var fragment = this.fragment;\n    return fragment ? '#' + fragment : '';\n  },\n  setHash: function (hash) {\n    hash = $toString(hash);\n    if (hash == '') {\n      this.fragment = null;\n      return;\n    }\n    if ('#' == charAt(hash, 0)) hash = stringSlice(hash, 1);\n    this.fragment = '';\n    this.parse(hash, FRAGMENT);\n  },\n  update: function () {\n    this.query = this.searchParams.serialize() || null;\n  }\n};\n\n// `URL` constructor\n// https://url.spec.whatwg.org/#url-class\nvar URLConstructor = function URL(url /* , base */) {\n  var that = anInstance(this, URLPrototype);\n  var base = validateArgumentsLength(arguments.length, 1) > 1 ? arguments[1] : undefined;\n  var state = setInternalState(that, new URLState(url, false, base));\n  if (!DESCRIPTORS) {\n    that.href = state.serialize();\n    that.origin = state.getOrigin();\n    that.protocol = state.getProtocol();\n    that.username = state.getUsername();\n    that.password = state.getPassword();\n    that.host = state.getHost();\n    that.hostname = state.getHostname();\n    that.port = state.getPort();\n    that.pathname = state.getPathname();\n    that.search = state.getSearch();\n    that.searchParams = state.getSearchParams();\n    that.hash = state.getHash();\n  }\n};\n\nvar URLPrototype = URLConstructor.prototype;\n\nvar accessorDescriptor = function (getter, setter) {\n  return {\n    get: function () {\n      return getInternalURLState(this)[getter]();\n    },\n    set: setter && function (value) {\n      return getInternalURLState(this)[setter](value);\n    },\n    configurable: true,\n    enumerable: true\n  };\n};\n\nif (DESCRIPTORS) {\n  // `URL.prototype.href` accessors pair\n  // https://url.spec.whatwg.org/#dom-url-href\n  defineBuiltInAccessor(URLPrototype, 'href', accessorDescriptor('serialize', 'setHref'));\n  // `URL.prototype.origin` getter\n  // https://url.spec.whatwg.org/#dom-url-origin\n  defineBuiltInAccessor(URLPrototype, 'origin', accessorDescriptor('getOrigin'));\n  // `URL.prototype.protocol` accessors pair\n  // https://url.spec.whatwg.org/#dom-url-protocol\n  defineBuiltInAccessor(URLPrototype, 'protocol', accessorDescriptor('getProtocol', 'setProtocol'));\n  // `URL.prototype.username` accessors pair\n  // https://url.spec.whatwg.org/#dom-url-username\n  defineBuiltInAccessor(URLPrototype, 'username', accessorDescriptor('getUsername', 'setUsername'));\n  // `URL.prototype.password` accessors pair\n  // https://url.spec.whatwg.org/#dom-url-password\n  defineBuiltInAccessor(URLPrototype, 'password', accessorDescriptor('getPassword', 'setPassword'));\n  // `URL.prototype.host` accessors pair\n  // https://url.spec.whatwg.org/#dom-url-host\n  defineBuiltInAccessor(URLPrototype, 'host', accessorDescriptor('getHost', 'setHost'));\n  // `URL.prototype.hostname` accessors pair\n  // https://url.spec.whatwg.org/#dom-url-hostname\n  defineBuiltInAccessor(URLPrototype, 'hostname', accessorDescriptor('getHostname', 'setHostname'));\n  // `URL.prototype.port` accessors pair\n  // https://url.spec.whatwg.org/#dom-url-port\n  defineBuiltInAccessor(URLPrototype, 'port', accessorDescriptor('getPort', 'setPort'));\n  // `URL.prototype.pathname` accessors pair\n  // https://url.spec.whatwg.org/#dom-url-pathname\n  defineBuiltInAccessor(URLPrototype, 'pathname', accessorDescriptor('getPathname', 'setPathname'));\n  // `URL.prototype.search` accessors pair\n  // https://url.spec.whatwg.org/#dom-url-search\n  defineBuiltInAccessor(URLPrototype, 'search', accessorDescriptor('getSearch', 'setSearch'));\n  // `URL.prototype.searchParams` getter\n  // https://url.spec.whatwg.org/#dom-url-searchparams\n  defineBuiltInAccessor(URLPrototype, 'searchParams', accessorDescriptor('getSearchParams'));\n  // `URL.prototype.hash` accessors pair\n  // https://url.spec.whatwg.org/#dom-url-hash\n  defineBuiltInAccessor(URLPrototype, 'hash', accessorDescriptor('getHash', 'setHash'));\n}\n\n// `URL.prototype.toJSON` method\n// https://url.spec.whatwg.org/#dom-url-tojson\ndefineBuiltIn(URLPrototype, 'toJSON', function toJSON() {\n  return getInternalURLState(this).serialize();\n}, { enumerable: true });\n\n// `URL.prototype.toString` method\n// https://url.spec.whatwg.org/#URL-stringification-behavior\ndefineBuiltIn(URLPrototype, 'toString', function toString() {\n  return getInternalURLState(this).serialize();\n}, { enumerable: true });\n\nif (NativeURL) {\n  var nativeCreateObjectURL = NativeURL.createObjectURL;\n  var nativeRevokeObjectURL = NativeURL.revokeObjectURL;\n  // `URL.createObjectURL` method\n  // https://developer.mozilla.org/en-US/docs/Web/API/URL/createObjectURL\n  if (nativeCreateObjectURL) defineBuiltIn(URLConstructor, 'createObjectURL', bind(nativeCreateObjectURL, NativeURL));\n  // `URL.revokeObjectURL` method\n  // https://developer.mozilla.org/en-US/docs/Web/API/URL/revokeObjectURL\n  if (nativeRevokeObjectURL) defineBuiltIn(URLConstructor, 'revokeObjectURL', bind(nativeRevokeObjectURL, NativeURL));\n}\n\nsetToStringTag(URLConstructor, 'URL');\n\n$({ global: true, constructor: true, forced: !USE_NATIVE_URL, sham: !DESCRIPTORS }, {\n  URL: URLConstructor\n});\n","'use strict';\n// based on https://github.com/bestiejs/punycode.js/blob/master/punycode.js\nvar uncurryThis = require('../internals/function-uncurry-this');\n\nvar maxInt = 2147483647; // aka. 0x7FFFFFFF or 2^31-1\nvar base = 36;\nvar tMin = 1;\nvar tMax = 26;\nvar skew = 38;\nvar damp = 700;\nvar initialBias = 72;\nvar initialN = 128; // 0x80\nvar delimiter = '-'; // '\\x2D'\nvar regexNonASCII = /[^\\0-\\u007E]/; // non-ASCII chars\nvar regexSeparators = /[.\\u3002\\uFF0E\\uFF61]/g; // RFC 3490 separators\nvar OVERFLOW_ERROR = 'Overflow: input needs wider integers to process';\nvar baseMinusTMin = base - tMin;\n\nvar $RangeError = RangeError;\nvar exec = uncurryThis(regexSeparators.exec);\nvar floor = Math.floor;\nvar fromCharCode = String.fromCharCode;\nvar charCodeAt = uncurryThis(''.charCodeAt);\nvar join = uncurryThis([].join);\nvar push = uncurryThis([].push);\nvar replace = uncurryThis(''.replace);\nvar split = uncurryThis(''.split);\nvar toLowerCase = uncurryThis(''.toLowerCase);\n\n/**\n * Creates an array containing the numeric code points of each Unicode\n * character in the string. While JavaScript uses UCS-2 internally,\n * this function will convert a pair of surrogate halves (each of which\n * UCS-2 exposes as separate characters) into a single code point,\n * matching UTF-16.\n */\nvar ucs2decode = function (string) {\n  var output = [];\n  var counter = 0;\n  var length = string.length;\n  while (counter < length) {\n    var value = charCodeAt(string, counter++);\n    if (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n      // It's a high surrogate, and there is a next character.\n      var extra = charCodeAt(string, counter++);\n      if ((extra & 0xFC00) == 0xDC00) { // Low surrogate.\n        push(output, ((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n      } else {\n        // It's an unmatched surrogate; only append this code unit, in case the\n        // next code unit is the high surrogate of a surrogate pair.\n        push(output, value);\n        counter--;\n      }\n    } else {\n      push(output, value);\n    }\n  }\n  return output;\n};\n\n/**\n * Converts a digit/integer into a basic code point.\n */\nvar digitToBasic = function (digit) {\n  //  0..25 map to ASCII a..z or A..Z\n  // 26..35 map to ASCII 0..9\n  return digit + 22 + 75 * (digit < 26);\n};\n\n/**\n * Bias adaptation function as per section 3.4 of RFC 3492.\n * https://tools.ietf.org/html/rfc3492#section-3.4\n */\nvar adapt = function (delta, numPoints, firstTime) {\n  var k = 0;\n  delta = firstTime ? floor(delta / damp) : delta >> 1;\n  delta += floor(delta / numPoints);\n  while (delta > baseMinusTMin * tMax >> 1) {\n    delta = floor(delta / baseMinusTMin);\n    k += base;\n  }\n  return floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n};\n\n/**\n * Converts a string of Unicode symbols (e.g. a domain name label) to a\n * Punycode string of ASCII-only symbols.\n */\nvar encode = function (input) {\n  var output = [];\n\n  // Convert the input in UCS-2 to an array of Unicode code points.\n  input = ucs2decode(input);\n\n  // Cache the length.\n  var inputLength = input.length;\n\n  // Initialize the state.\n  var n = initialN;\n  var delta = 0;\n  var bias = initialBias;\n  var i, currentValue;\n\n  // Handle the basic code points.\n  for (i = 0; i < input.length; i++) {\n    currentValue = input[i];\n    if (currentValue < 0x80) {\n      push(output, fromCharCode(currentValue));\n    }\n  }\n\n  var basicLength = output.length; // number of basic code points.\n  var handledCPCount = basicLength; // number of code points that have been handled;\n\n  // Finish the basic string with a delimiter unless it's empty.\n  if (basicLength) {\n    push(output, delimiter);\n  }\n\n  // Main encoding loop:\n  while (handledCPCount < inputLength) {\n    // All non-basic code points < n have been handled already. Find the next larger one:\n    var m = maxInt;\n    for (i = 0; i < input.length; i++) {\n      currentValue = input[i];\n      if (currentValue >= n && currentValue < m) {\n        m = currentValue;\n      }\n    }\n\n    // Increase `delta` enough to advance the decoder's <n,i> state to <m,0>, but guard against overflow.\n    var handledCPCountPlusOne = handledCPCount + 1;\n    if (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n      throw $RangeError(OVERFLOW_ERROR);\n    }\n\n    delta += (m - n) * handledCPCountPlusOne;\n    n = m;\n\n    for (i = 0; i < input.length; i++) {\n      currentValue = input[i];\n      if (currentValue < n && ++delta > maxInt) {\n        throw $RangeError(OVERFLOW_ERROR);\n      }\n      if (currentValue == n) {\n        // Represent delta as a generalized variable-length integer.\n        var q = delta;\n        var k = base;\n        while (true) {\n          var t = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n          if (q < t) break;\n          var qMinusT = q - t;\n          var baseMinusT = base - t;\n          push(output, fromCharCode(digitToBasic(t + qMinusT % baseMinusT)));\n          q = floor(qMinusT / baseMinusT);\n          k += base;\n        }\n\n        push(output, fromCharCode(digitToBasic(q)));\n        bias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n        delta = 0;\n        handledCPCount++;\n      }\n    }\n\n    delta++;\n    n++;\n  }\n  return join(output, '');\n};\n\nmodule.exports = function (input) {\n  var encoded = [];\n  var labels = split(replace(toLowerCase(input), regexSeparators, '\\u002E'), '.');\n  var i, label;\n  for (i = 0; i < labels.length; i++) {\n    label = labels[i];\n    push(encoded, exec(regexNonASCII, label) ? 'xn--' + encode(label) : label);\n  }\n  return join(encoded, '.');\n};\n","/**\n * @since 2.0.0\n */\nexport var tailRec = function (startWith, f) {\n    var ab = f(startWith);\n    while (ab._tag === 'Left') {\n        ab = f(ab.left);\n    }\n    return ab.right;\n};\n","var __spreadArray = (this && this.__spreadArray) || function (to, from) {\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\n        to[j] = from[i];\n    return to;\n};\n// -------------------------------------------------------------------------------------\n// Option\n// -------------------------------------------------------------------------------------\n/** @internal */\nexport var isNone = function (fa) { return fa._tag === 'None'; };\n/** @internal */\nexport var isSome = function (fa) { return fa._tag === 'Some'; };\n/** @internal */\nexport var none = { _tag: 'None' };\n/** @internal */\nexport var some = function (a) { return ({ _tag: 'Some', value: a }); };\n// -------------------------------------------------------------------------------------\n// Either\n// -------------------------------------------------------------------------------------\n/** @internal */\nexport var isLeft = function (ma) { return ma._tag === 'Left'; };\n/** @internal */\nexport var isRight = function (ma) { return ma._tag === 'Right'; };\n/** @internal */\nexport var left = function (e) { return ({ _tag: 'Left', left: e }); };\n/** @internal */\nexport var right = function (a) { return ({ _tag: 'Right', right: a }); };\n// -------------------------------------------------------------------------------------\n// ReadonlyNonEmptyArray\n// -------------------------------------------------------------------------------------\n/** @internal */\nexport var singleton = function (a) { return [a]; };\n/** @internal */\nexport var isNonEmpty = function (as) { return as.length > 0; };\n/** @internal */\nexport var head = function (as) { return as[0]; };\n/** @internal */\nexport var tail = function (as) { return as.slice(1); };\n// -------------------------------------------------------------------------------------\n// empty\n// -------------------------------------------------------------------------------------\n/** @internal */\nexport var emptyReadonlyArray = [];\n/** @internal */\nexport var emptyRecord = {};\n// -------------------------------------------------------------------------------------\n// Record\n// -------------------------------------------------------------------------------------\n/** @internal */\nexport var has = Object.prototype.hasOwnProperty;\n// -------------------------------------------------------------------------------------\n// NonEmptyArray\n// -------------------------------------------------------------------------------------\n/** @internal */\nexport var fromReadonlyNonEmptyArray = function (as) { return __spreadArray([as[0]], as.slice(1)); };\n","import { getApplicativeMonoid } from './Applicative';\nimport { apFirst as apFirst_, apS as apS_, apSecond as apSecond_, getApplySemigroup as getApplySemigroup_ } from './Apply';\nimport { bind as bind_, chainFirst as chainFirst_ } from './Chain';\nimport { tailRec } from './ChainRec';\nimport { chainOptionK as chainOptionK_, filterOrElse as filterOrElse_, fromOption as fromOption_, fromOptionK as fromOptionK_, fromPredicate as fromPredicate_ } from './FromEither';\nimport { flow, identity, pipe } from './function';\nimport { bindTo as bindTo_, flap as flap_ } from './Functor';\nimport * as _ from './internal';\nimport { separated } from './Separated';\nimport { wiltDefault, witherDefault } from './Witherable';\n// -------------------------------------------------------------------------------------\n// constructors\n// -------------------------------------------------------------------------------------\n/**\n * Constructs a new `Either` holding a `Left` value. This usually represents a failure, due to the right-bias of this\n * structure.\n *\n * @category constructors\n * @since 2.0.0\n */\nexport var left = _.left;\n/**\n * Constructs a new `Either` holding a `Right` value. This usually represents a successful value due to the right bias\n * of this structure.\n *\n * @category constructors\n * @since 2.0.0\n */\nexport var right = _.right;\n// -------------------------------------------------------------------------------------\n// non-pipeables\n// -------------------------------------------------------------------------------------\nvar _map = function (fa, f) { return pipe(fa, map(f)); };\nvar _ap = function (fab, fa) { return pipe(fab, ap(fa)); };\n/* istanbul ignore next */\nvar _chain = function (ma, f) { return pipe(ma, chain(f)); };\n/* istanbul ignore next */\nvar _reduce = function (fa, b, f) { return pipe(fa, reduce(b, f)); };\n/* istanbul ignore next */\nvar _foldMap = function (M) { return function (fa, f) {\n    var foldMapM = foldMap(M);\n    return pipe(fa, foldMapM(f));\n}; };\n/* istanbul ignore next */\nvar _reduceRight = function (fa, b, f) { return pipe(fa, reduceRight(b, f)); };\nvar _traverse = function (F) {\n    var traverseF = traverse(F);\n    return function (ta, f) { return pipe(ta, traverseF(f)); };\n};\nvar _bimap = function (fa, f, g) { return pipe(fa, bimap(f, g)); };\nvar _mapLeft = function (fa, f) { return pipe(fa, mapLeft(f)); };\n/* istanbul ignore next */\nvar _alt = function (fa, that) { return pipe(fa, alt(that)); };\n/* istanbul ignore next */\nvar _extend = function (wa, f) { return pipe(wa, extend(f)); };\nvar _chainRec = function (a, f) {\n    return tailRec(f(a), function (e) {\n        return isLeft(e) ? right(left(e.left)) : isLeft(e.right) ? left(f(e.right.left)) : right(right(e.right.right));\n    });\n};\n// -------------------------------------------------------------------------------------\n// instances\n// -------------------------------------------------------------------------------------\n/**\n * @category instances\n * @since 2.0.0\n */\nexport var URI = 'Either';\n/**\n * @category instances\n * @since 2.0.0\n */\nexport var getShow = function (SE, SA) { return ({\n    show: function (ma) { return (isLeft(ma) ? \"left(\" + SE.show(ma.left) + \")\" : \"right(\" + SA.show(ma.right) + \")\"); }\n}); };\n/**\n * @category instances\n * @since 2.0.0\n */\nexport var getEq = function (EL, EA) { return ({\n    equals: function (x, y) {\n        return x === y || (isLeft(x) ? isLeft(y) && EL.equals(x.left, y.left) : isRight(y) && EA.equals(x.right, y.right));\n    }\n}); };\n/**\n * Semigroup returning the left-most non-`Left` value. If both operands are `Right`s then the inner values are\n * concatenated using the provided `Semigroup`\n *\n * @example\n * import { getSemigroup, left, right } from 'fp-ts/Either'\n * import { SemigroupSum } from 'fp-ts/number'\n *\n * const S = getSemigroup<string, number>(SemigroupSum)\n * assert.deepStrictEqual(S.concat(left('a'), left('b')), left('a'))\n * assert.deepStrictEqual(S.concat(left('a'), right(2)), right(2))\n * assert.deepStrictEqual(S.concat(right(1), left('b')), right(1))\n * assert.deepStrictEqual(S.concat(right(1), right(2)), right(3))\n *\n * @category instances\n * @since 2.0.0\n */\nexport var getSemigroup = function (S) { return ({\n    concat: function (x, y) { return (isLeft(y) ? x : isLeft(x) ? y : right(S.concat(x.right, y.right))); }\n}); };\n/**\n * Builds a `Compactable` instance for `Either` given `Monoid` for the left side.\n *\n * @category instances\n * @since 2.10.0\n */\nexport var getCompactable = function (M) {\n    var empty = left(M.empty);\n    return {\n        URI: URI,\n        _E: undefined,\n        compact: function (ma) { return (isLeft(ma) ? ma : ma.right._tag === 'None' ? empty : right(ma.right.value)); },\n        separate: function (ma) {\n            return isLeft(ma)\n                ? separated(ma, ma)\n                : isLeft(ma.right)\n                    ? separated(right(ma.right.left), empty)\n                    : separated(empty, right(ma.right.right));\n        }\n    };\n};\n/**\n * Builds a `Filterable` instance for `Either` given `Monoid` for the left side\n *\n * @category instances\n * @since 2.10.0\n */\nexport var getFilterable = function (M) {\n    var empty = left(M.empty);\n    var _a = getCompactable(M), compact = _a.compact, separate = _a.separate;\n    var filter = function (ma, predicate) {\n        return isLeft(ma) ? ma : predicate(ma.right) ? ma : empty;\n    };\n    var partition = function (ma, p) {\n        return isLeft(ma)\n            ? separated(ma, ma)\n            : p(ma.right)\n                ? separated(empty, right(ma.right))\n                : separated(right(ma.right), empty);\n    };\n    return {\n        URI: URI,\n        _E: undefined,\n        map: _map,\n        compact: compact,\n        separate: separate,\n        filter: filter,\n        filterMap: function (ma, f) {\n            if (isLeft(ma)) {\n                return ma;\n            }\n            var ob = f(ma.right);\n            return ob._tag === 'None' ? empty : right(ob.value);\n        },\n        partition: partition,\n        partitionMap: function (ma, f) {\n            if (isLeft(ma)) {\n                return separated(ma, ma);\n            }\n            var e = f(ma.right);\n            return isLeft(e) ? separated(right(e.left), empty) : separated(empty, right(e.right));\n        }\n    };\n};\n/**\n * Builds `Witherable` instance for `Either` given `Monoid` for the left side\n *\n * @category instances\n * @since 2.0.0\n */\nexport var getWitherable = function (M) {\n    var F_ = getFilterable(M);\n    var C = getCompactable(M);\n    return {\n        URI: URI,\n        _E: undefined,\n        map: _map,\n        compact: F_.compact,\n        separate: F_.separate,\n        filter: F_.filter,\n        filterMap: F_.filterMap,\n        partition: F_.partition,\n        partitionMap: F_.partitionMap,\n        traverse: _traverse,\n        sequence: sequence,\n        reduce: _reduce,\n        foldMap: _foldMap,\n        reduceRight: _reduceRight,\n        wither: witherDefault(Traversable, C),\n        wilt: wiltDefault(Traversable, C)\n    };\n};\n/**\n * @category instances\n * @since 2.7.0\n */\nexport var getApplicativeValidation = function (SE) { return ({\n    URI: URI,\n    _E: undefined,\n    map: _map,\n    ap: function (fab, fa) {\n        return isLeft(fab)\n            ? isLeft(fa)\n                ? left(SE.concat(fab.left, fa.left))\n                : fab\n            : isLeft(fa)\n                ? fa\n                : right(fab.right(fa.right));\n    },\n    of: of\n}); };\n/**\n * @category instances\n * @since 2.7.0\n */\nexport var getAltValidation = function (SE) { return ({\n    URI: URI,\n    _E: undefined,\n    map: _map,\n    alt: function (me, that) {\n        if (isRight(me)) {\n            return me;\n        }\n        var ea = that();\n        return isLeft(ea) ? left(SE.concat(me.left, ea.left)) : ea;\n    }\n}); };\n/**\n * @category instance operations\n * @since 2.0.0\n */\nexport var map = function (f) { return function (fa) {\n    return isLeft(fa) ? fa : right(f(fa.right));\n}; };\n/**\n * @category instances\n * @since 2.7.0\n */\nexport var Functor = {\n    URI: URI,\n    map: _map\n};\n/**\n * @category instance operations\n * @since 2.7.0\n */\nexport var of = right;\n/**\n * @category instances\n * @since 2.10.0\n */\nexport var Pointed = {\n    URI: URI,\n    of: of\n};\n/**\n * Less strict version of [`ap`](#ap).\n *\n * @category instance operations\n * @since 2.8.0\n */\nexport var apW = function (fa) { return function (fab) { return (isLeft(fab) ? fab : isLeft(fa) ? fa : right(fab.right(fa.right))); }; };\n/**\n * Apply a function to an argument under a type constructor.\n *\n * @category instance operations\n * @since 2.0.0\n */\nexport var ap = apW;\n/**\n * @category instances\n * @since 2.10.0\n */\nexport var Apply = {\n    URI: URI,\n    map: _map,\n    ap: _ap\n};\n/**\n * @category instances\n * @since 2.7.0\n */\nexport var Applicative = {\n    URI: URI,\n    map: _map,\n    ap: _ap,\n    of: of\n};\n/**\n * Less strict version of [`chain`](#chain).\n *\n * @category instance operations\n * @since 2.6.0\n */\nexport var chainW = function (f) { return function (ma) {\n    return isLeft(ma) ? ma : f(ma.right);\n}; };\n/**\n * Composes computations in sequence, using the return value of one computation to determine the next computation.\n *\n * @category instance operations\n * @since 2.0.0\n */\nexport var chain = chainW;\n/**\n * @category instances\n * @since 2.10.0\n */\nexport var Chain = {\n    URI: URI,\n    map: _map,\n    ap: _ap,\n    chain: _chain\n};\n/**\n * @category instances\n * @since 2.7.0\n */\nexport var Monad = {\n    URI: URI,\n    map: _map,\n    ap: _ap,\n    of: of,\n    chain: _chain\n};\n/**\n * Left-associative fold of a structure.\n *\n * @example\n * import { pipe } from 'fp-ts/function'\n * import * as E from 'fp-ts/Either'\n *\n * const startWith = 'prefix'\n * const concat = (a: string, b: string) => `${a}:${b}`\n *\n * assert.deepStrictEqual(\n *   pipe(E.right('a'), E.reduce(startWith, concat)),\n *   'prefix:a'\n * )\n *\n * assert.deepStrictEqual(\n *   pipe(E.left('e'), E.reduce(startWith, concat)),\n *   'prefix'\n * )\n *\n * @category instance operations\n * @since 2.0.0\n */\nexport var reduce = function (b, f) { return function (fa) {\n    return isLeft(fa) ? b : f(b, fa.right);\n}; };\n/**\n * Map each element of the structure to a monoid, and combine the results.\n *\n * @example\n * import { pipe } from 'fp-ts/function'\n * import * as E from 'fp-ts/Either'\n * import * as S from 'fp-ts/string'\n *\n * const yell = (a: string) => `${a}!`\n *\n * assert.deepStrictEqual(\n *   pipe(E.right('a'), E.foldMap(S.Monoid)(yell)),\n *   'a!'\n * )\n *\n * assert.deepStrictEqual(\n *   pipe(E.left('e'), E.foldMap(S.Monoid)(yell)),\n *   S.Monoid.empty\n * )\n *\n * @category instance operations\n * @since 2.0.0\n */\nexport var foldMap = function (M) { return function (f) { return function (fa) {\n    return isLeft(fa) ? M.empty : f(fa.right);\n}; }; };\n/**\n * Right-associative fold of a structure.\n *\n * @example\n * import { pipe } from 'fp-ts/function'\n * import * as E from 'fp-ts/Either'\n *\n * const startWith = 'postfix'\n * const concat = (a: string, b: string) => `${a}:${b}`\n *\n * assert.deepStrictEqual(\n *   pipe(E.right('a'), E.reduceRight(startWith, concat)),\n *   'a:postfix'\n * )\n *\n * assert.deepStrictEqual(\n *   pipe(E.left('e'), E.reduceRight(startWith, concat)),\n *   'postfix'\n * )\n *\n * @category instance operations\n * @since 2.0.0\n */\nexport var reduceRight = function (b, f) { return function (fa) {\n    return isLeft(fa) ? b : f(fa.right, b);\n}; };\n/**\n * @category instances\n * @since 2.7.0\n */\nexport var Foldable = {\n    URI: URI,\n    reduce: _reduce,\n    foldMap: _foldMap,\n    reduceRight: _reduceRight\n};\n/**\n * Map each element of a structure to an action, evaluate these actions from left to right, and collect the results.\n *\n * @example\n * import { pipe } from 'fp-ts/function'\n * import * as RA from 'fp-ts/ReadonlyArray'\n * import * as E from 'fp-ts/Either'\n * import * as O from 'fp-ts/Option'\n *\n * assert.deepStrictEqual(\n *   pipe(E.right(['a']), E.traverse(O.Applicative)(RA.head)),\n *   O.some(E.right('a'))\n *  )\n *\n * assert.deepStrictEqual(\n *   pipe(E.right([]), E.traverse(O.Applicative)(RA.head)),\n *   O.none\n * )\n *\n * @category instance operations\n * @since 2.6.3\n */\nexport var traverse = function (F) { return function (f) { return function (ta) { return (isLeft(ta) ? F.of(left(ta.left)) : F.map(f(ta.right), right)); }; }; };\n/**\n * Evaluate each monadic action in the structure from left to right, and collect the results.\n *\n * @example\n * import { pipe } from 'fp-ts/function'\n * import * as E from 'fp-ts/Either'\n * import * as O from 'fp-ts/Option'\n *\n * assert.deepStrictEqual(\n *   pipe(E.right(O.some('a')), E.sequence(O.Applicative)),\n *   O.some(E.right('a'))\n *  )\n *\n * assert.deepStrictEqual(\n *   pipe(E.right(O.none), E.sequence(O.Applicative)),\n *   O.none\n * )\n *\n * @category instance operations\n * @since 2.6.3\n */\nexport var sequence = function (F) { return function (ma) {\n    return isLeft(ma) ? F.of(left(ma.left)) : F.map(ma.right, right);\n}; };\n/**\n * @category instances\n * @since 2.7.0\n */\nexport var Traversable = {\n    URI: URI,\n    map: _map,\n    reduce: _reduce,\n    foldMap: _foldMap,\n    reduceRight: _reduceRight,\n    traverse: _traverse,\n    sequence: sequence\n};\n/**\n * Map a pair of functions over the two type arguments of the bifunctor.\n *\n * @category instance operations\n * @since 2.0.0\n */\nexport var bimap = function (f, g) { return function (fa) { return (isLeft(fa) ? left(f(fa.left)) : right(g(fa.right))); }; };\n/**\n * Map a function over the first type argument of a bifunctor.\n *\n * @category instance operations\n * @since 2.0.0\n */\nexport var mapLeft = function (f) { return function (fa) {\n    return isLeft(fa) ? left(f(fa.left)) : fa;\n}; };\n/**\n * @category instances\n * @since 2.7.0\n */\nexport var Bifunctor = {\n    URI: URI,\n    bimap: _bimap,\n    mapLeft: _mapLeft\n};\n/**\n * Less strict version of [`alt`](#alt).\n *\n * @category instance operations\n * @since 2.9.0\n */\nexport var altW = function (that) { return function (fa) { return (isLeft(fa) ? that() : fa); }; };\n/**\n * Identifies an associative operation on a type constructor. It is similar to `Semigroup`, except that it applies to\n * types of kind `* -> *`.\n *\n * @category instance operations\n * @since 2.0.0\n */\nexport var alt = altW;\n/**\n * @category instances\n * @since 2.7.0\n */\nexport var Alt = {\n    URI: URI,\n    map: _map,\n    alt: _alt\n};\n/**\n * @category instance operations\n * @since 2.0.0\n */\nexport var extend = function (f) { return function (wa) {\n    return isLeft(wa) ? wa : right(f(wa));\n}; };\n/**\n * @category instances\n * @since 2.7.0\n */\nexport var Extend = {\n    URI: URI,\n    map: _map,\n    extend: _extend\n};\n/**\n * @category instances\n * @since 2.7.0\n */\nexport var ChainRec = {\n    URI: URI,\n    map: _map,\n    ap: _ap,\n    chain: _chain,\n    chainRec: _chainRec\n};\n/**\n * @category instance operations\n * @since 2.6.3\n */\nexport var throwError = left;\n/**\n * @category instances\n * @since 2.7.0\n */\nexport var MonadThrow = {\n    URI: URI,\n    map: _map,\n    ap: _ap,\n    of: of,\n    chain: _chain,\n    throwError: throwError\n};\n/**\n * @category instances\n * @since 2.10.0\n */\nexport var FromEither = {\n    URI: URI,\n    fromEither: identity\n};\n/**\n * @example\n * import { fromPredicate, left, right } from 'fp-ts/Either'\n * import { pipe } from 'fp-ts/function'\n *\n * assert.deepStrictEqual(\n *   pipe(\n *     1,\n *     fromPredicate(\n *       (n) => n > 0,\n *       () => 'error'\n *     )\n *   ),\n *   right(1)\n * )\n * assert.deepStrictEqual(\n *   pipe(\n *     -1,\n *     fromPredicate(\n *       (n) => n > 0,\n *       () => 'error'\n *     )\n *   ),\n *   left('error')\n * )\n *\n * @category constructors\n * @since 2.0.0\n */\nexport var fromPredicate = \n/*#__PURE__*/\nfromPredicate_(FromEither);\n// -------------------------------------------------------------------------------------\n// natural transformations\n// -------------------------------------------------------------------------------------\n/**\n * @example\n * import * as E from 'fp-ts/Either'\n * import { pipe } from 'fp-ts/function'\n * import * as O from 'fp-ts/Option'\n *\n * assert.deepStrictEqual(\n *   pipe(\n *     O.some(1),\n *     E.fromOption(() => 'error')\n *   ),\n *   E.right(1)\n * )\n * assert.deepStrictEqual(\n *   pipe(\n *     O.none,\n *     E.fromOption(() => 'error')\n *   ),\n *   E.left('error')\n * )\n *\n * @category natural transformations\n * @since 2.0.0\n */\nexport var fromOption = \n/*#__PURE__*/\nfromOption_(FromEither);\n// -------------------------------------------------------------------------------------\n// refinements\n// -------------------------------------------------------------------------------------\n/**\n * Returns `true` if the either is an instance of `Left`, `false` otherwise.\n *\n * @category refinements\n * @since 2.0.0\n */\nexport var isLeft = _.isLeft;\n/**\n * Returns `true` if the either is an instance of `Right`, `false` otherwise.\n *\n * @category refinements\n * @since 2.0.0\n */\nexport var isRight = _.isRight;\n// -------------------------------------------------------------------------------------\n// destructors\n// -------------------------------------------------------------------------------------\n/**\n * Less strict version of [`match`](#match).\n *\n * @category destructors\n * @since 2.10.0\n */\nexport var matchW = function (onLeft, onRight) { return function (ma) {\n    return isLeft(ma) ? onLeft(ma.left) : onRight(ma.right);\n}; };\n/**\n * Alias of [`matchW`](#matchw).\n *\n * @category destructors\n * @since 2.10.0\n */\nexport var foldW = matchW;\n/**\n * Takes two functions and an `Either` value, if the value is a `Left` the inner value is applied to the first function,\n * if the value is a `Right` the inner value is applied to the second function.\n *\n * @example\n * import { match, left, right } from 'fp-ts/Either'\n * import { pipe } from 'fp-ts/function'\n *\n * function onLeft(errors: Array<string>): string {\n *   return `Errors: ${errors.join(', ')}`\n * }\n *\n * function onRight(value: number): string {\n *   return `Ok: ${value}`\n * }\n *\n * assert.strictEqual(\n *   pipe(\n *     right(1),\n *     match(onLeft, onRight)\n *   ),\n *   'Ok: 1'\n * )\n * assert.strictEqual(\n *   pipe(\n *     left(['error 1', 'error 2']),\n *     match(onLeft, onRight)\n *   ),\n *   'Errors: error 1, error 2'\n * )\n *\n * @category destructors\n * @since 2.10.0\n */\nexport var match = matchW;\n/**\n * Alias of [`match`](#match).\n *\n * @category destructors\n * @since 2.0.0\n */\nexport var fold = match;\n/**\n * Less strict version of [`getOrElse`](#getorelse).\n *\n * @category destructors\n * @since 2.6.0\n */\nexport var getOrElseW = function (onLeft) { return function (ma) {\n    return isLeft(ma) ? onLeft(ma.left) : ma.right;\n}; };\n/**\n * Returns the wrapped value if it's a `Right` or a default value if is a `Left`.\n *\n * @example\n * import { getOrElse, left, right } from 'fp-ts/Either'\n * import { pipe } from 'fp-ts/function'\n *\n * assert.deepStrictEqual(\n *   pipe(\n *     right(1),\n *     getOrElse(() => 0)\n *   ),\n *   1\n * )\n * assert.deepStrictEqual(\n *   pipe(\n *     left('error'),\n *     getOrElse(() => 0)\n *   ),\n *   0\n * )\n *\n * @category destructors\n * @since 2.0.0\n */\nexport var getOrElse = getOrElseW;\n// -------------------------------------------------------------------------------------\n// combinators\n// -------------------------------------------------------------------------------------\n/**\n * Derivable from `Functor`.\n *\n * @category combinators\n * @since 2.10.0\n */\nexport var flap = \n/*#__PURE__*/\nflap_(Functor);\n/**\n * Combine two effectful actions, keeping only the result of the first.\n *\n * Derivable from `Apply`.\n *\n * @category combinators\n * @since 2.0.0\n */\nexport var apFirst = \n/*#__PURE__*/\napFirst_(Apply);\n/**\n * Less strict version of [`apFirst`](#apfirst)\n *\n * @category combinators\n * @since 2.12.0\n */\nexport var apFirstW = apFirst;\n/**\n * Combine two effectful actions, keeping only the result of the second.\n *\n * Derivable from `Apply`.\n *\n * @category combinators\n * @since 2.0.0\n */\nexport var apSecond = \n/*#__PURE__*/\napSecond_(Apply);\n/**\n * Less strict version of [`apSecond`](#apsecond)\n *\n * @category combinators\n * @since 2.12.0\n */\nexport var apSecondW = apSecond;\n/**\n * Composes computations in sequence, using the return value of one computation to determine the next computation and\n * keeping only the result of the first.\n *\n * Derivable from `Chain`.\n *\n * @category combinators\n * @since 2.0.0\n */\nexport var chainFirst = \n/*#__PURE__*/\nchainFirst_(Chain);\n/**\n * Less strict version of [`chainFirst`](#chainfirst)\n *\n * Derivable from `Chain`.\n *\n * @category combinators\n * @since 2.8.0\n */\nexport var chainFirstW = chainFirst;\n/**\n * Less strict version of [`flatten`](#flatten).\n *\n * @category combinators\n * @since 2.11.0\n */\nexport var flattenW = \n/*#__PURE__*/\nchainW(identity);\n/**\n * The `flatten` function is the conventional monad join operator. It is used to remove one level of monadic structure, projecting its bound argument into the outer level.\n *\n * Derivable from `Chain`.\n *\n * @example\n * import * as E from 'fp-ts/Either'\n *\n * assert.deepStrictEqual(E.flatten(E.right(E.right('a'))), E.right('a'))\n * assert.deepStrictEqual(E.flatten(E.right(E.left('e'))), E.left('e'))\n * assert.deepStrictEqual(E.flatten(E.left('e')), E.left('e'))\n *\n * @category combinators\n * @since 2.0.0\n */\nexport var flatten = flattenW;\n/**\n * Derivable from `Extend`.\n *\n * @category combinators\n * @since 2.0.0\n */\nexport var duplicate = \n/*#__PURE__*/\nextend(identity);\n/**\n * @category combinators\n * @since 2.10.0\n */\nexport var fromOptionK = \n/*#__PURE__*/\nfromOptionK_(FromEither);\n/**\n * @category combinators\n * @since 2.11.0\n */\nexport var chainOptionK = \n/*#__PURE__*/\nchainOptionK_(FromEither, Chain);\n/**\n * @example\n * import * as E from 'fp-ts/Either'\n * import { pipe } from 'fp-ts/function'\n *\n * assert.deepStrictEqual(\n *   pipe(\n *     E.right(1),\n *     E.filterOrElse(\n *       (n) => n > 0,\n *       () => 'error'\n *     )\n *   ),\n *   E.right(1)\n * )\n * assert.deepStrictEqual(\n *   pipe(\n *     E.right(-1),\n *     E.filterOrElse(\n *       (n) => n > 0,\n *       () => 'error'\n *     )\n *   ),\n *   E.left('error')\n * )\n * assert.deepStrictEqual(\n *   pipe(\n *     E.left('a'),\n *     E.filterOrElse(\n *       (n) => n > 0,\n *       () => 'error'\n *     )\n *   ),\n *   E.left('a')\n * )\n *\n * @category combinators\n * @since 2.0.0\n */\nexport var filterOrElse = \n/*#__PURE__*/\nfilterOrElse_(FromEither, Chain);\n/**\n * Less strict version of [`filterOrElse`](#filterorelse).\n *\n * @category combinators\n * @since 2.9.0\n */\nexport var filterOrElseW = filterOrElse;\n/**\n * Returns a `Right` if is a `Left` (and vice versa).\n *\n * @category combinators\n * @since 2.0.0\n */\nexport var swap = function (ma) { return (isLeft(ma) ? right(ma.left) : left(ma.right)); };\n/**\n * Less strict version of [`orElse`](#orelse).\n *\n * @category combinators\n * @since 2.10.0\n */\nexport var orElseW = function (onLeft) { return function (ma) {\n    return isLeft(ma) ? onLeft(ma.left) : ma;\n}; };\n/**\n * Useful for recovering from errors.\n *\n * @category combinators\n * @since 2.0.0\n */\nexport var orElse = orElseW;\n// -------------------------------------------------------------------------------------\n// interop\n// -------------------------------------------------------------------------------------\n/**\n * Takes a default and a nullable value, if the value is not nully, turn it into a `Right`, if the value is nully use\n * the provided default as a `Left`.\n *\n * @example\n * import { fromNullable, left, right } from 'fp-ts/Either'\n *\n * const parse = fromNullable('nully')\n *\n * assert.deepStrictEqual(parse(1), right(1))\n * assert.deepStrictEqual(parse(null), left('nully'))\n *\n * @category interop\n * @since 2.0.0\n */\nexport var fromNullable = function (e) { return function (a) {\n    return a == null ? left(e) : right(a);\n}; };\n/**\n * Constructs a new `Either` from a function that might throw.\n *\n * See also [`tryCatchK`](#trycatchk).\n *\n * @example\n * import * as E from 'fp-ts/Either'\n *\n * const unsafeHead = <A>(as: ReadonlyArray<A>): A => {\n *   if (as.length > 0) {\n *     return as[0]\n *   } else {\n *     throw new Error('empty array')\n *   }\n * }\n *\n * const head = <A>(as: ReadonlyArray<A>): E.Either<Error, A> =>\n *   E.tryCatch(() => unsafeHead(as), e => (e instanceof Error ? e : new Error('unknown error')))\n *\n * assert.deepStrictEqual(head([]), E.left(new Error('empty array')))\n * assert.deepStrictEqual(head([1, 2, 3]), E.right(1))\n *\n * @category interop\n * @since 2.0.0\n */\nexport var tryCatch = function (f, onThrow) {\n    try {\n        return right(f());\n    }\n    catch (e) {\n        return left(onThrow(e));\n    }\n};\n/**\n * Converts a function that may throw to one returning a `Either`.\n *\n * @category interop\n * @since 2.10.0\n */\nexport var tryCatchK = function (f, onThrow) { return function () {\n    var a = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        a[_i] = arguments[_i];\n    }\n    return tryCatch(function () { return f.apply(void 0, a); }, onThrow);\n}; };\n/**\n * @category interop\n * @since 2.9.0\n */\nexport var fromNullableK = function (e) {\n    var from = fromNullable(e);\n    return function (f) { return flow(f, from); };\n};\n/**\n * @category interop\n * @since 2.9.0\n */\nexport var chainNullableK = function (e) {\n    var from = fromNullableK(e);\n    return function (f) { return chain(from(f)); };\n};\n/**\n * @category interop\n * @since 2.10.0\n */\nexport var toUnion = \n/*#__PURE__*/\nfoldW(identity, identity);\n// -------------------------------------------------------------------------------------\n// utils\n// -------------------------------------------------------------------------------------\n/**\n * Default value for the `onError` argument of `tryCatch`\n *\n * @since 2.0.0\n */\nexport function toError(e) {\n    return e instanceof Error ? e : new Error(String(e));\n}\nexport function elem(E) {\n    return function (a, ma) {\n        if (ma === undefined) {\n            var elemE_1 = elem(E);\n            return function (ma) { return elemE_1(a, ma); };\n        }\n        return isLeft(ma) ? false : E.equals(a, ma.right);\n    };\n}\n/**\n * Returns `false` if `Left` or returns the result of the application of the given predicate to the `Right` value.\n *\n * @example\n * import { exists, left, right } from 'fp-ts/Either'\n *\n * const gt2 = exists((n: number) => n > 2)\n *\n * assert.strictEqual(gt2(left('a')), false)\n * assert.strictEqual(gt2(right(1)), false)\n * assert.strictEqual(gt2(right(3)), true)\n *\n * @since 2.0.0\n */\nexport var exists = function (predicate) { return function (ma) {\n    return isLeft(ma) ? false : predicate(ma.right);\n}; };\n// -------------------------------------------------------------------------------------\n// do notation\n// -------------------------------------------------------------------------------------\n/**\n * @since 2.9.0\n */\nexport var Do = \n/*#__PURE__*/\nof(_.emptyRecord);\n/**\n * @since 2.8.0\n */\nexport var bindTo = \n/*#__PURE__*/\nbindTo_(Functor);\n/**\n * @since 2.8.0\n */\nexport var bind = \n/*#__PURE__*/\nbind_(Chain);\n/**\n * @since 2.8.0\n */\nexport var bindW = bind;\n// -------------------------------------------------------------------------------------\n// pipeable sequence S\n// -------------------------------------------------------------------------------------\n/**\n * @since 2.8.0\n */\nexport var apS = \n/*#__PURE__*/\napS_(Apply);\n/**\n * @since 2.8.0\n */\nexport var apSW = apS;\n// -------------------------------------------------------------------------------------\n// sequence T\n// -------------------------------------------------------------------------------------\n/**\n * @since 2.11.0\n */\nexport var ApT = \n/*#__PURE__*/\nof(_.emptyReadonlyArray);\n// -------------------------------------------------------------------------------------\n// array utils\n// -------------------------------------------------------------------------------------\n/**\n * Equivalent to `ReadonlyNonEmptyArray#traverseWithIndex(Applicative)`.\n *\n * @since 2.11.0\n */\nexport var traverseReadonlyNonEmptyArrayWithIndex = function (f) { return function (as) {\n    var e = f(0, _.head(as));\n    if (isLeft(e)) {\n        return e;\n    }\n    var out = [e.right];\n    for (var i = 1; i < as.length; i++) {\n        var e_1 = f(i, as[i]);\n        if (isLeft(e_1)) {\n            return e_1;\n        }\n        out.push(e_1.right);\n    }\n    return right(out);\n}; };\n/**\n * Equivalent to `ReadonlyArray#traverseWithIndex(Applicative)`.\n *\n * @since 2.11.0\n */\nexport var traverseReadonlyArrayWithIndex = function (f) {\n    var g = traverseReadonlyNonEmptyArrayWithIndex(f);\n    return function (as) { return (_.isNonEmpty(as) ? g(as) : ApT); };\n};\n/**\n * @since 2.9.0\n */\nexport var traverseArrayWithIndex = traverseReadonlyArrayWithIndex;\n/**\n * @since 2.9.0\n */\nexport var traverseArray = function (f) { return traverseReadonlyArrayWithIndex(function (_, a) { return f(a); }); };\n/**\n * @since 2.9.0\n */\nexport var sequenceArray = \n/*#__PURE__*/\ntraverseArray(identity);\n/**\n * Use [`parse`](./Json.ts.html#parse) instead.\n *\n * @category constructors\n * @since 2.0.0\n * @deprecated\n */\nexport function parseJSON(s, onError) {\n    return tryCatch(function () { return JSON.parse(s); }, onError);\n}\n/**\n * Use [`stringify`](./Json.ts.html#stringify) instead.\n *\n * @category constructors\n * @since 2.0.0\n * @deprecated\n */\nexport var stringifyJSON = function (u, onError) {\n    return tryCatch(function () {\n        var s = JSON.stringify(u);\n        if (typeof s !== 'string') {\n            throw new Error('Converting unsupported structure to JSON');\n        }\n        return s;\n    }, onError);\n};\n/**\n * Use small, specific instances instead.\n *\n * @category instances\n * @since 2.0.0\n * @deprecated\n */\nexport var either = {\n    URI: URI,\n    map: _map,\n    of: of,\n    ap: _ap,\n    chain: _chain,\n    reduce: _reduce,\n    foldMap: _foldMap,\n    reduceRight: _reduceRight,\n    traverse: _traverse,\n    sequence: sequence,\n    bimap: _bimap,\n    mapLeft: _mapLeft,\n    alt: _alt,\n    extend: _extend,\n    chainRec: _chainRec,\n    throwError: throwError\n};\n/**\n * Use [`getApplySemigroup`](./Apply.ts.html#getapplysemigroup) instead.\n *\n * Semigroup returning the left-most `Left` value. If both operands are `Right`s then the inner values\n * are concatenated using the provided `Semigroup`\n *\n * @category instances\n * @since 2.0.0\n * @deprecated\n */\nexport var getApplySemigroup = \n/*#__PURE__*/\ngetApplySemigroup_(Apply);\n/**\n * Use [`getApplicativeMonoid`](./Applicative.ts.html#getapplicativemonoid) instead.\n *\n * @category instances\n * @since 2.0.0\n * @deprecated\n */\nexport var getApplyMonoid = \n/*#__PURE__*/\ngetApplicativeMonoid(Applicative);\n/**\n * Use [`getApplySemigroup`](./Apply.ts.html#getapplysemigroup) instead.\n *\n * @category instances\n * @since 2.0.0\n * @deprecated\n */\nexport var getValidationSemigroup = function (SE, SA) {\n    return getApplySemigroup_(getApplicativeValidation(SE))(SA);\n};\n/**\n * Use [`getApplicativeMonoid`](./Applicative.ts.html#getapplicativemonoid) instead.\n *\n * @category instances\n * @since 2.0.0\n * @deprecated\n */\nexport var getValidationMonoid = function (SE, MA) {\n    return getApplicativeMonoid(getApplicativeValidation(SE))(MA);\n};\n/**\n * Use [`getApplicativeValidation`](#getapplicativevalidation) and [`getAltValidation`](#getaltvalidation) instead.\n *\n * @category instances\n * @since 2.0.0\n * @deprecated\n */\nexport function getValidation(SE) {\n    var ap = getApplicativeValidation(SE).ap;\n    var alt = getAltValidation(SE).alt;\n    return {\n        URI: URI,\n        _E: undefined,\n        map: _map,\n        of: of,\n        chain: _chain,\n        bimap: _bimap,\n        mapLeft: _mapLeft,\n        reduce: _reduce,\n        foldMap: _foldMap,\n        reduceRight: _reduceRight,\n        extend: _extend,\n        traverse: _traverse,\n        sequence: sequence,\n        chainRec: _chainRec,\n        throwError: throwError,\n        ap: ap,\n        alt: alt\n    };\n}\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\n/**\n * @since 1.0.0\n */\nimport { isLeft, left, right } from 'fp-ts/es6/Either';\n/**\n * @category Decode error\n * @since 1.0.0\n */\nexport var failures = left;\n/**\n * @category Decode error\n * @since 1.0.0\n */\nexport var failure = function (value, context, message) {\n    return failures([{ value: value, context: context, message: message }]);\n};\n/**\n * @category Decode error\n * @since 1.0.0\n */\nexport var success = right;\n/**\n * @category Codec\n * @since 1.0.0\n */\nvar Type = /** @class */ (function () {\n    function Type(\n    /** a unique name for this codec */\n    name, \n    /** a custom type guard */\n    is, \n    /** succeeds if a value of type I can be decoded to a value of type A */\n    validate, \n    /** converts a value of type A to a value of type O */\n    encode) {\n        this.name = name;\n        this.is = is;\n        this.validate = validate;\n        this.encode = encode;\n        this.decode = this.decode.bind(this);\n    }\n    /**\n     * @since 1.0.0\n     */\n    Type.prototype.pipe = function (ab, name) {\n        var _this = this;\n        if (name === void 0) { name = \"pipe(\" + this.name + \", \" + ab.name + \")\"; }\n        return new Type(name, ab.is, function (i, c) {\n            var e = _this.validate(i, c);\n            if (isLeft(e)) {\n                return e;\n            }\n            return ab.validate(e.right, c);\n        }, this.encode === identity && ab.encode === identity ? identity : function (b) { return _this.encode(ab.encode(b)); });\n    };\n    /**\n     * @since 1.0.0\n     */\n    Type.prototype.asDecoder = function () {\n        return this;\n    };\n    /**\n     * @since 1.0.0\n     */\n    Type.prototype.asEncoder = function () {\n        return this;\n    };\n    /**\n     * a version of `validate` with a default context\n     * @since 1.0.0\n     */\n    Type.prototype.decode = function (i) {\n        return this.validate(i, [{ key: '', type: this, actual: i }]);\n    };\n    return Type;\n}());\nexport { Type };\n// -------------------------------------------------------------------------------------\n// utils\n// -------------------------------------------------------------------------------------\n/**\n * @since 1.0.0\n */\nexport var identity = function (a) { return a; };\n/**\n * @since 1.0.0\n */\nexport function getFunctionName(f) {\n    return f.displayName || f.name || \"<function\" + f.length + \">\";\n}\n/**\n * @since 1.0.0\n */\nexport function getContextEntry(key, decoder) {\n    return { key: key, type: decoder };\n}\n/**\n * @since 1.0.0\n */\nexport function appendContext(c, key, decoder, actual) {\n    var len = c.length;\n    var r = Array(len + 1);\n    for (var i = 0; i < len; i++) {\n        r[i] = c[i];\n    }\n    r[len] = { key: key, type: decoder, actual: actual };\n    return r;\n}\nfunction pushAll(xs, ys) {\n    var l = ys.length;\n    for (var i = 0; i < l; i++) {\n        xs.push(ys[i]);\n    }\n}\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nfunction getNameFromProps(props) {\n    return Object.keys(props)\n        .map(function (k) { return k + \": \" + props[k].name; })\n        .join(', ');\n}\nfunction useIdentity(codecs) {\n    for (var i = 0; i < codecs.length; i++) {\n        if (codecs[i].encode !== identity) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction getInterfaceTypeName(props) {\n    return \"{ \" + getNameFromProps(props) + \" }\";\n}\nfunction getPartialTypeName(inner) {\n    return \"Partial<\" + inner + \">\";\n}\nfunction enumerableRecord(keys, domain, codomain, name) {\n    if (name === void 0) { name = \"{ [K in \" + domain.name + \"]: \" + codomain.name + \" }\"; }\n    var len = keys.length;\n    return new DictionaryType(name, function (u) { return UnknownRecord.is(u) && keys.every(function (k) { return codomain.is(u[k]); }); }, function (u, c) {\n        var e = UnknownRecord.validate(u, c);\n        if (isLeft(e)) {\n            return e;\n        }\n        var o = e.right;\n        var a = {};\n        var errors = [];\n        var changed = false;\n        for (var i = 0; i < len; i++) {\n            var k = keys[i];\n            var ok = o[k];\n            var codomainResult = codomain.validate(ok, appendContext(c, k, codomain, ok));\n            if (isLeft(codomainResult)) {\n                pushAll(errors, codomainResult.left);\n            }\n            else {\n                var vok = codomainResult.right;\n                changed = changed || vok !== ok;\n                a[k] = vok;\n            }\n        }\n        return errors.length > 0 ? failures(errors) : success((changed || Object.keys(o).length !== len ? a : o));\n    }, codomain.encode === identity\n        ? identity\n        : function (a) {\n            var s = {};\n            for (var i = 0; i < len; i++) {\n                var k = keys[i];\n                s[k] = codomain.encode(a[k]);\n            }\n            return s;\n        }, domain, codomain);\n}\n/**\n * @internal\n */\nexport function getDomainKeys(domain) {\n    var _a;\n    if (isLiteralC(domain)) {\n        var literal_1 = domain.value;\n        if (string.is(literal_1)) {\n            return _a = {}, _a[literal_1] = null, _a;\n        }\n    }\n    else if (isKeyofC(domain)) {\n        return domain.keys;\n    }\n    else if (isUnionC(domain)) {\n        var keys = domain.types.map(function (type) { return getDomainKeys(type); });\n        return keys.some(undefinedType.is) ? undefined : Object.assign.apply(Object, __spreadArrays([{}], keys));\n    }\n    return undefined;\n}\nfunction nonEnumerableRecord(domain, codomain, name) {\n    if (name === void 0) { name = \"{ [K in \" + domain.name + \"]: \" + codomain.name + \" }\"; }\n    return new DictionaryType(name, function (u) {\n        if (UnknownRecord.is(u)) {\n            return Object.keys(u).every(function (k) { return domain.is(k) && codomain.is(u[k]); });\n        }\n        return isAnyC(codomain) && Array.isArray(u);\n    }, function (u, c) {\n        if (UnknownRecord.is(u)) {\n            var a = {};\n            var errors = [];\n            var keys = Object.keys(u);\n            var len = keys.length;\n            var changed = false;\n            for (var i = 0; i < len; i++) {\n                var k = keys[i];\n                var ok = u[k];\n                var domainResult = domain.validate(k, appendContext(c, k, domain, k));\n                if (isLeft(domainResult)) {\n                    pushAll(errors, domainResult.left);\n                }\n                else {\n                    var vk = domainResult.right;\n                    changed = changed || vk !== k;\n                    k = vk;\n                    var codomainResult = codomain.validate(ok, appendContext(c, k, codomain, ok));\n                    if (isLeft(codomainResult)) {\n                        pushAll(errors, codomainResult.left);\n                    }\n                    else {\n                        var vok = codomainResult.right;\n                        changed = changed || vok !== ok;\n                        a[k] = vok;\n                    }\n                }\n            }\n            return errors.length > 0 ? failures(errors) : success((changed ? a : u));\n        }\n        if (isAnyC(codomain) && Array.isArray(u)) {\n            return success(u);\n        }\n        return failure(u, c);\n    }, domain.encode === identity && codomain.encode === identity\n        ? identity\n        : function (a) {\n            var s = {};\n            var keys = Object.keys(a);\n            var len = keys.length;\n            for (var i = 0; i < len; i++) {\n                var k = keys[i];\n                s[String(domain.encode(k))] = codomain.encode(a[k]);\n            }\n            return s;\n        }, domain, codomain);\n}\nfunction getUnionName(codecs) {\n    return '(' + codecs.map(function (type) { return type.name; }).join(' | ') + ')';\n}\n/**\n * @internal\n */\nexport function mergeAll(base, us) {\n    var equal = true;\n    var primitive = true;\n    var baseIsNotADictionary = !UnknownRecord.is(base);\n    for (var _i = 0, us_1 = us; _i < us_1.length; _i++) {\n        var u = us_1[_i];\n        if (u !== base) {\n            equal = false;\n        }\n        if (UnknownRecord.is(u)) {\n            primitive = false;\n        }\n    }\n    if (equal) {\n        return base;\n    }\n    else if (primitive) {\n        return us[us.length - 1];\n    }\n    var r = {};\n    for (var _a = 0, us_2 = us; _a < us_2.length; _a++) {\n        var u = us_2[_a];\n        for (var k in u) {\n            if (!r.hasOwnProperty(k) || baseIsNotADictionary || u[k] !== base[k]) {\n                r[k] = u[k];\n            }\n        }\n    }\n    return r;\n}\nfunction getProps(codec) {\n    switch (codec._tag) {\n        case 'RefinementType':\n        case 'ReadonlyType':\n            return getProps(codec.type);\n        case 'InterfaceType':\n        case 'StrictType':\n        case 'PartialType':\n            return codec.props;\n        case 'IntersectionType':\n            return codec.types.reduce(function (props, type) { return Object.assign(props, getProps(type)); }, {});\n    }\n}\nfunction stripKeys(o, props) {\n    var keys = Object.getOwnPropertyNames(o);\n    var shouldStrip = false;\n    var r = {};\n    for (var i = 0; i < keys.length; i++) {\n        var key = keys[i];\n        if (!hasOwnProperty.call(props, key)) {\n            shouldStrip = true;\n        }\n        else {\n            r[key] = o[key];\n        }\n    }\n    return shouldStrip ? r : o;\n}\nfunction getExactTypeName(codec) {\n    if (isTypeC(codec)) {\n        return \"{| \" + getNameFromProps(codec.props) + \" |}\";\n    }\n    else if (isPartialC(codec)) {\n        return getPartialTypeName(\"{| \" + getNameFromProps(codec.props) + \" |}\");\n    }\n    return \"Exact<\" + codec.name + \">\";\n}\nfunction isNonEmpty(as) {\n    return as.length > 0;\n}\n/**\n * @internal\n */\nexport var emptyTags = {};\nfunction intersect(a, b) {\n    var r = [];\n    for (var _i = 0, a_1 = a; _i < a_1.length; _i++) {\n        var v = a_1[_i];\n        if (b.indexOf(v) !== -1) {\n            r.push(v);\n        }\n    }\n    return r;\n}\nfunction mergeTags(a, b) {\n    if (a === emptyTags) {\n        return b;\n    }\n    if (b === emptyTags) {\n        return a;\n    }\n    var r = Object.assign({}, a);\n    for (var k in b) {\n        if (a.hasOwnProperty(k)) {\n            var intersection_1 = intersect(a[k], b[k]);\n            if (isNonEmpty(intersection_1)) {\n                r[k] = intersection_1;\n            }\n            else {\n                r = emptyTags;\n                break;\n            }\n        }\n        else {\n            r[k] = b[k];\n        }\n    }\n    return r;\n}\nfunction intersectTags(a, b) {\n    if (a === emptyTags || b === emptyTags) {\n        return emptyTags;\n    }\n    var r = emptyTags;\n    for (var k in a) {\n        if (b.hasOwnProperty(k)) {\n            var intersection_2 = intersect(a[k], b[k]);\n            if (intersection_2.length === 0) {\n                if (r === emptyTags) {\n                    r = {};\n                }\n                r[k] = a[k].concat(b[k]);\n            }\n        }\n    }\n    return r;\n}\n// tslint:disable-next-line: deprecation\nfunction isAnyC(codec) {\n    return codec._tag === 'AnyType';\n}\nfunction isLiteralC(codec) {\n    return codec._tag === 'LiteralType';\n}\nfunction isKeyofC(codec) {\n    return codec._tag === 'KeyofType';\n}\nfunction isTypeC(codec) {\n    return codec._tag === 'InterfaceType';\n}\nfunction isPartialC(codec) {\n    return codec._tag === 'PartialType';\n}\n// tslint:disable-next-line: deprecation\nfunction isStrictC(codec) {\n    return codec._tag === 'StrictType';\n}\nfunction isExactC(codec) {\n    return codec._tag === 'ExactType';\n}\n// tslint:disable-next-line: deprecation\nfunction isRefinementC(codec) {\n    return codec._tag === 'RefinementType';\n}\nfunction isIntersectionC(codec) {\n    return codec._tag === 'IntersectionType';\n}\nfunction isUnionC(codec) {\n    return codec._tag === 'UnionType';\n}\nfunction isRecursiveC(codec) {\n    return codec._tag === 'RecursiveType';\n}\nvar lazyCodecs = [];\n/**\n * @internal\n */\nexport function getTags(codec) {\n    if (lazyCodecs.indexOf(codec) !== -1) {\n        return emptyTags;\n    }\n    if (isTypeC(codec) || isStrictC(codec)) {\n        var index = emptyTags;\n        // tslint:disable-next-line: forin\n        for (var k in codec.props) {\n            var prop = codec.props[k];\n            if (isLiteralC(prop)) {\n                if (index === emptyTags) {\n                    index = {};\n                }\n                index[k] = [prop.value];\n            }\n        }\n        return index;\n    }\n    else if (isExactC(codec) || isRefinementC(codec)) {\n        return getTags(codec.type);\n    }\n    else if (isIntersectionC(codec)) {\n        return codec.types.reduce(function (tags, codec) { return mergeTags(tags, getTags(codec)); }, emptyTags);\n    }\n    else if (isUnionC(codec)) {\n        return codec.types.slice(1).reduce(function (tags, codec) { return intersectTags(tags, getTags(codec)); }, getTags(codec.types[0]));\n    }\n    else if (isRecursiveC(codec)) {\n        lazyCodecs.push(codec);\n        var tags = getTags(codec.type);\n        lazyCodecs.pop();\n        return tags;\n    }\n    return emptyTags;\n}\n/**\n * @internal\n */\nexport function getIndex(codecs) {\n    var tags = getTags(codecs[0]);\n    var keys = Object.keys(tags);\n    var len = codecs.length;\n    var _loop_1 = function (k) {\n        var all = tags[k].slice();\n        var index = [tags[k]];\n        for (var i = 1; i < len; i++) {\n            var codec = codecs[i];\n            var ctags = getTags(codec);\n            var values = ctags[k];\n            // tslint:disable-next-line: strict-type-predicates\n            if (values === undefined) {\n                return \"continue-keys\";\n            }\n            else {\n                if (values.some(function (v) { return all.indexOf(v) !== -1; })) {\n                    return \"continue-keys\";\n                }\n                else {\n                    all.push.apply(all, values);\n                    index.push(values);\n                }\n            }\n        }\n        return { value: [k, index] };\n    };\n    keys: for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n        var k = keys_1[_i];\n        var state_1 = _loop_1(k);\n        if (typeof state_1 === \"object\")\n            return state_1.value;\n        switch (state_1) {\n            case \"continue-keys\": continue keys;\n        }\n    }\n    return undefined;\n}\n// -------------------------------------------------------------------------------------\n// primitives\n// -------------------------------------------------------------------------------------\n/**\n * @since 1.0.0\n */\nvar NullType = /** @class */ (function (_super) {\n    __extends(NullType, _super);\n    function NullType() {\n        var _this = _super.call(this, 'null', function (u) { return u === null; }, function (u, c) { return (_this.is(u) ? success(u) : failure(u, c)); }, identity) || this;\n        /**\n         * @since 1.0.0\n         */\n        _this._tag = 'NullType';\n        return _this;\n    }\n    return NullType;\n}(Type));\nexport { NullType };\n/**\n * @category primitives\n * @since 1.0.0\n */\nexport var nullType = new NullType();\n/**\n * @since 1.0.0\n */\nvar UndefinedType = /** @class */ (function (_super) {\n    __extends(UndefinedType, _super);\n    function UndefinedType() {\n        var _this = _super.call(this, 'undefined', function (u) { return u === void 0; }, function (u, c) { return (_this.is(u) ? success(u) : failure(u, c)); }, identity) || this;\n        /**\n         * @since 1.0.0\n         */\n        _this._tag = 'UndefinedType';\n        return _this;\n    }\n    return UndefinedType;\n}(Type));\nexport { UndefinedType };\nvar undefinedType = new UndefinedType();\n/**\n * @since 1.2.0\n */\nvar VoidType = /** @class */ (function (_super) {\n    __extends(VoidType, _super);\n    function VoidType() {\n        var _this = _super.call(this, 'void', undefinedType.is, undefinedType.validate, identity) || this;\n        /**\n         * @since 1.0.0\n         */\n        _this._tag = 'VoidType';\n        return _this;\n    }\n    return VoidType;\n}(Type));\nexport { VoidType };\n/**\n * @category primitives\n * @since 1.2.0\n */\nexport var voidType = new VoidType();\n/**\n * @since 1.5.0\n */\nvar UnknownType = /** @class */ (function (_super) {\n    __extends(UnknownType, _super);\n    function UnknownType() {\n        var _this = _super.call(this, 'unknown', function (_) { return true; }, success, identity) || this;\n        /**\n         * @since 1.0.0\n         */\n        _this._tag = 'UnknownType';\n        return _this;\n    }\n    return UnknownType;\n}(Type));\nexport { UnknownType };\n/**\n * @category primitives\n * @since 1.5.0\n */\nexport var unknown = new UnknownType();\n/**\n * @since 1.0.0\n */\nvar StringType = /** @class */ (function (_super) {\n    __extends(StringType, _super);\n    function StringType() {\n        var _this = _super.call(this, 'string', function (u) { return typeof u === 'string'; }, function (u, c) { return (_this.is(u) ? success(u) : failure(u, c)); }, identity) || this;\n        /**\n         * @since 1.0.0\n         */\n        _this._tag = 'StringType';\n        return _this;\n    }\n    return StringType;\n}(Type));\nexport { StringType };\n/**\n * @category primitives\n * @since 1.0.0\n */\nexport var string = new StringType();\n/**\n * @since 1.0.0\n */\nvar NumberType = /** @class */ (function (_super) {\n    __extends(NumberType, _super);\n    function NumberType() {\n        var _this = _super.call(this, 'number', function (u) { return typeof u === 'number'; }, function (u, c) { return (_this.is(u) ? success(u) : failure(u, c)); }, identity) || this;\n        /**\n         * @since 1.0.0\n         */\n        _this._tag = 'NumberType';\n        return _this;\n    }\n    return NumberType;\n}(Type));\nexport { NumberType };\n/**\n * @category primitives\n * @since 1.0.0\n */\nexport var number = new NumberType();\n/**\n * @since 2.1.0\n */\nvar BigIntType = /** @class */ (function (_super) {\n    __extends(BigIntType, _super);\n    function BigIntType() {\n        var _this = _super.call(this, 'bigint', \n        // tslint:disable-next-line: valid-typeof\n        function (u) { return typeof u === 'bigint'; }, function (u, c) { return (_this.is(u) ? success(u) : failure(u, c)); }, identity) || this;\n        /**\n         * @since 1.0.0\n         */\n        _this._tag = 'BigIntType';\n        return _this;\n    }\n    return BigIntType;\n}(Type));\nexport { BigIntType };\n/**\n * @category primitives\n * @since 2.1.0\n */\nexport var bigint = new BigIntType();\n/**\n * @since 1.0.0\n */\nvar BooleanType = /** @class */ (function (_super) {\n    __extends(BooleanType, _super);\n    function BooleanType() {\n        var _this = _super.call(this, 'boolean', function (u) { return typeof u === 'boolean'; }, function (u, c) { return (_this.is(u) ? success(u) : failure(u, c)); }, identity) || this;\n        /**\n         * @since 1.0.0\n         */\n        _this._tag = 'BooleanType';\n        return _this;\n    }\n    return BooleanType;\n}(Type));\nexport { BooleanType };\n/**\n * @category primitives\n * @since 1.0.0\n */\nexport var boolean = new BooleanType();\n/**\n * @since 1.0.0\n */\nvar AnyArrayType = /** @class */ (function (_super) {\n    __extends(AnyArrayType, _super);\n    function AnyArrayType() {\n        var _this = _super.call(this, 'UnknownArray', Array.isArray, function (u, c) { return (_this.is(u) ? success(u) : failure(u, c)); }, identity) || this;\n        /**\n         * @since 1.0.0\n         */\n        _this._tag = 'AnyArrayType';\n        return _this;\n    }\n    return AnyArrayType;\n}(Type));\nexport { AnyArrayType };\n/**\n * @category primitives\n * @since 1.7.1\n */\nexport var UnknownArray = new AnyArrayType();\n/**\n * @since 1.0.0\n */\nvar AnyDictionaryType = /** @class */ (function (_super) {\n    __extends(AnyDictionaryType, _super);\n    function AnyDictionaryType() {\n        var _this = _super.call(this, 'UnknownRecord', function (u) {\n            var s = Object.prototype.toString.call(u);\n            return s === '[object Object]' || s === '[object Window]';\n        }, function (u, c) { return (_this.is(u) ? success(u) : failure(u, c)); }, identity) || this;\n        /**\n         * @since 1.0.0\n         */\n        _this._tag = 'AnyDictionaryType';\n        return _this;\n    }\n    return AnyDictionaryType;\n}(Type));\nexport { AnyDictionaryType };\n/**\n * @category primitives\n * @since 1.7.1\n */\nexport var UnknownRecord = new AnyDictionaryType();\nexport { \n/**\n * @category primitives\n * @since 1.0.0\n */\nnullType as null, \n/**\n * @category primitives\n * @since 1.0.0\n */\nundefinedType as undefined, \n/**\n * @category primitives\n * @since 1.0.0\n */\nvoidType as void };\n/**\n * @since 1.0.0\n */\nvar LiteralType = /** @class */ (function (_super) {\n    __extends(LiteralType, _super);\n    function LiteralType(name, is, validate, encode, value) {\n        var _this = _super.call(this, name, is, validate, encode) || this;\n        _this.value = value;\n        /**\n         * @since 1.0.0\n         */\n        _this._tag = 'LiteralType';\n        return _this;\n    }\n    return LiteralType;\n}(Type));\nexport { LiteralType };\n/**\n * @category constructors\n * @since 1.0.0\n */\nexport function literal(value, name) {\n    if (name === void 0) { name = JSON.stringify(value); }\n    var is = function (u) { return u === value; };\n    return new LiteralType(name, is, function (u, c) { return (is(u) ? success(value) : failure(u, c)); }, identity, value);\n}\n/**\n * @since 1.0.0\n */\nvar KeyofType = /** @class */ (function (_super) {\n    __extends(KeyofType, _super);\n    function KeyofType(name, is, validate, encode, keys) {\n        var _this = _super.call(this, name, is, validate, encode) || this;\n        _this.keys = keys;\n        /**\n         * @since 1.0.0\n         */\n        _this._tag = 'KeyofType';\n        return _this;\n    }\n    return KeyofType;\n}(Type));\nexport { KeyofType };\n/**\n * @category constructors\n * @since 1.0.0\n */\nexport function keyof(keys, name) {\n    if (name === void 0) { name = Object.keys(keys)\n        .map(function (k) { return JSON.stringify(k); })\n        .join(' | '); }\n    var is = function (u) { return string.is(u) && hasOwnProperty.call(keys, u); };\n    return new KeyofType(name, is, function (u, c) { return (is(u) ? success(u) : failure(u, c)); }, identity, keys);\n}\n// -------------------------------------------------------------------------------------\n// combinators\n// -------------------------------------------------------------------------------------\n/**\n * @since 1.0.0\n */\nvar RefinementType = /** @class */ (function (_super) {\n    __extends(RefinementType, _super);\n    function RefinementType(name, is, validate, encode, type, predicate) {\n        var _this = _super.call(this, name, is, validate, encode) || this;\n        _this.type = type;\n        _this.predicate = predicate;\n        /**\n         * @since 1.0.0\n         */\n        _this._tag = 'RefinementType';\n        return _this;\n    }\n    return RefinementType;\n}(Type));\nexport { RefinementType };\n/**\n * @category combinators\n * @since 1.8.1\n */\nexport function brand(codec, predicate, name) {\n    // tslint:disable-next-line: deprecation\n    return refinement(codec, predicate, name);\n}\n/**\n * A branded codec representing an integer\n *\n * @category primitives\n * @since 1.8.1\n */\nexport var Int = brand(number, function (n) { return Number.isInteger(n); }, 'Int');\n/**\n * @since 1.0.0\n */\nvar RecursiveType = /** @class */ (function (_super) {\n    __extends(RecursiveType, _super);\n    function RecursiveType(name, is, validate, encode, runDefinition) {\n        var _this = _super.call(this, name, is, validate, encode) || this;\n        _this.runDefinition = runDefinition;\n        /**\n         * @since 1.0.0\n         */\n        _this._tag = 'RecursiveType';\n        return _this;\n    }\n    return RecursiveType;\n}(Type));\nexport { RecursiveType };\nObject.defineProperty(RecursiveType.prototype, 'type', {\n    get: function () {\n        return this.runDefinition();\n    },\n    enumerable: true,\n    configurable: true\n});\n/**\n * @category combinators\n * @since 1.0.0\n */\nexport function recursion(name, definition) {\n    var cache;\n    var runDefinition = function () {\n        if (!cache) {\n            cache = definition(Self);\n            cache.name = name;\n        }\n        return cache;\n    };\n    var Self = new RecursiveType(name, function (u) { return runDefinition().is(u); }, function (u, c) { return runDefinition().validate(u, c); }, function (a) { return runDefinition().encode(a); }, runDefinition);\n    return Self;\n}\n/**\n * @since 1.0.0\n */\nvar ArrayType = /** @class */ (function (_super) {\n    __extends(ArrayType, _super);\n    function ArrayType(name, is, validate, encode, type) {\n        var _this = _super.call(this, name, is, validate, encode) || this;\n        _this.type = type;\n        /**\n         * @since 1.0.0\n         */\n        _this._tag = 'ArrayType';\n        return _this;\n    }\n    return ArrayType;\n}(Type));\nexport { ArrayType };\n/**\n * @category combinators\n * @since 1.0.0\n */\nexport function array(item, name) {\n    if (name === void 0) { name = \"Array<\" + item.name + \">\"; }\n    return new ArrayType(name, function (u) { return UnknownArray.is(u) && u.every(item.is); }, function (u, c) {\n        var e = UnknownArray.validate(u, c);\n        if (isLeft(e)) {\n            return e;\n        }\n        var us = e.right;\n        var len = us.length;\n        var as = us;\n        var errors = [];\n        for (var i = 0; i < len; i++) {\n            var ui = us[i];\n            var result = item.validate(ui, appendContext(c, String(i), item, ui));\n            if (isLeft(result)) {\n                pushAll(errors, result.left);\n            }\n            else {\n                var ai = result.right;\n                if (ai !== ui) {\n                    if (as === us) {\n                        as = us.slice();\n                    }\n                    as[i] = ai;\n                }\n            }\n        }\n        return errors.length > 0 ? failures(errors) : success(as);\n    }, item.encode === identity ? identity : function (a) { return a.map(item.encode); }, item);\n}\n/**\n * @since 1.0.0\n */\nvar InterfaceType = /** @class */ (function (_super) {\n    __extends(InterfaceType, _super);\n    function InterfaceType(name, is, validate, encode, props) {\n        var _this = _super.call(this, name, is, validate, encode) || this;\n        _this.props = props;\n        /**\n         * @since 1.0.0\n         */\n        _this._tag = 'InterfaceType';\n        return _this;\n    }\n    return InterfaceType;\n}(Type));\nexport { InterfaceType };\n/**\n * @category combinators\n * @since 1.0.0\n */\nexport function type(props, name) {\n    if (name === void 0) { name = getInterfaceTypeName(props); }\n    var keys = Object.keys(props);\n    var types = keys.map(function (key) { return props[key]; });\n    var len = keys.length;\n    return new InterfaceType(name, function (u) {\n        if (UnknownRecord.is(u)) {\n            for (var i = 0; i < len; i++) {\n                var k = keys[i];\n                var uk = u[k];\n                if ((uk === undefined && !hasOwnProperty.call(u, k)) || !types[i].is(uk)) {\n                    return false;\n                }\n            }\n            return true;\n        }\n        return false;\n    }, function (u, c) {\n        var e = UnknownRecord.validate(u, c);\n        if (isLeft(e)) {\n            return e;\n        }\n        var o = e.right;\n        var a = o;\n        var errors = [];\n        for (var i = 0; i < len; i++) {\n            var k = keys[i];\n            var ak = a[k];\n            var type_1 = types[i];\n            var result = type_1.validate(ak, appendContext(c, k, type_1, ak));\n            if (isLeft(result)) {\n                pushAll(errors, result.left);\n            }\n            else {\n                var vak = result.right;\n                if (vak !== ak || (vak === undefined && !hasOwnProperty.call(a, k))) {\n                    /* istanbul ignore next */\n                    if (a === o) {\n                        a = __assign({}, o);\n                    }\n                    a[k] = vak;\n                }\n            }\n        }\n        return errors.length > 0 ? failures(errors) : success(a);\n    }, useIdentity(types)\n        ? identity\n        : function (a) {\n            var s = __assign({}, a);\n            for (var i = 0; i < len; i++) {\n                var k = keys[i];\n                var encode = types[i].encode;\n                if (encode !== identity) {\n                    s[k] = encode(a[k]);\n                }\n            }\n            return s;\n        }, props);\n}\n/**\n * @since 1.0.0\n */\nvar PartialType = /** @class */ (function (_super) {\n    __extends(PartialType, _super);\n    function PartialType(name, is, validate, encode, props) {\n        var _this = _super.call(this, name, is, validate, encode) || this;\n        _this.props = props;\n        /**\n         * @since 1.0.0\n         */\n        _this._tag = 'PartialType';\n        return _this;\n    }\n    return PartialType;\n}(Type));\nexport { PartialType };\n/**\n * @category combinators\n * @since 1.0.0\n */\nexport function partial(props, name) {\n    if (name === void 0) { name = getPartialTypeName(getInterfaceTypeName(props)); }\n    var keys = Object.keys(props);\n    var types = keys.map(function (key) { return props[key]; });\n    var len = keys.length;\n    return new PartialType(name, function (u) {\n        if (UnknownRecord.is(u)) {\n            for (var i = 0; i < len; i++) {\n                var k = keys[i];\n                var uk = u[k];\n                if (uk !== undefined && !props[k].is(uk)) {\n                    return false;\n                }\n            }\n            return true;\n        }\n        return false;\n    }, function (u, c) {\n        var e = UnknownRecord.validate(u, c);\n        if (isLeft(e)) {\n            return e;\n        }\n        var o = e.right;\n        var a = o;\n        var errors = [];\n        for (var i = 0; i < len; i++) {\n            var k = keys[i];\n            var ak = a[k];\n            var type_2 = props[k];\n            var result = type_2.validate(ak, appendContext(c, k, type_2, ak));\n            if (isLeft(result)) {\n                if (ak !== undefined) {\n                    pushAll(errors, result.left);\n                }\n            }\n            else {\n                var vak = result.right;\n                if (vak !== ak) {\n                    /* istanbul ignore next */\n                    if (a === o) {\n                        a = __assign({}, o);\n                    }\n                    a[k] = vak;\n                }\n            }\n        }\n        return errors.length > 0 ? failures(errors) : success(a);\n    }, useIdentity(types)\n        ? identity\n        : function (a) {\n            var s = __assign({}, a);\n            for (var i = 0; i < len; i++) {\n                var k = keys[i];\n                var ak = a[k];\n                if (ak !== undefined) {\n                    s[k] = types[i].encode(ak);\n                }\n            }\n            return s;\n        }, props);\n}\n/**\n * @since 1.0.0\n */\nvar DictionaryType = /** @class */ (function (_super) {\n    __extends(DictionaryType, _super);\n    function DictionaryType(name, is, validate, encode, domain, codomain) {\n        var _this = _super.call(this, name, is, validate, encode) || this;\n        _this.domain = domain;\n        _this.codomain = codomain;\n        /**\n         * @since 1.0.0\n         */\n        _this._tag = 'DictionaryType';\n        return _this;\n    }\n    return DictionaryType;\n}(Type));\nexport { DictionaryType };\n/**\n * @category combinators\n * @since 1.7.1\n */\nexport function record(domain, codomain, name) {\n    var keys = getDomainKeys(domain);\n    return keys\n        ? enumerableRecord(Object.keys(keys), domain, codomain, name)\n        : nonEnumerableRecord(domain, codomain, name);\n}\n/**\n * @since 1.0.0\n */\nvar UnionType = /** @class */ (function (_super) {\n    __extends(UnionType, _super);\n    function UnionType(name, is, validate, encode, types) {\n        var _this = _super.call(this, name, is, validate, encode) || this;\n        _this.types = types;\n        /**\n         * @since 1.0.0\n         */\n        _this._tag = 'UnionType';\n        return _this;\n    }\n    return UnionType;\n}(Type));\nexport { UnionType };\n/**\n * @category combinators\n * @since 1.0.0\n */\nexport function union(codecs, name) {\n    if (name === void 0) { name = getUnionName(codecs); }\n    var index = getIndex(codecs);\n    if (index !== undefined && codecs.length > 0) {\n        var tag_1 = index[0], groups_1 = index[1];\n        var len_1 = groups_1.length;\n        var find_1 = function (value) {\n            for (var i = 0; i < len_1; i++) {\n                if (groups_1[i].indexOf(value) !== -1) {\n                    return i;\n                }\n            }\n            return undefined;\n        };\n        // tslint:disable-next-line: deprecation\n        return new TaggedUnionType(name, function (u) {\n            if (UnknownRecord.is(u)) {\n                var i = find_1(u[tag_1]);\n                return i !== undefined ? codecs[i].is(u) : false;\n            }\n            return false;\n        }, function (u, c) {\n            var e = UnknownRecord.validate(u, c);\n            if (isLeft(e)) {\n                return e;\n            }\n            var r = e.right;\n            var i = find_1(r[tag_1]);\n            if (i === undefined) {\n                return failure(u, c);\n            }\n            var codec = codecs[i];\n            return codec.validate(r, appendContext(c, String(i), codec, r));\n        }, useIdentity(codecs)\n            ? identity\n            : function (a) {\n                var i = find_1(a[tag_1]);\n                if (i === undefined) {\n                    // https://github.com/gcanti/io-ts/pull/305\n                    throw new Error(\"no codec found to encode value in union codec \" + name);\n                }\n                else {\n                    return codecs[i].encode(a);\n                }\n            }, codecs, tag_1);\n    }\n    else {\n        return new UnionType(name, function (u) { return codecs.some(function (type) { return type.is(u); }); }, function (u, c) {\n            var errors = [];\n            for (var i = 0; i < codecs.length; i++) {\n                var codec = codecs[i];\n                var result = codec.validate(u, appendContext(c, String(i), codec, u));\n                if (isLeft(result)) {\n                    pushAll(errors, result.left);\n                }\n                else {\n                    return success(result.right);\n                }\n            }\n            return failures(errors);\n        }, useIdentity(codecs)\n            ? identity\n            : function (a) {\n                for (var _i = 0, codecs_1 = codecs; _i < codecs_1.length; _i++) {\n                    var codec = codecs_1[_i];\n                    if (codec.is(a)) {\n                        return codec.encode(a);\n                    }\n                }\n                // https://github.com/gcanti/io-ts/pull/305\n                throw new Error(\"no codec found to encode value in union type \" + name);\n            }, codecs);\n    }\n}\n/**\n * @since 1.0.0\n */\nvar IntersectionType = /** @class */ (function (_super) {\n    __extends(IntersectionType, _super);\n    function IntersectionType(name, is, validate, encode, types) {\n        var _this = _super.call(this, name, is, validate, encode) || this;\n        _this.types = types;\n        /**\n         * @since 1.0.0\n         */\n        _this._tag = 'IntersectionType';\n        return _this;\n    }\n    return IntersectionType;\n}(Type));\nexport { IntersectionType };\nexport function intersection(codecs, name) {\n    if (name === void 0) { name = \"(\" + codecs.map(function (type) { return type.name; }).join(' & ') + \")\"; }\n    var len = codecs.length;\n    return new IntersectionType(name, function (u) { return codecs.every(function (type) { return type.is(u); }); }, codecs.length === 0\n        ? success\n        : function (u, c) {\n            var us = [];\n            var errors = [];\n            for (var i = 0; i < len; i++) {\n                var codec = codecs[i];\n                var result = codec.validate(u, appendContext(c, String(i), codec, u));\n                if (isLeft(result)) {\n                    pushAll(errors, result.left);\n                }\n                else {\n                    us.push(result.right);\n                }\n            }\n            return errors.length > 0 ? failures(errors) : success(mergeAll(u, us));\n        }, codecs.length === 0\n        ? identity\n        : function (a) {\n            return mergeAll(a, codecs.map(function (codec) { return codec.encode(a); }));\n        }, codecs);\n}\n/**\n * @since 1.0.0\n */\nvar TupleType = /** @class */ (function (_super) {\n    __extends(TupleType, _super);\n    function TupleType(name, is, validate, encode, types) {\n        var _this = _super.call(this, name, is, validate, encode) || this;\n        _this.types = types;\n        /**\n         * @since 1.0.0\n         */\n        _this._tag = 'TupleType';\n        return _this;\n    }\n    return TupleType;\n}(Type));\nexport { TupleType };\nexport function tuple(codecs, name) {\n    if (name === void 0) { name = \"[\" + codecs.map(function (type) { return type.name; }).join(', ') + \"]\"; }\n    var len = codecs.length;\n    return new TupleType(name, function (u) { return UnknownArray.is(u) && u.length === len && codecs.every(function (type, i) { return type.is(u[i]); }); }, function (u, c) {\n        var e = UnknownArray.validate(u, c);\n        if (isLeft(e)) {\n            return e;\n        }\n        var us = e.right;\n        var as = us.length > len ? us.slice(0, len) : us; // strip additional components\n        var errors = [];\n        for (var i = 0; i < len; i++) {\n            var a = us[i];\n            var type_3 = codecs[i];\n            var result = type_3.validate(a, appendContext(c, String(i), type_3, a));\n            if (isLeft(result)) {\n                pushAll(errors, result.left);\n            }\n            else {\n                var va = result.right;\n                if (va !== a) {\n                    /* istanbul ignore next */\n                    if (as === us) {\n                        as = us.slice();\n                    }\n                    as[i] = va;\n                }\n            }\n        }\n        return errors.length > 0 ? failures(errors) : success(as);\n    }, useIdentity(codecs) ? identity : function (a) { return codecs.map(function (type, i) { return type.encode(a[i]); }); }, codecs);\n}\n/**\n * @since 1.0.0\n */\nvar ReadonlyType = /** @class */ (function (_super) {\n    __extends(ReadonlyType, _super);\n    function ReadonlyType(name, is, validate, encode, type) {\n        var _this = _super.call(this, name, is, validate, encode) || this;\n        _this.type = type;\n        /**\n         * @since 1.0.0\n         */\n        _this._tag = 'ReadonlyType';\n        return _this;\n    }\n    return ReadonlyType;\n}(Type));\nexport { ReadonlyType };\n/**\n * @category combinators\n * @since 1.0.0\n */\nexport function readonly(codec, name) {\n    if (name === void 0) { name = \"Readonly<\" + codec.name + \">\"; }\n    return new ReadonlyType(name, codec.is, codec.validate, codec.encode, codec);\n}\n/**\n * @since 1.0.0\n */\nvar ReadonlyArrayType = /** @class */ (function (_super) {\n    __extends(ReadonlyArrayType, _super);\n    function ReadonlyArrayType(name, is, validate, encode, type) {\n        var _this = _super.call(this, name, is, validate, encode) || this;\n        _this.type = type;\n        /**\n         * @since 1.0.0\n         */\n        _this._tag = 'ReadonlyArrayType';\n        return _this;\n    }\n    return ReadonlyArrayType;\n}(Type));\nexport { ReadonlyArrayType };\n/**\n * @category combinators\n * @since 1.0.0\n */\nexport function readonlyArray(item, name) {\n    if (name === void 0) { name = \"ReadonlyArray<\" + item.name + \">\"; }\n    var codec = array(item);\n    return new ReadonlyArrayType(name, codec.is, codec.validate, codec.encode, item);\n}\n/**\n * Strips additional properties, equivalent to `exact(type(props))`.\n *\n * @category combinators\n * @since 1.0.0\n */\nexport var strict = function (props, name) { return exact(type(props), name); };\n/**\n * @since 1.1.0\n */\nvar ExactType = /** @class */ (function (_super) {\n    __extends(ExactType, _super);\n    function ExactType(name, is, validate, encode, type) {\n        var _this = _super.call(this, name, is, validate, encode) || this;\n        _this.type = type;\n        /**\n         * @since 1.0.0\n         */\n        _this._tag = 'ExactType';\n        return _this;\n    }\n    return ExactType;\n}(Type));\nexport { ExactType };\n/**\n * Strips additional properties.\n *\n * @category combinators\n * @since 1.1.0\n */\nexport function exact(codec, name) {\n    if (name === void 0) { name = getExactTypeName(codec); }\n    var props = getProps(codec);\n    return new ExactType(name, codec.is, function (u, c) {\n        var e = UnknownRecord.validate(u, c);\n        if (isLeft(e)) {\n            return e;\n        }\n        var ce = codec.validate(u, c);\n        if (isLeft(ce)) {\n            return ce;\n        }\n        return right(stripKeys(ce.right, props));\n    }, function (a) { return codec.encode(stripKeys(a, props)); }, codec);\n}\n// -------------------------------------------------------------------------------------\n// deprecated\n// -------------------------------------------------------------------------------------\n/**\n * @since 1.0.0\n * @deprecated\n */\nvar FunctionType = /** @class */ (function (_super) {\n    __extends(FunctionType, _super);\n    function FunctionType() {\n        var _this = _super.call(this, 'Function', \n        // tslint:disable-next-line:strict-type-predicates\n        function (u) { return typeof u === 'function'; }, function (u, c) { return (_this.is(u) ? success(u) : failure(u, c)); }, identity) || this;\n        /**\n         * @since 1.0.0\n         */\n        _this._tag = 'FunctionType';\n        return _this;\n    }\n    return FunctionType;\n}(Type));\nexport { FunctionType };\n/**\n * @category primitives\n * @since 1.0.0\n * @deprecated\n */\n// tslint:disable-next-line: deprecation\nexport var Function = new FunctionType();\n/**\n * @since 1.3.0\n * @deprecated\n */\nvar TaggedUnionType = /** @class */ (function (_super) {\n    __extends(TaggedUnionType, _super);\n    function TaggedUnionType(name, \n    // tslint:disable-next-line: deprecation\n    is, \n    // tslint:disable-next-line: deprecation\n    validate, \n    // tslint:disable-next-line: deprecation\n    encode, codecs, tag) {\n        var _this = _super.call(this, name, is, validate, encode, codecs) /* istanbul ignore next */ // <= workaround for https://github.com/Microsoft/TypeScript/issues/13455\n         || this;\n        _this.tag = tag;\n        return _this;\n    }\n    return TaggedUnionType;\n}(UnionType));\nexport { TaggedUnionType };\n/**\n * Use `union` instead.\n *\n * @category combinators\n * @since 1.3.0\n * @deprecated\n */\nexport var taggedUnion = function (tag, codecs, name\n// tslint:disable-next-line: deprecation\n) {\n    if (name === void 0) { name = getUnionName(codecs); }\n    var U = union(codecs, name);\n    // tslint:disable-next-line: deprecation\n    if (U instanceof TaggedUnionType) {\n        return U;\n    }\n    else {\n        console.warn(\"[io-ts] Cannot build a tagged union for \" + name + \", returning a de-optimized union\");\n        // tslint:disable-next-line: deprecation\n        return new TaggedUnionType(name, U.is, U.validate, U.encode, codecs, tag);\n    }\n};\nexport { \n/**\n * Use `UnknownArray` instead.\n *\n * @category primitives\n * @deprecated\n * @since 1.0.0\n */\nUnknownArray as Array };\nexport { \n/**\n * Use `type` instead.\n *\n * @category combinators\n * @deprecated\n * @since 1.0.0\n */\ntype as interface };\n/**\n * @since 1.0.0\n * @deprecated\n */\nexport var getValidationError /* istanbul ignore next */ = function (value, context) { return ({\n    value: value,\n    context: context\n}); };\n/**\n * @since 1.0.0\n * @deprecated\n */\nexport var getDefaultContext /* istanbul ignore next */ = function (decoder) { return [\n    { key: '', type: decoder }\n]; };\n/**\n * @since 1.0.0\n * @deprecated\n */\nvar NeverType = /** @class */ (function (_super) {\n    __extends(NeverType, _super);\n    function NeverType() {\n        var _this = _super.call(this, 'never', function (_) { return false; }, function (u, c) { return failure(u, c); }, \n        /* istanbul ignore next */\n        function () {\n            throw new Error('cannot encode never');\n        }) || this;\n        /**\n         * @since 1.0.0\n         */\n        _this._tag = 'NeverType';\n        return _this;\n    }\n    return NeverType;\n}(Type));\nexport { NeverType };\n/**\n * @category primitives\n * @since 1.0.0\n * @deprecated\n */\n// tslint:disable-next-line: deprecation\nexport var never = new NeverType();\n/**\n * @since 1.0.0\n * @deprecated\n */\nvar AnyType = /** @class */ (function (_super) {\n    __extends(AnyType, _super);\n    function AnyType() {\n        var _this = _super.call(this, 'any', function (_) { return true; }, success, identity) || this;\n        /**\n         * @since 1.0.0\n         */\n        _this._tag = 'AnyType';\n        return _this;\n    }\n    return AnyType;\n}(Type));\nexport { AnyType };\n/**\n * Use `unknown` instead.\n *\n * @category primitives\n * @since 1.0.0\n * @deprecated\n */\n// tslint:disable-next-line: deprecation\nexport var any = new AnyType();\n/**\n * Use `UnknownRecord` instead.\n *\n * @category primitives\n * @since 1.0.0\n * @deprecated\n */\nexport var Dictionary = UnknownRecord;\n/**\n * @since 1.0.0\n * @deprecated\n */\nvar ObjectType = /** @class */ (function (_super) {\n    __extends(ObjectType, _super);\n    function ObjectType() {\n        var _this = _super.call(this, 'object', function (u) { return u !== null && typeof u === 'object'; }, function (u, c) { return (_this.is(u) ? success(u) : failure(u, c)); }, identity) || this;\n        /**\n         * @since 1.0.0\n         */\n        _this._tag = 'ObjectType';\n        return _this;\n    }\n    return ObjectType;\n}(Type));\nexport { ObjectType };\n/**\n * Use `UnknownRecord` instead.\n *\n * @category primitives\n * @since 1.0.0\n * @deprecated\n */\n// tslint:disable-next-line: deprecation\nexport var object = new ObjectType();\n/**\n * Use `brand` instead.\n *\n * @category combinators\n * @since 1.0.0\n * @deprecated\n */\nexport function refinement(codec, predicate, name) {\n    if (name === void 0) { name = \"(\" + codec.name + \" | \" + getFunctionName(predicate) + \")\"; }\n    return new RefinementType(name, function (u) { return codec.is(u) && predicate(u); }, function (i, c) {\n        var e = codec.validate(i, c);\n        if (isLeft(e)) {\n            return e;\n        }\n        var a = e.right;\n        return predicate(a) ? success(a) : failure(a, c);\n    }, codec.encode, codec, predicate);\n}\n/**\n * Use `Int` instead.\n *\n * @category primitives\n * @since 1.0.0\n * @deprecated\n */\n// tslint:disable-next-line: deprecation\nexport var Integer = refinement(number, Number.isInteger, 'Integer');\n/**\n * Use `record` instead.\n *\n * @category combinators\n * @since 1.0.0\n * @deprecated\n */\nexport var dictionary = record;\n/**\n * @since 1.0.0\n * @deprecated\n */\nvar StrictType = /** @class */ (function (_super) {\n    __extends(StrictType, _super);\n    function StrictType(name, \n    // tslint:disable-next-line: deprecation\n    is, \n    // tslint:disable-next-line: deprecation\n    validate, \n    // tslint:disable-next-line: deprecation\n    encode, props) {\n        var _this = _super.call(this, name, is, validate, encode) || this;\n        _this.props = props;\n        /**\n         * @since 1.0.0\n         */\n        _this._tag = 'StrictType';\n        return _this;\n    }\n    return StrictType;\n}(Type));\nexport { StrictType };\n/**\n * Drops the codec \"kind\".\n *\n * @category combinators\n * @since 1.1.0\n * @deprecated\n */\nexport function clean(codec) {\n    return codec;\n}\nexport function alias(codec) {\n    return function () { return codec; };\n}\n","import './_grid.sass'\n\nimport Grid from './grid'\n\nexport default Grid('layout')\n","/*!\n * FilePond 4.30.4\n * Licensed under MIT, https://opensource.org/licenses/MIT/\n * Please visit https://pqina.nl/filepond/ for details.\n */\n\n/* eslint-disable */\n\n(function(global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined'\n        ? factory(exports)\n        : typeof define === 'function' && define.amd\n        ? define(['exports'], factory)\n        : ((global = global || self), factory((global.FilePond = {})));\n})(this, function(exports) {\n    'use strict';\n\n    var isNode = function isNode(value) {\n        return value instanceof HTMLElement;\n    };\n\n    var createStore = function createStore(initialState) {\n        var queries = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n        var actions = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n        // internal state\n        var state = Object.assign({}, initialState);\n\n        // contains all actions for next frame, is clear when actions are requested\n        var actionQueue = [];\n        var dispatchQueue = [];\n\n        // returns a duplicate of the current state\n        var getState = function getState() {\n            return Object.assign({}, state);\n        };\n\n        // returns a duplicate of the actions array and clears the actions array\n        var processActionQueue = function processActionQueue() {\n            // create copy of actions queue\n            var queue = [].concat(actionQueue);\n\n            // clear actions queue (we don't want no double actions)\n            actionQueue.length = 0;\n\n            return queue;\n        };\n\n        // processes actions that might block the main UI thread\n        var processDispatchQueue = function processDispatchQueue() {\n            // create copy of actions queue\n            var queue = [].concat(dispatchQueue);\n\n            // clear actions queue (we don't want no double actions)\n            dispatchQueue.length = 0;\n\n            // now dispatch these actions\n            queue.forEach(function(_ref) {\n                var type = _ref.type,\n                    data = _ref.data;\n                dispatch(type, data);\n            });\n        };\n\n        // adds a new action, calls its handler and\n        var dispatch = function dispatch(type, data, isBlocking) {\n            // is blocking action (should never block if document is hidden)\n            if (isBlocking && !document.hidden) {\n                dispatchQueue.push({ type: type, data: data });\n                return;\n            }\n\n            // if this action has a handler, handle the action\n            if (actionHandlers[type]) {\n                actionHandlers[type](data);\n            }\n\n            // now add action\n            actionQueue.push({\n                type: type,\n                data: data,\n            });\n        };\n\n        var query = function query(str) {\n            var _queryHandles;\n            for (\n                var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1;\n                _key < _len;\n                _key++\n            ) {\n                args[_key - 1] = arguments[_key];\n            }\n            return queryHandles[str]\n                ? (_queryHandles = queryHandles)[str].apply(_queryHandles, args)\n                : null;\n        };\n\n        var api = {\n            getState: getState,\n            processActionQueue: processActionQueue,\n            processDispatchQueue: processDispatchQueue,\n            dispatch: dispatch,\n            query: query,\n        };\n\n        var queryHandles = {};\n        queries.forEach(function(query) {\n            queryHandles = Object.assign({}, query(state), {}, queryHandles);\n        });\n\n        var actionHandlers = {};\n        actions.forEach(function(action) {\n            actionHandlers = Object.assign({}, action(dispatch, query, state), {}, actionHandlers);\n        });\n\n        return api;\n    };\n\n    var defineProperty = function defineProperty(obj, property, definition) {\n        if (typeof definition === 'function') {\n            obj[property] = definition;\n            return;\n        }\n        Object.defineProperty(obj, property, Object.assign({}, definition));\n    };\n\n    var forin = function forin(obj, cb) {\n        for (var key in obj) {\n            if (!obj.hasOwnProperty(key)) {\n                continue;\n            }\n\n            cb(key, obj[key]);\n        }\n    };\n\n    var createObject = function createObject(definition) {\n        var obj = {};\n        forin(definition, function(property) {\n            defineProperty(obj, property, definition[property]);\n        });\n        return obj;\n    };\n\n    var attr = function attr(node, name) {\n        var value = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n        if (value === null) {\n            return node.getAttribute(name) || node.hasAttribute(name);\n        }\n        node.setAttribute(name, value);\n    };\n\n    var ns = 'http://www.w3.org/2000/svg';\n    var svgElements = ['svg', 'path']; // only svg elements used\n\n    var isSVGElement = function isSVGElement(tag) {\n        return svgElements.includes(tag);\n    };\n\n    var createElement = function createElement(tag, className) {\n        var attributes = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n        if (typeof className === 'object') {\n            attributes = className;\n            className = null;\n        }\n        var element = isSVGElement(tag)\n            ? document.createElementNS(ns, tag)\n            : document.createElement(tag);\n        if (className) {\n            if (isSVGElement(tag)) {\n                attr(element, 'class', className);\n            } else {\n                element.className = className;\n            }\n        }\n        forin(attributes, function(name, value) {\n            attr(element, name, value);\n        });\n        return element;\n    };\n\n    var appendChild = function appendChild(parent) {\n        return function(child, index) {\n            if (typeof index !== 'undefined' && parent.children[index]) {\n                parent.insertBefore(child, parent.children[index]);\n            } else {\n                parent.appendChild(child);\n            }\n        };\n    };\n\n    var appendChildView = function appendChildView(parent, childViews) {\n        return function(view, index) {\n            if (typeof index !== 'undefined') {\n                childViews.splice(index, 0, view);\n            } else {\n                childViews.push(view);\n            }\n\n            return view;\n        };\n    };\n\n    var removeChildView = function removeChildView(parent, childViews) {\n        return function(view) {\n            // remove from child views\n            childViews.splice(childViews.indexOf(view), 1);\n\n            // remove the element\n            if (view.element.parentNode) {\n                parent.removeChild(view.element);\n            }\n\n            return view;\n        };\n    };\n\n    var IS_BROWSER = (function() {\n        return typeof window !== 'undefined' && typeof window.document !== 'undefined';\n    })();\n    var isBrowser = function isBrowser() {\n        return IS_BROWSER;\n    };\n\n    var testElement = isBrowser() ? createElement('svg') : {};\n    var getChildCount =\n        'children' in testElement\n            ? function(el) {\n                  return el.children.length;\n              }\n            : function(el) {\n                  return el.childNodes.length;\n              };\n\n    var getViewRect = function getViewRect(elementRect, childViews, offset, scale) {\n        var left = offset[0] || elementRect.left;\n        var top = offset[1] || elementRect.top;\n        var right = left + elementRect.width;\n        var bottom = top + elementRect.height * (scale[1] || 1);\n\n        var rect = {\n            // the rectangle of the element itself\n            element: Object.assign({}, elementRect),\n\n            // the rectangle of the element expanded to contain its children, does not include any margins\n            inner: {\n                left: elementRect.left,\n                top: elementRect.top,\n                right: elementRect.right,\n                bottom: elementRect.bottom,\n            },\n\n            // the rectangle of the element expanded to contain its children including own margin and child margins\n            // margins will be added after we've recalculated the size\n            outer: {\n                left: left,\n                top: top,\n                right: right,\n                bottom: bottom,\n            },\n        };\n\n        // expand rect to fit all child rectangles\n        childViews\n            .filter(function(childView) {\n                return !childView.isRectIgnored();\n            })\n            .map(function(childView) {\n                return childView.rect;\n            })\n            .forEach(function(childViewRect) {\n                expandRect(rect.inner, Object.assign({}, childViewRect.inner));\n                expandRect(rect.outer, Object.assign({}, childViewRect.outer));\n            });\n\n        // calculate inner width and height\n        calculateRectSize(rect.inner);\n\n        // append additional margin (top and left margins are included in top and left automatically)\n        rect.outer.bottom += rect.element.marginBottom;\n        rect.outer.right += rect.element.marginRight;\n\n        // calculate outer width and height\n        calculateRectSize(rect.outer);\n\n        return rect;\n    };\n\n    var expandRect = function expandRect(parent, child) {\n        // adjust for parent offset\n        child.top += parent.top;\n        child.right += parent.left;\n        child.bottom += parent.top;\n        child.left += parent.left;\n\n        if (child.bottom > parent.bottom) {\n            parent.bottom = child.bottom;\n        }\n\n        if (child.right > parent.right) {\n            parent.right = child.right;\n        }\n    };\n\n    var calculateRectSize = function calculateRectSize(rect) {\n        rect.width = rect.right - rect.left;\n        rect.height = rect.bottom - rect.top;\n    };\n\n    var isNumber = function isNumber(value) {\n        return typeof value === 'number';\n    };\n\n    /**\n     * Determines if position is at destination\n     * @param position\n     * @param destination\n     * @param velocity\n     * @param errorMargin\n     * @returns {boolean}\n     */\n    var thereYet = function thereYet(position, destination, velocity) {\n        var errorMargin = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0.001;\n        return Math.abs(position - destination) < errorMargin && Math.abs(velocity) < errorMargin;\n    };\n\n    /**\n     * Spring animation\n     */\n    var spring =\n        // default options\n        function spring() // method definition\n        {\n            var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n                _ref$stiffness = _ref.stiffness,\n                stiffness = _ref$stiffness === void 0 ? 0.5 : _ref$stiffness,\n                _ref$damping = _ref.damping,\n                damping = _ref$damping === void 0 ? 0.75 : _ref$damping,\n                _ref$mass = _ref.mass,\n                mass = _ref$mass === void 0 ? 10 : _ref$mass;\n            var target = null;\n            var position = null;\n            var velocity = 0;\n            var resting = false;\n\n            // updates spring state\n            var interpolate = function interpolate(ts, skipToEndState) {\n                // in rest, don't animate\n                if (resting) return;\n\n                // need at least a target or position to do springy things\n                if (!(isNumber(target) && isNumber(position))) {\n                    resting = true;\n                    velocity = 0;\n                    return;\n                }\n\n                // calculate spring force\n                var f = -(position - target) * stiffness;\n\n                // update velocity by adding force based on mass\n                velocity += f / mass;\n\n                // update position by adding velocity\n                position += velocity;\n\n                // slow down based on amount of damping\n                velocity *= damping;\n\n                // we've arrived if we're near target and our velocity is near zero\n                if (thereYet(position, target, velocity) || skipToEndState) {\n                    position = target;\n                    velocity = 0;\n                    resting = true;\n\n                    // we done\n                    api.onupdate(position);\n                    api.oncomplete(position);\n                } else {\n                    // progress update\n                    api.onupdate(position);\n                }\n            };\n\n            /**\n             * Set new target value\n             * @param value\n             */\n            var setTarget = function setTarget(value) {\n                // if currently has no position, set target and position to this value\n                if (isNumber(value) && !isNumber(position)) {\n                    position = value;\n                }\n\n                // next target value will not be animated to\n                if (target === null) {\n                    target = value;\n                    position = value;\n                }\n\n                // let start moving to target\n                target = value;\n\n                // already at target\n                if (position === target || typeof target === 'undefined') {\n                    // now resting as target is current position, stop moving\n                    resting = true;\n                    velocity = 0;\n\n                    // done!\n                    api.onupdate(position);\n                    api.oncomplete(position);\n\n                    return;\n                }\n\n                resting = false;\n            };\n\n            // need 'api' to call onupdate callback\n            var api = createObject({\n                interpolate: interpolate,\n                target: {\n                    set: setTarget,\n                    get: function get() {\n                        return target;\n                    },\n                },\n\n                resting: {\n                    get: function get() {\n                        return resting;\n                    },\n                },\n\n                onupdate: function onupdate(value) {},\n                oncomplete: function oncomplete(value) {},\n            });\n\n            return api;\n        };\n\n    var easeLinear = function easeLinear(t) {\n        return t;\n    };\n    var easeInOutQuad = function easeInOutQuad(t) {\n        return t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t;\n    };\n\n    var tween =\n        // default values\n        function tween() // method definition\n        {\n            var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n                _ref$duration = _ref.duration,\n                duration = _ref$duration === void 0 ? 500 : _ref$duration,\n                _ref$easing = _ref.easing,\n                easing = _ref$easing === void 0 ? easeInOutQuad : _ref$easing,\n                _ref$delay = _ref.delay,\n                delay = _ref$delay === void 0 ? 0 : _ref$delay;\n            var start = null;\n            var t;\n            var p;\n            var resting = true;\n            var reverse = false;\n            var target = null;\n\n            var interpolate = function interpolate(ts, skipToEndState) {\n                if (resting || target === null) return;\n\n                if (start === null) {\n                    start = ts;\n                }\n\n                if (ts - start < delay) return;\n\n                t = ts - start - delay;\n\n                if (t >= duration || skipToEndState) {\n                    t = 1;\n                    p = reverse ? 0 : 1;\n                    api.onupdate(p * target);\n                    api.oncomplete(p * target);\n                    resting = true;\n                } else {\n                    p = t / duration;\n                    api.onupdate((t >= 0 ? easing(reverse ? 1 - p : p) : 0) * target);\n                }\n            };\n\n            // need 'api' to call onupdate callback\n            var api = createObject({\n                interpolate: interpolate,\n                target: {\n                    get: function get() {\n                        return reverse ? 0 : target;\n                    },\n                    set: function set(value) {\n                        // is initial value\n                        if (target === null) {\n                            target = value;\n                            api.onupdate(value);\n                            api.oncomplete(value);\n                            return;\n                        }\n\n                        // want to tween to a smaller value and have a current value\n                        if (value < target) {\n                            target = 1;\n                            reverse = true;\n                        } else {\n                            // not tweening to a smaller value\n                            reverse = false;\n                            target = value;\n                        }\n\n                        // let's go!\n                        resting = false;\n                        start = null;\n                    },\n                },\n\n                resting: {\n                    get: function get() {\n                        return resting;\n                    },\n                },\n\n                onupdate: function onupdate(value) {},\n                oncomplete: function oncomplete(value) {},\n            });\n\n            return api;\n        };\n\n    var animator = {\n        spring: spring,\n        tween: tween,\n    };\n\n    /*\n                       { type: 'spring', stiffness: .5, damping: .75, mass: 10 };\n                       { translation: { type: 'spring', ... }, ... }\n                       { translation: { x: { type: 'spring', ... } } }\n                      */\n    var createAnimator = function createAnimator(definition, category, property) {\n        // default is single definition\n        // we check if transform is set, if so, we check if property is set\n        var def =\n            definition[category] && typeof definition[category][property] === 'object'\n                ? definition[category][property]\n                : definition[category] || definition;\n\n        var type = typeof def === 'string' ? def : def.type;\n        var props = typeof def === 'object' ? Object.assign({}, def) : {};\n\n        return animator[type] ? animator[type](props) : null;\n    };\n\n    var addGetSet = function addGetSet(keys, obj, props) {\n        var overwrite = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n        obj = Array.isArray(obj) ? obj : [obj];\n        obj.forEach(function(o) {\n            keys.forEach(function(key) {\n                var name = key;\n                var getter = function getter() {\n                    return props[key];\n                };\n                var setter = function setter(value) {\n                    return (props[key] = value);\n                };\n\n                if (typeof key === 'object') {\n                    name = key.key;\n                    getter = key.getter || getter;\n                    setter = key.setter || setter;\n                }\n\n                if (o[name] && !overwrite) {\n                    return;\n                }\n\n                o[name] = {\n                    get: getter,\n                    set: setter,\n                };\n            });\n        });\n    };\n\n    // add to state,\n    // add getters and setters to internal and external api (if not set)\n    // setup animators\n\n    var animations = function animations(_ref) {\n        var mixinConfig = _ref.mixinConfig,\n            viewProps = _ref.viewProps,\n            viewInternalAPI = _ref.viewInternalAPI,\n            viewExternalAPI = _ref.viewExternalAPI;\n        // initial properties\n        var initialProps = Object.assign({}, viewProps);\n\n        // list of all active animations\n        var animations = [];\n\n        // setup animators\n        forin(mixinConfig, function(property, animation) {\n            var animator = createAnimator(animation);\n            if (!animator) {\n                return;\n            }\n\n            // when the animator updates, update the view state value\n            animator.onupdate = function(value) {\n                viewProps[property] = value;\n            };\n\n            // set animator target\n            animator.target = initialProps[property];\n\n            // when value is set, set the animator target value\n            var prop = {\n                key: property,\n                setter: function setter(value) {\n                    // if already at target, we done!\n                    if (animator.target === value) {\n                        return;\n                    }\n\n                    animator.target = value;\n                },\n                getter: function getter() {\n                    return viewProps[property];\n                },\n            };\n\n            // add getters and setters\n            addGetSet([prop], [viewInternalAPI, viewExternalAPI], viewProps, true);\n\n            // add it to the list for easy updating from the _write method\n            animations.push(animator);\n        });\n\n        // expose internal write api\n        return {\n            write: function write(ts) {\n                var skipToEndState = document.hidden;\n                var resting = true;\n                animations.forEach(function(animation) {\n                    if (!animation.resting) resting = false;\n                    animation.interpolate(ts, skipToEndState);\n                });\n                return resting;\n            },\n            destroy: function destroy() {},\n        };\n    };\n\n    var addEvent = function addEvent(element) {\n        return function(type, fn) {\n            element.addEventListener(type, fn);\n        };\n    };\n\n    var removeEvent = function removeEvent(element) {\n        return function(type, fn) {\n            element.removeEventListener(type, fn);\n        };\n    };\n\n    // mixin\n    var listeners = function listeners(_ref) {\n        var mixinConfig = _ref.mixinConfig,\n            viewProps = _ref.viewProps,\n            viewInternalAPI = _ref.viewInternalAPI,\n            viewExternalAPI = _ref.viewExternalAPI,\n            viewState = _ref.viewState,\n            view = _ref.view;\n        var events = [];\n\n        var add = addEvent(view.element);\n        var remove = removeEvent(view.element);\n\n        viewExternalAPI.on = function(type, fn) {\n            events.push({\n                type: type,\n                fn: fn,\n            });\n\n            add(type, fn);\n        };\n\n        viewExternalAPI.off = function(type, fn) {\n            events.splice(\n                events.findIndex(function(event) {\n                    return event.type === type && event.fn === fn;\n                }),\n                1\n            );\n\n            remove(type, fn);\n        };\n\n        return {\n            write: function write() {\n                // not busy\n                return true;\n            },\n            destroy: function destroy() {\n                events.forEach(function(event) {\n                    remove(event.type, event.fn);\n                });\n            },\n        };\n    };\n\n    // add to external api and link to props\n\n    var apis = function apis(_ref) {\n        var mixinConfig = _ref.mixinConfig,\n            viewProps = _ref.viewProps,\n            viewExternalAPI = _ref.viewExternalAPI;\n        addGetSet(mixinConfig, viewExternalAPI, viewProps);\n    };\n\n    var isDefined = function isDefined(value) {\n        return value != null;\n    };\n\n    // add to state,\n    // add getters and setters to internal and external api (if not set)\n    // set initial state based on props in viewProps\n    // apply as transforms each frame\n\n    var defaults = {\n        opacity: 1,\n        scaleX: 1,\n        scaleY: 1,\n        translateX: 0,\n        translateY: 0,\n        rotateX: 0,\n        rotateY: 0,\n        rotateZ: 0,\n        originX: 0,\n        originY: 0,\n    };\n\n    var styles = function styles(_ref) {\n        var mixinConfig = _ref.mixinConfig,\n            viewProps = _ref.viewProps,\n            viewInternalAPI = _ref.viewInternalAPI,\n            viewExternalAPI = _ref.viewExternalAPI,\n            view = _ref.view;\n        // initial props\n        var initialProps = Object.assign({}, viewProps);\n\n        // current props\n        var currentProps = {};\n\n        // we will add those properties to the external API and link them to the viewState\n        addGetSet(mixinConfig, [viewInternalAPI, viewExternalAPI], viewProps);\n\n        // override rect on internal and external rect getter so it takes in account transforms\n        var getOffset = function getOffset() {\n            return [viewProps['translateX'] || 0, viewProps['translateY'] || 0];\n        };\n\n        var getScale = function getScale() {\n            return [viewProps['scaleX'] || 0, viewProps['scaleY'] || 0];\n        };\n        var getRect = function getRect() {\n            return view.rect\n                ? getViewRect(view.rect, view.childViews, getOffset(), getScale())\n                : null;\n        };\n        viewInternalAPI.rect = { get: getRect };\n        viewExternalAPI.rect = { get: getRect };\n\n        // apply view props\n        mixinConfig.forEach(function(key) {\n            viewProps[key] =\n                typeof initialProps[key] === 'undefined' ? defaults[key] : initialProps[key];\n        });\n\n        // expose api\n        return {\n            write: function write() {\n                // see if props have changed\n                if (!propsHaveChanged(currentProps, viewProps)) {\n                    return;\n                }\n\n                // moves element to correct position on screen\n                applyStyles(view.element, viewProps);\n\n                // store new transforms\n                Object.assign(currentProps, Object.assign({}, viewProps));\n\n                // no longer busy\n                return true;\n            },\n            destroy: function destroy() {},\n        };\n    };\n\n    var propsHaveChanged = function propsHaveChanged(currentProps, newProps) {\n        // different amount of keys\n        if (Object.keys(currentProps).length !== Object.keys(newProps).length) {\n            return true;\n        }\n\n        // lets analyze the individual props\n        for (var prop in newProps) {\n            if (newProps[prop] !== currentProps[prop]) {\n                return true;\n            }\n        }\n\n        return false;\n    };\n\n    var applyStyles = function applyStyles(element, _ref2) {\n        var opacity = _ref2.opacity,\n            perspective = _ref2.perspective,\n            translateX = _ref2.translateX,\n            translateY = _ref2.translateY,\n            scaleX = _ref2.scaleX,\n            scaleY = _ref2.scaleY,\n            rotateX = _ref2.rotateX,\n            rotateY = _ref2.rotateY,\n            rotateZ = _ref2.rotateZ,\n            originX = _ref2.originX,\n            originY = _ref2.originY,\n            width = _ref2.width,\n            height = _ref2.height;\n\n        var transforms = '';\n        var styles = '';\n\n        // handle transform origin\n        if (isDefined(originX) || isDefined(originY)) {\n            styles += 'transform-origin: ' + (originX || 0) + 'px ' + (originY || 0) + 'px;';\n        }\n\n        // transform order is relevant\n        // 0. perspective\n        if (isDefined(perspective)) {\n            transforms += 'perspective(' + perspective + 'px) ';\n        }\n\n        // 1. translate\n        if (isDefined(translateX) || isDefined(translateY)) {\n            transforms +=\n                'translate3d(' + (translateX || 0) + 'px, ' + (translateY || 0) + 'px, 0) ';\n        }\n\n        // 2. scale\n        if (isDefined(scaleX) || isDefined(scaleY)) {\n            transforms +=\n                'scale3d(' +\n                (isDefined(scaleX) ? scaleX : 1) +\n                ', ' +\n                (isDefined(scaleY) ? scaleY : 1) +\n                ', 1) ';\n        }\n\n        // 3. rotate\n        if (isDefined(rotateZ)) {\n            transforms += 'rotateZ(' + rotateZ + 'rad) ';\n        }\n\n        if (isDefined(rotateX)) {\n            transforms += 'rotateX(' + rotateX + 'rad) ';\n        }\n\n        if (isDefined(rotateY)) {\n            transforms += 'rotateY(' + rotateY + 'rad) ';\n        }\n\n        // add transforms\n        if (transforms.length) {\n            styles += 'transform:' + transforms + ';';\n        }\n\n        // add opacity\n        if (isDefined(opacity)) {\n            styles += 'opacity:' + opacity + ';';\n\n            // if we reach zero, we make the element inaccessible\n            if (opacity === 0) {\n                styles += 'visibility:hidden;';\n            }\n\n            // if we're below 100% opacity this element can't be clicked\n            if (opacity < 1) {\n                styles += 'pointer-events:none;';\n            }\n        }\n\n        // add height\n        if (isDefined(height)) {\n            styles += 'height:' + height + 'px;';\n        }\n\n        // add width\n        if (isDefined(width)) {\n            styles += 'width:' + width + 'px;';\n        }\n\n        // apply styles\n        var elementCurrentStyle = element.elementCurrentStyle || '';\n\n        // if new styles does not match current styles, lets update!\n        if (styles.length !== elementCurrentStyle.length || styles !== elementCurrentStyle) {\n            element.style.cssText = styles;\n            // store current styles so we can compare them to new styles later on\n            // _not_ getting the style value is faster\n            element.elementCurrentStyle = styles;\n        }\n    };\n\n    var Mixins = {\n        styles: styles,\n        listeners: listeners,\n        animations: animations,\n        apis: apis,\n    };\n\n    var updateRect = function updateRect() {\n        var rect = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        var element = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        var style = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n        if (!element.layoutCalculated) {\n            rect.paddingTop = parseInt(style.paddingTop, 10) || 0;\n            rect.marginTop = parseInt(style.marginTop, 10) || 0;\n            rect.marginRight = parseInt(style.marginRight, 10) || 0;\n            rect.marginBottom = parseInt(style.marginBottom, 10) || 0;\n            rect.marginLeft = parseInt(style.marginLeft, 10) || 0;\n            element.layoutCalculated = true;\n        }\n\n        rect.left = element.offsetLeft || 0;\n        rect.top = element.offsetTop || 0;\n        rect.width = element.offsetWidth || 0;\n        rect.height = element.offsetHeight || 0;\n\n        rect.right = rect.left + rect.width;\n        rect.bottom = rect.top + rect.height;\n\n        rect.scrollTop = element.scrollTop;\n\n        rect.hidden = element.offsetParent === null;\n\n        return rect;\n    };\n\n    var createView =\n        // default view definition\n        function createView() {\n            var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n                _ref$tag = _ref.tag,\n                tag = _ref$tag === void 0 ? 'div' : _ref$tag,\n                _ref$name = _ref.name,\n                name = _ref$name === void 0 ? null : _ref$name,\n                _ref$attributes = _ref.attributes,\n                attributes = _ref$attributes === void 0 ? {} : _ref$attributes,\n                _ref$read = _ref.read,\n                read = _ref$read === void 0 ? function() {} : _ref$read,\n                _ref$write = _ref.write,\n                write = _ref$write === void 0 ? function() {} : _ref$write,\n                _ref$create = _ref.create,\n                create = _ref$create === void 0 ? function() {} : _ref$create,\n                _ref$destroy = _ref.destroy,\n                destroy = _ref$destroy === void 0 ? function() {} : _ref$destroy,\n                _ref$filterFrameActio = _ref.filterFrameActionsForChild,\n                filterFrameActionsForChild =\n                    _ref$filterFrameActio === void 0\n                        ? function(child, actions) {\n                              return actions;\n                          }\n                        : _ref$filterFrameActio,\n                _ref$didCreateView = _ref.didCreateView,\n                didCreateView = _ref$didCreateView === void 0 ? function() {} : _ref$didCreateView,\n                _ref$didWriteView = _ref.didWriteView,\n                didWriteView = _ref$didWriteView === void 0 ? function() {} : _ref$didWriteView,\n                _ref$ignoreRect = _ref.ignoreRect,\n                ignoreRect = _ref$ignoreRect === void 0 ? false : _ref$ignoreRect,\n                _ref$ignoreRectUpdate = _ref.ignoreRectUpdate,\n                ignoreRectUpdate = _ref$ignoreRectUpdate === void 0 ? false : _ref$ignoreRectUpdate,\n                _ref$mixins = _ref.mixins,\n                mixins = _ref$mixins === void 0 ? [] : _ref$mixins;\n            return function(\n                // each view requires reference to store\n                store\n            ) {\n                var props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n                // root element should not be changed\n                var element = createElement(tag, 'filepond--' + name, attributes);\n\n                // style reference should also not be changed\n                var style = window.getComputedStyle(element, null);\n\n                // element rectangle\n                var rect = updateRect();\n                var frameRect = null;\n\n                // rest state\n                var isResting = false;\n\n                // pretty self explanatory\n                var childViews = [];\n\n                // loaded mixins\n                var activeMixins = [];\n\n                // references to created children\n                var ref = {};\n\n                // state used for each instance\n                var state = {};\n\n                // list of writers that will be called to update this view\n                var writers = [\n                    write, // default writer\n                ];\n\n                var readers = [\n                    read, // default reader\n                ];\n\n                var destroyers = [\n                    destroy, // default destroy\n                ];\n\n                // core view methods\n                var getElement = function getElement() {\n                    return element;\n                };\n                var getChildViews = function getChildViews() {\n                    return childViews.concat();\n                };\n                var getReference = function getReference() {\n                    return ref;\n                };\n                var createChildView = function createChildView(store) {\n                    return function(view, props) {\n                        return view(store, props);\n                    };\n                };\n                var getRect = function getRect() {\n                    if (frameRect) {\n                        return frameRect;\n                    }\n                    frameRect = getViewRect(rect, childViews, [0, 0], [1, 1]);\n                    return frameRect;\n                };\n                var getStyle = function getStyle() {\n                    return style;\n                };\n\n                /**\n                 * Read data from DOM\n                 * @private\n                 */\n                var _read = function _read() {\n                    frameRect = null;\n\n                    // read child views\n                    childViews.forEach(function(child) {\n                        return child._read();\n                    });\n\n                    var shouldUpdate = !(ignoreRectUpdate && rect.width && rect.height);\n                    if (shouldUpdate) {\n                        updateRect(rect, element, style);\n                    }\n\n                    // readers\n                    var api = { root: internalAPI, props: props, rect: rect };\n                    readers.forEach(function(reader) {\n                        return reader(api);\n                    });\n                };\n\n                /**\n                 * Write data to DOM\n                 * @private\n                 */\n                var _write = function _write(ts, frameActions, shouldOptimize) {\n                    // if no actions, we assume that the view is resting\n                    var resting = frameActions.length === 0;\n\n                    // writers\n                    writers.forEach(function(writer) {\n                        var writerResting = writer({\n                            props: props,\n                            root: internalAPI,\n                            actions: frameActions,\n                            timestamp: ts,\n                            shouldOptimize: shouldOptimize,\n                        });\n\n                        if (writerResting === false) {\n                            resting = false;\n                        }\n                    });\n\n                    // run mixins\n                    activeMixins.forEach(function(mixin) {\n                        // if one of the mixins is still busy after write operation, we are not resting\n                        var mixinResting = mixin.write(ts);\n                        if (mixinResting === false) {\n                            resting = false;\n                        }\n                    });\n\n                    // updates child views that are currently attached to the DOM\n                    childViews\n                        .filter(function(child) {\n                            return !!child.element.parentNode;\n                        })\n                        .forEach(function(child) {\n                            // if a child view is not resting, we are not resting\n                            var childResting = child._write(\n                                ts,\n                                filterFrameActionsForChild(child, frameActions),\n                                shouldOptimize\n                            );\n\n                            if (!childResting) {\n                                resting = false;\n                            }\n                        });\n\n                    // append new elements to DOM and update those\n                    childViews\n                        //.filter(child => !child.element.parentNode)\n                        .forEach(function(child, index) {\n                            // skip\n                            if (child.element.parentNode) {\n                                return;\n                            }\n\n                            // append to DOM\n                            internalAPI.appendChild(child.element, index);\n\n                            // call read (need to know the size of these elements)\n                            child._read();\n\n                            // re-call write\n                            child._write(\n                                ts,\n                                filterFrameActionsForChild(child, frameActions),\n                                shouldOptimize\n                            );\n\n                            // we just added somthing to the dom, no rest\n                            resting = false;\n                        });\n\n                    // update resting state\n                    isResting = resting;\n\n                    didWriteView({\n                        props: props,\n                        root: internalAPI,\n                        actions: frameActions,\n                        timestamp: ts,\n                    });\n\n                    // let parent know if we are resting\n                    return resting;\n                };\n\n                var _destroy = function _destroy() {\n                    activeMixins.forEach(function(mixin) {\n                        return mixin.destroy();\n                    });\n                    destroyers.forEach(function(destroyer) {\n                        destroyer({ root: internalAPI, props: props });\n                    });\n                    childViews.forEach(function(child) {\n                        return child._destroy();\n                    });\n                };\n\n                // sharedAPI\n                var sharedAPIDefinition = {\n                    element: {\n                        get: getElement,\n                    },\n\n                    style: {\n                        get: getStyle,\n                    },\n\n                    childViews: {\n                        get: getChildViews,\n                    },\n                };\n\n                // private API definition\n                var internalAPIDefinition = Object.assign({}, sharedAPIDefinition, {\n                    rect: {\n                        get: getRect,\n                    },\n\n                    // access to custom children references\n                    ref: {\n                        get: getReference,\n                    },\n\n                    // dom modifiers\n                    is: function is(needle) {\n                        return name === needle;\n                    },\n                    appendChild: appendChild(element),\n                    createChildView: createChildView(store),\n                    linkView: function linkView(view) {\n                        childViews.push(view);\n                        return view;\n                    },\n                    unlinkView: function unlinkView(view) {\n                        childViews.splice(childViews.indexOf(view), 1);\n                    },\n                    appendChildView: appendChildView(element, childViews),\n                    removeChildView: removeChildView(element, childViews),\n                    registerWriter: function registerWriter(writer) {\n                        return writers.push(writer);\n                    },\n                    registerReader: function registerReader(reader) {\n                        return readers.push(reader);\n                    },\n                    registerDestroyer: function registerDestroyer(destroyer) {\n                        return destroyers.push(destroyer);\n                    },\n                    invalidateLayout: function invalidateLayout() {\n                        return (element.layoutCalculated = false);\n                    },\n\n                    // access to data store\n                    dispatch: store.dispatch,\n                    query: store.query,\n                });\n\n                // public view API methods\n                var externalAPIDefinition = {\n                    element: {\n                        get: getElement,\n                    },\n\n                    childViews: {\n                        get: getChildViews,\n                    },\n\n                    rect: {\n                        get: getRect,\n                    },\n\n                    resting: {\n                        get: function get() {\n                            return isResting;\n                        },\n                    },\n\n                    isRectIgnored: function isRectIgnored() {\n                        return ignoreRect;\n                    },\n                    _read: _read,\n                    _write: _write,\n                    _destroy: _destroy,\n                };\n\n                // mixin API methods\n                var mixinAPIDefinition = Object.assign({}, sharedAPIDefinition, {\n                    rect: {\n                        get: function get() {\n                            return rect;\n                        },\n                    },\n                });\n\n                // add mixin functionality\n                Object.keys(mixins)\n                    .sort(function(a, b) {\n                        // move styles to the back of the mixin list (so adjustments of other mixins are applied to the props correctly)\n                        if (a === 'styles') {\n                            return 1;\n                        } else if (b === 'styles') {\n                            return -1;\n                        }\n                        return 0;\n                    })\n                    .forEach(function(key) {\n                        var mixinAPI = Mixins[key]({\n                            mixinConfig: mixins[key],\n                            viewProps: props,\n                            viewState: state,\n                            viewInternalAPI: internalAPIDefinition,\n                            viewExternalAPI: externalAPIDefinition,\n                            view: createObject(mixinAPIDefinition),\n                        });\n\n                        if (mixinAPI) {\n                            activeMixins.push(mixinAPI);\n                        }\n                    });\n\n                // construct private api\n                var internalAPI = createObject(internalAPIDefinition);\n\n                // create the view\n                create({\n                    root: internalAPI,\n                    props: props,\n                });\n\n                // append created child views to root node\n                var childCount = getChildCount(element); // need to know the current child count so appending happens in correct order\n                childViews.forEach(function(child, index) {\n                    internalAPI.appendChild(child.element, childCount + index);\n                });\n\n                // call did create\n                didCreateView(internalAPI);\n\n                // expose public api\n                return createObject(externalAPIDefinition);\n            };\n        };\n\n    var createPainter = function createPainter(read, write) {\n        var fps = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 60;\n\n        var name = '__framePainter';\n\n        // set global painter\n        if (window[name]) {\n            window[name].readers.push(read);\n            window[name].writers.push(write);\n            return;\n        }\n\n        window[name] = {\n            readers: [read],\n            writers: [write],\n        };\n\n        var painter = window[name];\n\n        var interval = 1000 / fps;\n        var last = null;\n        var id = null;\n        var requestTick = null;\n        var cancelTick = null;\n\n        var setTimerType = function setTimerType() {\n            if (document.hidden) {\n                requestTick = function requestTick() {\n                    return window.setTimeout(function() {\n                        return tick(performance.now());\n                    }, interval);\n                };\n                cancelTick = function cancelTick() {\n                    return window.clearTimeout(id);\n                };\n            } else {\n                requestTick = function requestTick() {\n                    return window.requestAnimationFrame(tick);\n                };\n                cancelTick = function cancelTick() {\n                    return window.cancelAnimationFrame(id);\n                };\n            }\n        };\n\n        document.addEventListener('visibilitychange', function() {\n            if (cancelTick) cancelTick();\n            setTimerType();\n            tick(performance.now());\n        });\n\n        var tick = function tick(ts) {\n            // queue next tick\n            id = requestTick(tick);\n\n            // limit fps\n            if (!last) {\n                last = ts;\n            }\n\n            var delta = ts - last;\n\n            if (delta <= interval) {\n                // skip frame\n                return;\n            }\n\n            // align next frame\n            last = ts - (delta % interval);\n\n            // update view\n            painter.readers.forEach(function(read) {\n                return read();\n            });\n            painter.writers.forEach(function(write) {\n                return write(ts);\n            });\n        };\n\n        setTimerType();\n        tick(performance.now());\n\n        return {\n            pause: function pause() {\n                cancelTick(id);\n            },\n        };\n    };\n\n    var createRoute = function createRoute(routes, fn) {\n        return function(_ref) {\n            var root = _ref.root,\n                props = _ref.props,\n                _ref$actions = _ref.actions,\n                actions = _ref$actions === void 0 ? [] : _ref$actions,\n                timestamp = _ref.timestamp,\n                shouldOptimize = _ref.shouldOptimize;\n            actions\n                .filter(function(action) {\n                    return routes[action.type];\n                })\n                .forEach(function(action) {\n                    return routes[action.type]({\n                        root: root,\n                        props: props,\n                        action: action.data,\n                        timestamp: timestamp,\n                        shouldOptimize: shouldOptimize,\n                    });\n                });\n\n            if (fn) {\n                fn({\n                    root: root,\n                    props: props,\n                    actions: actions,\n                    timestamp: timestamp,\n                    shouldOptimize: shouldOptimize,\n                });\n            }\n        };\n    };\n\n    var insertBefore = function insertBefore(newNode, referenceNode) {\n        return referenceNode.parentNode.insertBefore(newNode, referenceNode);\n    };\n\n    var insertAfter = function insertAfter(newNode, referenceNode) {\n        return referenceNode.parentNode.insertBefore(newNode, referenceNode.nextSibling);\n    };\n\n    var isArray = function isArray(value) {\n        return Array.isArray(value);\n    };\n\n    var isEmpty = function isEmpty(value) {\n        return value == null;\n    };\n\n    var trim = function trim(str) {\n        return str.trim();\n    };\n\n    var toString = function toString(value) {\n        return '' + value;\n    };\n\n    var toArray = function toArray(value) {\n        var splitter = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : ',';\n        if (isEmpty(value)) {\n            return [];\n        }\n        if (isArray(value)) {\n            return value;\n        }\n        return toString(value)\n            .split(splitter)\n            .map(trim)\n            .filter(function(str) {\n                return str.length;\n            });\n    };\n\n    var isBoolean = function isBoolean(value) {\n        return typeof value === 'boolean';\n    };\n\n    var toBoolean = function toBoolean(value) {\n        return isBoolean(value) ? value : value === 'true';\n    };\n\n    var isString = function isString(value) {\n        return typeof value === 'string';\n    };\n\n    var toNumber = function toNumber(value) {\n        return isNumber(value)\n            ? value\n            : isString(value)\n            ? toString(value).replace(/[a-z]+/gi, '')\n            : 0;\n    };\n\n    var toInt = function toInt(value) {\n        return parseInt(toNumber(value), 10);\n    };\n\n    var toFloat = function toFloat(value) {\n        return parseFloat(toNumber(value));\n    };\n\n    var isInt = function isInt(value) {\n        return isNumber(value) && isFinite(value) && Math.floor(value) === value;\n    };\n\n    var toBytes = function toBytes(value) {\n        var base = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1000;\n        // is in bytes\n        if (isInt(value)) {\n            return value;\n        }\n\n        // is natural file size\n        var naturalFileSize = toString(value).trim();\n\n        // if is value in megabytes\n        if (/MB$/i.test(naturalFileSize)) {\n            naturalFileSize = naturalFileSize.replace(/MB$i/, '').trim();\n            return toInt(naturalFileSize) * base * base;\n        }\n\n        // if is value in kilobytes\n        if (/KB/i.test(naturalFileSize)) {\n            naturalFileSize = naturalFileSize.replace(/KB$i/, '').trim();\n            return toInt(naturalFileSize) * base;\n        }\n\n        return toInt(naturalFileSize);\n    };\n\n    var isFunction = function isFunction(value) {\n        return typeof value === 'function';\n    };\n\n    var toFunctionReference = function toFunctionReference(string) {\n        var ref = self;\n        var levels = string.split('.');\n        var level = null;\n        while ((level = levels.shift())) {\n            ref = ref[level];\n            if (!ref) {\n                return null;\n            }\n        }\n        return ref;\n    };\n\n    var methods = {\n        process: 'POST',\n        patch: 'PATCH',\n        revert: 'DELETE',\n        fetch: 'GET',\n        restore: 'GET',\n        load: 'GET',\n    };\n\n    var createServerAPI = function createServerAPI(outline) {\n        var api = {};\n\n        api.url = isString(outline) ? outline : outline.url || '';\n        api.timeout = outline.timeout ? parseInt(outline.timeout, 10) : 0;\n        api.headers = outline.headers ? outline.headers : {};\n\n        forin(methods, function(key) {\n            api[key] = createAction(key, outline[key], methods[key], api.timeout, api.headers);\n        });\n\n        // remove process if no url or process on outline\n        api.process = outline.process || isString(outline) || outline.url ? api.process : null;\n\n        // special treatment for remove\n        api.remove = outline.remove || null;\n\n        // remove generic headers from api object\n        delete api.headers;\n\n        return api;\n    };\n\n    var createAction = function createAction(name, outline, method, timeout, headers) {\n        // is explicitely set to null so disable\n        if (outline === null) {\n            return null;\n        }\n\n        // if is custom function, done! Dev handles everything.\n        if (typeof outline === 'function') {\n            return outline;\n        }\n\n        // build action object\n        var action = {\n            url: method === 'GET' || method === 'PATCH' ? '?' + name + '=' : '',\n            method: method,\n            headers: headers,\n            withCredentials: false,\n            timeout: timeout,\n            onload: null,\n            ondata: null,\n            onerror: null,\n        };\n\n        // is a single url\n        if (isString(outline)) {\n            action.url = outline;\n            return action;\n        }\n\n        // overwrite\n        Object.assign(action, outline);\n\n        // see if should reformat headers;\n        if (isString(action.headers)) {\n            var parts = action.headers.split(/:(.+)/);\n            action.headers = {\n                header: parts[0],\n                value: parts[1],\n            };\n        }\n\n        // if is bool withCredentials\n        action.withCredentials = toBoolean(action.withCredentials);\n\n        return action;\n    };\n\n    var toServerAPI = function toServerAPI(value) {\n        return createServerAPI(value);\n    };\n\n    var isNull = function isNull(value) {\n        return value === null;\n    };\n\n    var isObject = function isObject(value) {\n        return typeof value === 'object' && value !== null;\n    };\n\n    var isAPI = function isAPI(value) {\n        return (\n            isObject(value) &&\n            isString(value.url) &&\n            isObject(value.process) &&\n            isObject(value.revert) &&\n            isObject(value.restore) &&\n            isObject(value.fetch)\n        );\n    };\n\n    var getType = function getType(value) {\n        if (isArray(value)) {\n            return 'array';\n        }\n\n        if (isNull(value)) {\n            return 'null';\n        }\n\n        if (isInt(value)) {\n            return 'int';\n        }\n\n        if (/^[0-9]+ ?(?:GB|MB|KB)$/gi.test(value)) {\n            return 'bytes';\n        }\n\n        if (isAPI(value)) {\n            return 'api';\n        }\n\n        return typeof value;\n    };\n\n    var replaceSingleQuotes = function replaceSingleQuotes(str) {\n        return str\n            .replace(/{\\s*'/g, '{\"')\n            .replace(/'\\s*}/g, '\"}')\n            .replace(/'\\s*:/g, '\":')\n            .replace(/:\\s*'/g, ':\"')\n            .replace(/,\\s*'/g, ',\"')\n            .replace(/'\\s*,/g, '\",');\n    };\n\n    var conversionTable = {\n        array: toArray,\n        boolean: toBoolean,\n        int: function int(value) {\n            return getType(value) === 'bytes' ? toBytes(value) : toInt(value);\n        },\n        number: toFloat,\n        float: toFloat,\n        bytes: toBytes,\n        string: function string(value) {\n            return isFunction(value) ? value : toString(value);\n        },\n        function: function _function(value) {\n            return toFunctionReference(value);\n        },\n        serverapi: toServerAPI,\n        object: function object(value) {\n            try {\n                return JSON.parse(replaceSingleQuotes(value));\n            } catch (e) {\n                return null;\n            }\n        },\n    };\n\n    var convertTo = function convertTo(value, type) {\n        return conversionTable[type](value);\n    };\n\n    var getValueByType = function getValueByType(newValue, defaultValue, valueType) {\n        // can always assign default value\n        if (newValue === defaultValue) {\n            return newValue;\n        }\n\n        // get the type of the new value\n        var newValueType = getType(newValue);\n\n        // is valid type?\n        if (newValueType !== valueType) {\n            // is string input, let's attempt to convert\n            var convertedValue = convertTo(newValue, valueType);\n\n            // what is the type now\n            newValueType = getType(convertedValue);\n\n            // no valid conversions found\n            if (convertedValue === null) {\n                throw 'Trying to assign value with incorrect type to \"' +\n                    option +\n                    '\", allowed type: \"' +\n                    valueType +\n                    '\"';\n            } else {\n                newValue = convertedValue;\n            }\n        }\n\n        // assign new value\n        return newValue;\n    };\n\n    var createOption = function createOption(defaultValue, valueType) {\n        var currentValue = defaultValue;\n        return {\n            enumerable: true,\n            get: function get() {\n                return currentValue;\n            },\n            set: function set(newValue) {\n                currentValue = getValueByType(newValue, defaultValue, valueType);\n            },\n        };\n    };\n\n    var createOptions = function createOptions(options) {\n        var obj = {};\n        forin(options, function(prop) {\n            var optionDefinition = options[prop];\n            obj[prop] = createOption(optionDefinition[0], optionDefinition[1]);\n        });\n        return createObject(obj);\n    };\n\n    var createInitialState = function createInitialState(options) {\n        return {\n            // model\n            items: [],\n\n            // timeout used for calling update items\n            listUpdateTimeout: null,\n\n            // timeout used for stacking metadata updates\n            itemUpdateTimeout: null,\n\n            // queue of items waiting to be processed\n            processingQueue: [],\n\n            // options\n            options: createOptions(options),\n        };\n    };\n\n    var fromCamels = function fromCamels(string) {\n        var separator = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '-';\n        return string\n            .split(/(?=[A-Z])/)\n            .map(function(part) {\n                return part.toLowerCase();\n            })\n            .join(separator);\n    };\n\n    var createOptionAPI = function createOptionAPI(store, options) {\n        var obj = {};\n        forin(options, function(key) {\n            obj[key] = {\n                get: function get() {\n                    return store.getState().options[key];\n                },\n                set: function set(value) {\n                    store.dispatch('SET_' + fromCamels(key, '_').toUpperCase(), {\n                        value: value,\n                    });\n                },\n            };\n        });\n        return obj;\n    };\n\n    var createOptionActions = function createOptionActions(options) {\n        return function(dispatch, query, state) {\n            var obj = {};\n            forin(options, function(key) {\n                var name = fromCamels(key, '_').toUpperCase();\n\n                obj['SET_' + name] = function(action) {\n                    try {\n                        state.options[key] = action.value;\n                    } catch (e) {} // nope, failed\n\n                    // we successfully set the value of this option\n                    dispatch('DID_SET_' + name, { value: state.options[key] });\n                };\n            });\n            return obj;\n        };\n    };\n\n    var createOptionQueries = function createOptionQueries(options) {\n        return function(state) {\n            var obj = {};\n            forin(options, function(key) {\n                obj['GET_' + fromCamels(key, '_').toUpperCase()] = function(action) {\n                    return state.options[key];\n                };\n            });\n            return obj;\n        };\n    };\n\n    var InteractionMethod = {\n        API: 1,\n        DROP: 2,\n        BROWSE: 3,\n        PASTE: 4,\n        NONE: 5,\n    };\n\n    var getUniqueId = function getUniqueId() {\n        return Math.random()\n            .toString(36)\n            .substring(2, 11);\n    };\n\n    function _typeof(obj) {\n        if (typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol') {\n            _typeof = function(obj) {\n                return typeof obj;\n            };\n        } else {\n            _typeof = function(obj) {\n                return obj &&\n                    typeof Symbol === 'function' &&\n                    obj.constructor === Symbol &&\n                    obj !== Symbol.prototype\n                    ? 'symbol'\n                    : typeof obj;\n            };\n        }\n\n        return _typeof(obj);\n    }\n\n    var REACT_ELEMENT_TYPE;\n\n    function _jsx(type, props, key, children) {\n        if (!REACT_ELEMENT_TYPE) {\n            REACT_ELEMENT_TYPE =\n                (typeof Symbol === 'function' && Symbol['for'] && Symbol['for']('react.element')) ||\n                0xeac7;\n        }\n\n        var defaultProps = type && type.defaultProps;\n        var childrenLength = arguments.length - 3;\n\n        if (!props && childrenLength !== 0) {\n            props = {\n                children: void 0,\n            };\n        }\n\n        if (props && defaultProps) {\n            for (var propName in defaultProps) {\n                if (props[propName] === void 0) {\n                    props[propName] = defaultProps[propName];\n                }\n            }\n        } else if (!props) {\n            props = defaultProps || {};\n        }\n\n        if (childrenLength === 1) {\n            props.children = children;\n        } else if (childrenLength > 1) {\n            var childArray = new Array(childrenLength);\n\n            for (var i = 0; i < childrenLength; i++) {\n                childArray[i] = arguments[i + 3];\n            }\n\n            props.children = childArray;\n        }\n\n        return {\n            $$typeof: REACT_ELEMENT_TYPE,\n            type: type,\n            key: key === undefined ? null : '' + key,\n            ref: null,\n            props: props,\n            _owner: null,\n        };\n    }\n\n    function _asyncIterator(iterable) {\n        var method;\n\n        if (typeof Symbol !== 'undefined') {\n            if (Symbol.asyncIterator) {\n                method = iterable[Symbol.asyncIterator];\n                if (method != null) return method.call(iterable);\n            }\n\n            if (Symbol.iterator) {\n                method = iterable[Symbol.iterator];\n                if (method != null) return method.call(iterable);\n            }\n        }\n\n        throw new TypeError('Object is not async iterable');\n    }\n\n    function _AwaitValue(value) {\n        this.wrapped = value;\n    }\n\n    function _AsyncGenerator(gen) {\n        var front, back;\n\n        function send(key, arg) {\n            return new Promise(function(resolve, reject) {\n                var request = {\n                    key: key,\n                    arg: arg,\n                    resolve: resolve,\n                    reject: reject,\n                    next: null,\n                };\n\n                if (back) {\n                    back = back.next = request;\n                } else {\n                    front = back = request;\n                    resume(key, arg);\n                }\n            });\n        }\n\n        function resume(key, arg) {\n            try {\n                var result = gen[key](arg);\n                var value = result.value;\n                var wrappedAwait = value instanceof _AwaitValue;\n                Promise.resolve(wrappedAwait ? value.wrapped : value).then(\n                    function(arg) {\n                        if (wrappedAwait) {\n                            resume('next', arg);\n                            return;\n                        }\n\n                        settle(result.done ? 'return' : 'normal', arg);\n                    },\n                    function(err) {\n                        resume('throw', err);\n                    }\n                );\n            } catch (err) {\n                settle('throw', err);\n            }\n        }\n\n        function settle(type, value) {\n            switch (type) {\n                case 'return':\n                    front.resolve({\n                        value: value,\n                        done: true,\n                    });\n                    break;\n\n                case 'throw':\n                    front.reject(value);\n                    break;\n\n                default:\n                    front.resolve({\n                        value: value,\n                        done: false,\n                    });\n                    break;\n            }\n\n            front = front.next;\n\n            if (front) {\n                resume(front.key, front.arg);\n            } else {\n                back = null;\n            }\n        }\n\n        this._invoke = send;\n\n        if (typeof gen.return !== 'function') {\n            this.return = undefined;\n        }\n    }\n\n    if (typeof Symbol === 'function' && Symbol.asyncIterator) {\n        _AsyncGenerator.prototype[Symbol.asyncIterator] = function() {\n            return this;\n        };\n    }\n\n    _AsyncGenerator.prototype.next = function(arg) {\n        return this._invoke('next', arg);\n    };\n\n    _AsyncGenerator.prototype.throw = function(arg) {\n        return this._invoke('throw', arg);\n    };\n\n    _AsyncGenerator.prototype.return = function(arg) {\n        return this._invoke('return', arg);\n    };\n\n    function _wrapAsyncGenerator(fn) {\n        return function() {\n            return new _AsyncGenerator(fn.apply(this, arguments));\n        };\n    }\n\n    function _awaitAsyncGenerator(value) {\n        return new _AwaitValue(value);\n    }\n\n    function _asyncGeneratorDelegate(inner, awaitWrap) {\n        var iter = {},\n            waiting = false;\n\n        function pump(key, value) {\n            waiting = true;\n            value = new Promise(function(resolve) {\n                resolve(inner[key](value));\n            });\n            return {\n                done: false,\n                value: awaitWrap(value),\n            };\n        }\n\n        if (typeof Symbol === 'function' && Symbol.iterator) {\n            iter[Symbol.iterator] = function() {\n                return this;\n            };\n        }\n\n        iter.next = function(value) {\n            if (waiting) {\n                waiting = false;\n                return value;\n            }\n\n            return pump('next', value);\n        };\n\n        if (typeof inner.throw === 'function') {\n            iter.throw = function(value) {\n                if (waiting) {\n                    waiting = false;\n                    throw value;\n                }\n\n                return pump('throw', value);\n            };\n        }\n\n        if (typeof inner.return === 'function') {\n            iter.return = function(value) {\n                return pump('return', value);\n            };\n        }\n\n        return iter;\n    }\n\n    function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n        try {\n            var info = gen[key](arg);\n            var value = info.value;\n        } catch (error) {\n            reject(error);\n            return;\n        }\n\n        if (info.done) {\n            resolve(value);\n        } else {\n            Promise.resolve(value).then(_next, _throw);\n        }\n    }\n\n    function _asyncToGenerator(fn) {\n        return function() {\n            var self = this,\n                args = arguments;\n            return new Promise(function(resolve, reject) {\n                var gen = fn.apply(self, args);\n\n                function _next(value) {\n                    asyncGeneratorStep(gen, resolve, reject, _next, _throw, 'next', value);\n                }\n\n                function _throw(err) {\n                    asyncGeneratorStep(gen, resolve, reject, _next, _throw, 'throw', err);\n                }\n\n                _next(undefined);\n            });\n        };\n    }\n\n    function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n            throw new TypeError('Cannot call a class as a function');\n        }\n    }\n\n    function _defineProperties(target, props) {\n        for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if ('value' in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n        }\n    }\n\n    function _createClass(Constructor, protoProps, staticProps) {\n        if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n        if (staticProps) _defineProperties(Constructor, staticProps);\n        return Constructor;\n    }\n\n    function _defineEnumerableProperties(obj, descs) {\n        for (var key in descs) {\n            var desc = descs[key];\n            desc.configurable = desc.enumerable = true;\n            if ('value' in desc) desc.writable = true;\n            Object.defineProperty(obj, key, desc);\n        }\n\n        if (Object.getOwnPropertySymbols) {\n            var objectSymbols = Object.getOwnPropertySymbols(descs);\n\n            for (var i = 0; i < objectSymbols.length; i++) {\n                var sym = objectSymbols[i];\n                var desc = descs[sym];\n                desc.configurable = desc.enumerable = true;\n                if ('value' in desc) desc.writable = true;\n                Object.defineProperty(obj, sym, desc);\n            }\n        }\n\n        return obj;\n    }\n\n    function _defaults(obj, defaults) {\n        var keys = Object.getOwnPropertyNames(defaults);\n\n        for (var i = 0; i < keys.length; i++) {\n            var key = keys[i];\n            var value = Object.getOwnPropertyDescriptor(defaults, key);\n\n            if (value && value.configurable && obj[key] === undefined) {\n                Object.defineProperty(obj, key, value);\n            }\n        }\n\n        return obj;\n    }\n\n    function _defineProperty(obj, key, value) {\n        if (key in obj) {\n            Object.defineProperty(obj, key, {\n                value: value,\n                enumerable: true,\n                configurable: true,\n                writable: true,\n            });\n        } else {\n            obj[key] = value;\n        }\n\n        return obj;\n    }\n\n    function _extends() {\n        _extends =\n            Object.assign ||\n            function(target) {\n                for (var i = 1; i < arguments.length; i++) {\n                    var source = arguments[i];\n\n                    for (var key in source) {\n                        if (Object.prototype.hasOwnProperty.call(source, key)) {\n                            target[key] = source[key];\n                        }\n                    }\n                }\n\n                return target;\n            };\n\n        return _extends.apply(this, arguments);\n    }\n\n    function _objectSpread(target) {\n        for (var i = 1; i < arguments.length; i++) {\n            var source = arguments[i] != null ? arguments[i] : {};\n            var ownKeys = Object.keys(source);\n\n            if (typeof Object.getOwnPropertySymbols === 'function') {\n                ownKeys = ownKeys.concat(\n                    Object.getOwnPropertySymbols(source).filter(function(sym) {\n                        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n                    })\n                );\n            }\n\n            ownKeys.forEach(function(key) {\n                _defineProperty(target, key, source[key]);\n            });\n        }\n\n        return target;\n    }\n\n    function ownKeys(object, enumerableOnly) {\n        var keys = Object.keys(object);\n\n        if (Object.getOwnPropertySymbols) {\n            var symbols = Object.getOwnPropertySymbols(object);\n            if (enumerableOnly)\n                symbols = symbols.filter(function(sym) {\n                    return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n                });\n            keys.push.apply(keys, symbols);\n        }\n\n        return keys;\n    }\n\n    function _objectSpread2(target) {\n        for (var i = 1; i < arguments.length; i++) {\n            var source = arguments[i] != null ? arguments[i] : {};\n\n            if (i % 2) {\n                ownKeys(source, true).forEach(function(key) {\n                    _defineProperty(target, key, source[key]);\n                });\n            } else if (Object.getOwnPropertyDescriptors) {\n                Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n            } else {\n                ownKeys(source).forEach(function(key) {\n                    Object.defineProperty(\n                        target,\n                        key,\n                        Object.getOwnPropertyDescriptor(source, key)\n                    );\n                });\n            }\n        }\n\n        return target;\n    }\n\n    function _inherits(subClass, superClass) {\n        if (typeof superClass !== 'function' && superClass !== null) {\n            throw new TypeError('Super expression must either be null or a function');\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n            constructor: {\n                value: subClass,\n                writable: true,\n                configurable: true,\n            },\n        });\n        if (superClass) _setPrototypeOf(subClass, superClass);\n    }\n\n    function _inheritsLoose(subClass, superClass) {\n        subClass.prototype = Object.create(superClass.prototype);\n        subClass.prototype.constructor = subClass;\n        subClass.__proto__ = superClass;\n    }\n\n    function _getPrototypeOf(o) {\n        _getPrototypeOf = Object.setPrototypeOf\n            ? Object.getPrototypeOf\n            : function _getPrototypeOf(o) {\n                  return o.__proto__ || Object.getPrototypeOf(o);\n              };\n        return _getPrototypeOf(o);\n    }\n\n    function _setPrototypeOf(o, p) {\n        _setPrototypeOf =\n            Object.setPrototypeOf ||\n            function _setPrototypeOf(o, p) {\n                o.__proto__ = p;\n                return o;\n            };\n\n        return _setPrototypeOf(o, p);\n    }\n\n    function isNativeReflectConstruct() {\n        if (typeof Reflect === 'undefined' || !Reflect.construct) return false;\n        if (Reflect.construct.sham) return false;\n        if (typeof Proxy === 'function') return true;\n\n        try {\n            Date.prototype.toString.call(Reflect.construct(Date, [], function() {}));\n            return true;\n        } catch (e) {\n            return false;\n        }\n    }\n\n    function _construct(Parent, args, Class) {\n        if (isNativeReflectConstruct()) {\n            _construct = Reflect.construct;\n        } else {\n            _construct = function _construct(Parent, args, Class) {\n                var a = [null];\n                a.push.apply(a, args);\n                var Constructor = Function.bind.apply(Parent, a);\n                var instance = new Constructor();\n                if (Class) _setPrototypeOf(instance, Class.prototype);\n                return instance;\n            };\n        }\n\n        return _construct.apply(null, arguments);\n    }\n\n    function _isNativeFunction(fn) {\n        return Function.toString.call(fn).indexOf('[native code]') !== -1;\n    }\n\n    function _wrapNativeSuper(Class) {\n        var _cache = typeof Map === 'function' ? new Map() : undefined;\n\n        _wrapNativeSuper = function _wrapNativeSuper(Class) {\n            if (Class === null || !_isNativeFunction(Class)) return Class;\n\n            if (typeof Class !== 'function') {\n                throw new TypeError('Super expression must either be null or a function');\n            }\n\n            if (typeof _cache !== 'undefined') {\n                if (_cache.has(Class)) return _cache.get(Class);\n\n                _cache.set(Class, Wrapper);\n            }\n\n            function Wrapper() {\n                return _construct(Class, arguments, _getPrototypeOf(this).constructor);\n            }\n\n            Wrapper.prototype = Object.create(Class.prototype, {\n                constructor: {\n                    value: Wrapper,\n                    enumerable: false,\n                    writable: true,\n                    configurable: true,\n                },\n            });\n            return _setPrototypeOf(Wrapper, Class);\n        };\n\n        return _wrapNativeSuper(Class);\n    }\n\n    function _instanceof(left, right) {\n        if (right != null && typeof Symbol !== 'undefined' && right[Symbol.hasInstance]) {\n            return !!right[Symbol.hasInstance](left);\n        } else {\n            return left instanceof right;\n        }\n    }\n\n    function _interopRequireDefault(obj) {\n        return obj && obj.__esModule\n            ? obj\n            : {\n                  default: obj,\n              };\n    }\n\n    function _interopRequireWildcard(obj) {\n        if (obj && obj.__esModule) {\n            return obj;\n        } else {\n            var newObj = {};\n\n            if (obj != null) {\n                for (var key in obj) {\n                    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n                        var desc =\n                            Object.defineProperty && Object.getOwnPropertyDescriptor\n                                ? Object.getOwnPropertyDescriptor(obj, key)\n                                : {};\n\n                        if (desc.get || desc.set) {\n                            Object.defineProperty(newObj, key, desc);\n                        } else {\n                            newObj[key] = obj[key];\n                        }\n                    }\n                }\n            }\n\n            newObj.default = obj;\n            return newObj;\n        }\n    }\n\n    function _newArrowCheck(innerThis, boundThis) {\n        if (innerThis !== boundThis) {\n            throw new TypeError('Cannot instantiate an arrow function');\n        }\n    }\n\n    function _objectDestructuringEmpty(obj) {\n        if (obj == null) throw new TypeError('Cannot destructure undefined');\n    }\n\n    function _objectWithoutPropertiesLoose(source, excluded) {\n        if (source == null) return {};\n        var target = {};\n        var sourceKeys = Object.keys(source);\n        var key, i;\n\n        for (i = 0; i < sourceKeys.length; i++) {\n            key = sourceKeys[i];\n            if (excluded.indexOf(key) >= 0) continue;\n            target[key] = source[key];\n        }\n\n        return target;\n    }\n\n    function _objectWithoutProperties(source, excluded) {\n        if (source == null) return {};\n\n        var target = _objectWithoutPropertiesLoose(source, excluded);\n\n        var key, i;\n\n        if (Object.getOwnPropertySymbols) {\n            var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n            for (i = 0; i < sourceSymbolKeys.length; i++) {\n                key = sourceSymbolKeys[i];\n                if (excluded.indexOf(key) >= 0) continue;\n                if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n                target[key] = source[key];\n            }\n        }\n\n        return target;\n    }\n\n    function _assertThisInitialized(self) {\n        if (self === void 0) {\n            throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return self;\n    }\n\n    function _possibleConstructorReturn(self, call) {\n        if (call && (typeof call === 'object' || typeof call === 'function')) {\n            return call;\n        }\n\n        return _assertThisInitialized(self);\n    }\n\n    function _superPropBase(object, property) {\n        while (!Object.prototype.hasOwnProperty.call(object, property)) {\n            object = _getPrototypeOf(object);\n            if (object === null) break;\n        }\n\n        return object;\n    }\n\n    function _get(target, property, receiver) {\n        if (typeof Reflect !== 'undefined' && Reflect.get) {\n            _get = Reflect.get;\n        } else {\n            _get = function _get(target, property, receiver) {\n                var base = _superPropBase(target, property);\n\n                if (!base) return;\n                var desc = Object.getOwnPropertyDescriptor(base, property);\n\n                if (desc.get) {\n                    return desc.get.call(receiver);\n                }\n\n                return desc.value;\n            };\n        }\n\n        return _get(target, property, receiver || target);\n    }\n\n    function set(target, property, value, receiver) {\n        if (typeof Reflect !== 'undefined' && Reflect.set) {\n            set = Reflect.set;\n        } else {\n            set = function set(target, property, value, receiver) {\n                var base = _superPropBase(target, property);\n\n                var desc;\n\n                if (base) {\n                    desc = Object.getOwnPropertyDescriptor(base, property);\n\n                    if (desc.set) {\n                        desc.set.call(receiver, value);\n                        return true;\n                    } else if (!desc.writable) {\n                        return false;\n                    }\n                }\n\n                desc = Object.getOwnPropertyDescriptor(receiver, property);\n\n                if (desc) {\n                    if (!desc.writable) {\n                        return false;\n                    }\n\n                    desc.value = value;\n                    Object.defineProperty(receiver, property, desc);\n                } else {\n                    _defineProperty(receiver, property, value);\n                }\n\n                return true;\n            };\n        }\n\n        return set(target, property, value, receiver);\n    }\n\n    function _set(target, property, value, receiver, isStrict) {\n        var s = set(target, property, value, receiver || target);\n\n        if (!s && isStrict) {\n            throw new Error('failed to set property');\n        }\n\n        return value;\n    }\n\n    function _taggedTemplateLiteral(strings, raw) {\n        if (!raw) {\n            raw = strings.slice(0);\n        }\n\n        return Object.freeze(\n            Object.defineProperties(strings, {\n                raw: {\n                    value: Object.freeze(raw),\n                },\n            })\n        );\n    }\n\n    function _taggedTemplateLiteralLoose(strings, raw) {\n        if (!raw) {\n            raw = strings.slice(0);\n        }\n\n        strings.raw = raw;\n        return strings;\n    }\n\n    function _temporalRef(val, name) {\n        if (val === _temporalUndefined) {\n            throw new ReferenceError(name + ' is not defined - temporal dead zone');\n        } else {\n            return val;\n        }\n    }\n\n    function _readOnlyError(name) {\n        throw new Error('\"' + name + '\" is read-only');\n    }\n\n    function _classNameTDZError(name) {\n        throw new Error('Class \"' + name + '\" cannot be referenced in computed property keys.');\n    }\n\n    var _temporalUndefined = {};\n\n    function _slicedToArray(arr, i) {\n        return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n    }\n\n    function _slicedToArrayLoose(arr, i) {\n        return _arrayWithHoles(arr) || _iterableToArrayLimitLoose(arr, i) || _nonIterableRest();\n    }\n\n    function _toArray(arr) {\n        return _arrayWithHoles(arr) || _iterableToArray(arr) || _nonIterableRest();\n    }\n\n    function _toConsumableArray(arr) {\n        return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n    }\n\n    function _arrayWithoutHoles(arr) {\n        if (Array.isArray(arr)) {\n            for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n            return arr2;\n        }\n    }\n\n    function _arrayWithHoles(arr) {\n        if (Array.isArray(arr)) return arr;\n    }\n\n    function _iterableToArray(iter) {\n        if (\n            Symbol.iterator in Object(iter) ||\n            Object.prototype.toString.call(iter) === '[object Arguments]'\n        )\n            return Array.from(iter);\n    }\n\n    function _iterableToArrayLimit(arr, i) {\n        var _arr = [];\n        var _n = true;\n        var _d = false;\n        var _e = undefined;\n\n        try {\n            for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n                _arr.push(_s.value);\n\n                if (i && _arr.length === i) break;\n            }\n        } catch (err) {\n            _d = true;\n            _e = err;\n        } finally {\n            try {\n                if (!_n && _i['return'] != null) _i['return']();\n            } finally {\n                if (_d) throw _e;\n            }\n        }\n\n        return _arr;\n    }\n\n    function _iterableToArrayLimitLoose(arr, i) {\n        var _arr = [];\n\n        for (var _iterator = arr[Symbol.iterator](), _step; !(_step = _iterator.next()).done; ) {\n            _arr.push(_step.value);\n\n            if (i && _arr.length === i) break;\n        }\n\n        return _arr;\n    }\n\n    function _nonIterableSpread() {\n        throw new TypeError('Invalid attempt to spread non-iterable instance');\n    }\n\n    function _nonIterableRest() {\n        throw new TypeError('Invalid attempt to destructure non-iterable instance');\n    }\n\n    function _skipFirstGeneratorNext(fn) {\n        return function() {\n            var it = fn.apply(this, arguments);\n            it.next();\n            return it;\n        };\n    }\n\n    function _toPrimitive(input, hint) {\n        if (typeof input !== 'object' || input === null) return input;\n        var prim = input[Symbol.toPrimitive];\n\n        if (prim !== undefined) {\n            var res = prim.call(input, hint || 'default');\n            if (typeof res !== 'object') return res;\n            throw new TypeError('@@toPrimitive must return a primitive value.');\n        }\n\n        return (hint === 'string' ? String : Number)(input);\n    }\n\n    function _toPropertyKey(arg) {\n        var key = _toPrimitive(arg, 'string');\n\n        return typeof key === 'symbol' ? key : String(key);\n    }\n\n    function _initializerWarningHelper(descriptor, context) {\n        throw new Error(\n            'Decorating class property failed. Please ensure that ' +\n                'proposal-class-properties is enabled and set to use loose mode. ' +\n                'To use proposal-class-properties in spec mode with decorators, wait for ' +\n                'the next major version of decorators in stage 2.'\n        );\n    }\n\n    function _initializerDefineProperty(target, property, descriptor, context) {\n        if (!descriptor) return;\n        Object.defineProperty(target, property, {\n            enumerable: descriptor.enumerable,\n            configurable: descriptor.configurable,\n            writable: descriptor.writable,\n            value: descriptor.initializer ? descriptor.initializer.call(context) : void 0,\n        });\n    }\n\n    function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {\n        var desc = {};\n        Object.keys(descriptor).forEach(function(key) {\n            desc[key] = descriptor[key];\n        });\n        desc.enumerable = !!desc.enumerable;\n        desc.configurable = !!desc.configurable;\n\n        if ('value' in desc || desc.initializer) {\n            desc.writable = true;\n        }\n\n        desc = decorators\n            .slice()\n            .reverse()\n            .reduce(function(desc, decorator) {\n                return decorator(target, property, desc) || desc;\n            }, desc);\n\n        if (context && desc.initializer !== void 0) {\n            desc.value = desc.initializer ? desc.initializer.call(context) : void 0;\n            desc.initializer = undefined;\n        }\n\n        if (desc.initializer === void 0) {\n            Object.defineProperty(target, property, desc);\n            desc = null;\n        }\n\n        return desc;\n    }\n\n    var id = 0;\n\n    function _classPrivateFieldLooseKey(name) {\n        return '__private_' + id++ + '_' + name;\n    }\n\n    function _classPrivateFieldLooseBase(receiver, privateKey) {\n        if (!Object.prototype.hasOwnProperty.call(receiver, privateKey)) {\n            throw new TypeError('attempted to use private field on non-instance');\n        }\n\n        return receiver;\n    }\n\n    function _classPrivateFieldGet(receiver, privateMap) {\n        var descriptor = privateMap.get(receiver);\n\n        if (!descriptor) {\n            throw new TypeError('attempted to get private field on non-instance');\n        }\n\n        if (descriptor.get) {\n            return descriptor.get.call(receiver);\n        }\n\n        return descriptor.value;\n    }\n\n    function _classPrivateFieldSet(receiver, privateMap, value) {\n        var descriptor = privateMap.get(receiver);\n\n        if (!descriptor) {\n            throw new TypeError('attempted to set private field on non-instance');\n        }\n\n        if (descriptor.set) {\n            descriptor.set.call(receiver, value);\n        } else {\n            if (!descriptor.writable) {\n                throw new TypeError('attempted to set read only private field');\n            }\n\n            descriptor.value = value;\n        }\n\n        return value;\n    }\n\n    function _classPrivateFieldDestructureSet(receiver, privateMap) {\n        if (!privateMap.has(receiver)) {\n            throw new TypeError('attempted to set private field on non-instance');\n        }\n\n        var descriptor = privateMap.get(receiver);\n\n        if (descriptor.set) {\n            if (!('__destrObj' in descriptor)) {\n                descriptor.__destrObj = {\n                    set value(v) {\n                        descriptor.set.call(receiver, v);\n                    },\n                };\n            }\n\n            return descriptor.__destrObj;\n        } else {\n            if (!descriptor.writable) {\n                throw new TypeError('attempted to set read only private field');\n            }\n\n            return descriptor;\n        }\n    }\n\n    function _classStaticPrivateFieldSpecGet(receiver, classConstructor, descriptor) {\n        if (receiver !== classConstructor) {\n            throw new TypeError('Private static access of wrong provenance');\n        }\n\n        return descriptor.value;\n    }\n\n    function _classStaticPrivateFieldSpecSet(receiver, classConstructor, descriptor, value) {\n        if (receiver !== classConstructor) {\n            throw new TypeError('Private static access of wrong provenance');\n        }\n\n        if (!descriptor.writable) {\n            throw new TypeError('attempted to set read only private field');\n        }\n\n        descriptor.value = value;\n        return value;\n    }\n\n    function _classStaticPrivateMethodGet(receiver, classConstructor, method) {\n        if (receiver !== classConstructor) {\n            throw new TypeError('Private static access of wrong provenance');\n        }\n\n        return method;\n    }\n\n    function _classStaticPrivateMethodSet() {\n        throw new TypeError('attempted to set read only static private field');\n    }\n\n    function _decorate(decorators, factory, superClass, mixins) {\n        var api = _getDecoratorsApi();\n\n        if (mixins) {\n            for (var i = 0; i < mixins.length; i++) {\n                api = mixins[i](api);\n            }\n        }\n\n        var r = factory(function initialize(O) {\n            api.initializeInstanceElements(O, decorated.elements);\n        }, superClass);\n        var decorated = api.decorateClass(\n            _coalesceClassElements(r.d.map(_createElementDescriptor)),\n            decorators\n        );\n        api.initializeClassElements(r.F, decorated.elements);\n        return api.runClassFinishers(r.F, decorated.finishers);\n    }\n\n    function _getDecoratorsApi() {\n        _getDecoratorsApi = function() {\n            return api;\n        };\n\n        var api = {\n            elementsDefinitionOrder: [['method'], ['field']],\n            initializeInstanceElements: function(O, elements) {\n                ['method', 'field'].forEach(function(kind) {\n                    elements.forEach(function(element) {\n                        if (element.kind === kind && element.placement === 'own') {\n                            this.defineClassElement(O, element);\n                        }\n                    }, this);\n                }, this);\n            },\n            initializeClassElements: function(F, elements) {\n                var proto = F.prototype;\n                ['method', 'field'].forEach(function(kind) {\n                    elements.forEach(function(element) {\n                        var placement = element.placement;\n\n                        if (\n                            element.kind === kind &&\n                            (placement === 'static' || placement === 'prototype')\n                        ) {\n                            var receiver = placement === 'static' ? F : proto;\n                            this.defineClassElement(receiver, element);\n                        }\n                    }, this);\n                }, this);\n            },\n            defineClassElement: function(receiver, element) {\n                var descriptor = element.descriptor;\n\n                if (element.kind === 'field') {\n                    var initializer = element.initializer;\n                    descriptor = {\n                        enumerable: descriptor.enumerable,\n                        writable: descriptor.writable,\n                        configurable: descriptor.configurable,\n                        value: initializer === void 0 ? void 0 : initializer.call(receiver),\n                    };\n                }\n\n                Object.defineProperty(receiver, element.key, descriptor);\n            },\n            decorateClass: function(elements, decorators) {\n                var newElements = [];\n                var finishers = [];\n                var placements = {\n                    static: [],\n                    prototype: [],\n                    own: [],\n                };\n                elements.forEach(function(element) {\n                    this.addElementPlacement(element, placements);\n                }, this);\n                elements.forEach(function(element) {\n                    if (!_hasDecorators(element)) return newElements.push(element);\n                    var elementFinishersExtras = this.decorateElement(element, placements);\n                    newElements.push(elementFinishersExtras.element);\n                    newElements.push.apply(newElements, elementFinishersExtras.extras);\n                    finishers.push.apply(finishers, elementFinishersExtras.finishers);\n                }, this);\n\n                if (!decorators) {\n                    return {\n                        elements: newElements,\n                        finishers: finishers,\n                    };\n                }\n\n                var result = this.decorateConstructor(newElements, decorators);\n                finishers.push.apply(finishers, result.finishers);\n                result.finishers = finishers;\n                return result;\n            },\n            addElementPlacement: function(element, placements, silent) {\n                var keys = placements[element.placement];\n\n                if (!silent && keys.indexOf(element.key) !== -1) {\n                    throw new TypeError('Duplicated element (' + element.key + ')');\n                }\n\n                keys.push(element.key);\n            },\n            decorateElement: function(element, placements) {\n                var extras = [];\n                var finishers = [];\n\n                for (var decorators = element.decorators, i = decorators.length - 1; i >= 0; i--) {\n                    var keys = placements[element.placement];\n                    keys.splice(keys.indexOf(element.key), 1);\n                    var elementObject = this.fromElementDescriptor(element);\n                    var elementFinisherExtras = this.toElementFinisherExtras(\n                        (0, decorators[i])(elementObject) || elementObject\n                    );\n                    element = elementFinisherExtras.element;\n                    this.addElementPlacement(element, placements);\n\n                    if (elementFinisherExtras.finisher) {\n                        finishers.push(elementFinisherExtras.finisher);\n                    }\n\n                    var newExtras = elementFinisherExtras.extras;\n\n                    if (newExtras) {\n                        for (var j = 0; j < newExtras.length; j++) {\n                            this.addElementPlacement(newExtras[j], placements);\n                        }\n\n                        extras.push.apply(extras, newExtras);\n                    }\n                }\n\n                return {\n                    element: element,\n                    finishers: finishers,\n                    extras: extras,\n                };\n            },\n            decorateConstructor: function(elements, decorators) {\n                var finishers = [];\n\n                for (var i = decorators.length - 1; i >= 0; i--) {\n                    var obj = this.fromClassDescriptor(elements);\n                    var elementsAndFinisher = this.toClassDescriptor(\n                        (0, decorators[i])(obj) || obj\n                    );\n\n                    if (elementsAndFinisher.finisher !== undefined) {\n                        finishers.push(elementsAndFinisher.finisher);\n                    }\n\n                    if (elementsAndFinisher.elements !== undefined) {\n                        elements = elementsAndFinisher.elements;\n\n                        for (var j = 0; j < elements.length - 1; j++) {\n                            for (var k = j + 1; k < elements.length; k++) {\n                                if (\n                                    elements[j].key === elements[k].key &&\n                                    elements[j].placement === elements[k].placement\n                                ) {\n                                    throw new TypeError(\n                                        'Duplicated element (' + elements[j].key + ')'\n                                    );\n                                }\n                            }\n                        }\n                    }\n                }\n\n                return {\n                    elements: elements,\n                    finishers: finishers,\n                };\n            },\n            fromElementDescriptor: function(element) {\n                var obj = {\n                    kind: element.kind,\n                    key: element.key,\n                    placement: element.placement,\n                    descriptor: element.descriptor,\n                };\n                var desc = {\n                    value: 'Descriptor',\n                    configurable: true,\n                };\n                Object.defineProperty(obj, Symbol.toStringTag, desc);\n                if (element.kind === 'field') obj.initializer = element.initializer;\n                return obj;\n            },\n            toElementDescriptors: function(elementObjects) {\n                if (elementObjects === undefined) return;\n                return _toArray(elementObjects).map(function(elementObject) {\n                    var element = this.toElementDescriptor(elementObject);\n                    this.disallowProperty(elementObject, 'finisher', 'An element descriptor');\n                    this.disallowProperty(elementObject, 'extras', 'An element descriptor');\n                    return element;\n                }, this);\n            },\n            toElementDescriptor: function(elementObject) {\n                var kind = String(elementObject.kind);\n\n                if (kind !== 'method' && kind !== 'field') {\n                    throw new TypeError(\n                        'An element descriptor\\'s .kind property must be either \"method\" or' +\n                            ' \"field\", but a decorator created an element descriptor with' +\n                            ' .kind \"' +\n                            kind +\n                            '\"'\n                    );\n                }\n\n                var key = _toPropertyKey(elementObject.key);\n\n                var placement = String(elementObject.placement);\n\n                if (placement !== 'static' && placement !== 'prototype' && placement !== 'own') {\n                    throw new TypeError(\n                        'An element descriptor\\'s .placement property must be one of \"static\",' +\n                            ' \"prototype\" or \"own\", but a decorator created an element descriptor' +\n                            ' with .placement \"' +\n                            placement +\n                            '\"'\n                    );\n                }\n\n                var descriptor = elementObject.descriptor;\n                this.disallowProperty(elementObject, 'elements', 'An element descriptor');\n                var element = {\n                    kind: kind,\n                    key: key,\n                    placement: placement,\n                    descriptor: Object.assign({}, descriptor),\n                };\n\n                if (kind !== 'field') {\n                    this.disallowProperty(elementObject, 'initializer', 'A method descriptor');\n                } else {\n                    this.disallowProperty(\n                        descriptor,\n                        'get',\n                        'The property descriptor of a field descriptor'\n                    );\n                    this.disallowProperty(\n                        descriptor,\n                        'set',\n                        'The property descriptor of a field descriptor'\n                    );\n                    this.disallowProperty(\n                        descriptor,\n                        'value',\n                        'The property descriptor of a field descriptor'\n                    );\n                    element.initializer = elementObject.initializer;\n                }\n\n                return element;\n            },\n            toElementFinisherExtras: function(elementObject) {\n                var element = this.toElementDescriptor(elementObject);\n\n                var finisher = _optionalCallableProperty(elementObject, 'finisher');\n\n                var extras = this.toElementDescriptors(elementObject.extras);\n                return {\n                    element: element,\n                    finisher: finisher,\n                    extras: extras,\n                };\n            },\n            fromClassDescriptor: function(elements) {\n                var obj = {\n                    kind: 'class',\n                    elements: elements.map(this.fromElementDescriptor, this),\n                };\n                var desc = {\n                    value: 'Descriptor',\n                    configurable: true,\n                };\n                Object.defineProperty(obj, Symbol.toStringTag, desc);\n                return obj;\n            },\n            toClassDescriptor: function(obj) {\n                var kind = String(obj.kind);\n\n                if (kind !== 'class') {\n                    throw new TypeError(\n                        'A class descriptor\\'s .kind property must be \"class\", but a decorator' +\n                            ' created a class descriptor with .kind \"' +\n                            kind +\n                            '\"'\n                    );\n                }\n\n                this.disallowProperty(obj, 'key', 'A class descriptor');\n                this.disallowProperty(obj, 'placement', 'A class descriptor');\n                this.disallowProperty(obj, 'descriptor', 'A class descriptor');\n                this.disallowProperty(obj, 'initializer', 'A class descriptor');\n                this.disallowProperty(obj, 'extras', 'A class descriptor');\n\n                var finisher = _optionalCallableProperty(obj, 'finisher');\n\n                var elements = this.toElementDescriptors(obj.elements);\n                return {\n                    elements: elements,\n                    finisher: finisher,\n                };\n            },\n            runClassFinishers: function(constructor, finishers) {\n                for (var i = 0; i < finishers.length; i++) {\n                    var newConstructor = (0, finishers[i])(constructor);\n\n                    if (newConstructor !== undefined) {\n                        if (typeof newConstructor !== 'function') {\n                            throw new TypeError('Finishers must return a constructor.');\n                        }\n\n                        constructor = newConstructor;\n                    }\n                }\n\n                return constructor;\n            },\n            disallowProperty: function(obj, name, objectType) {\n                if (obj[name] !== undefined) {\n                    throw new TypeError(objectType + \" can't have a .\" + name + ' property.');\n                }\n            },\n        };\n        return api;\n    }\n\n    function _createElementDescriptor(def) {\n        var key = _toPropertyKey(def.key);\n\n        var descriptor;\n\n        if (def.kind === 'method') {\n            descriptor = {\n                value: def.value,\n                writable: true,\n                configurable: true,\n                enumerable: false,\n            };\n        } else if (def.kind === 'get') {\n            descriptor = {\n                get: def.value,\n                configurable: true,\n                enumerable: false,\n            };\n        } else if (def.kind === 'set') {\n            descriptor = {\n                set: def.value,\n                configurable: true,\n                enumerable: false,\n            };\n        } else if (def.kind === 'field') {\n            descriptor = {\n                configurable: true,\n                writable: true,\n                enumerable: true,\n            };\n        }\n\n        var element = {\n            kind: def.kind === 'field' ? 'field' : 'method',\n            key: key,\n            placement: def.static ? 'static' : def.kind === 'field' ? 'own' : 'prototype',\n            descriptor: descriptor,\n        };\n        if (def.decorators) element.decorators = def.decorators;\n        if (def.kind === 'field') element.initializer = def.value;\n        return element;\n    }\n\n    function _coalesceGetterSetter(element, other) {\n        if (element.descriptor.get !== undefined) {\n            other.descriptor.get = element.descriptor.get;\n        } else {\n            other.descriptor.set = element.descriptor.set;\n        }\n    }\n\n    function _coalesceClassElements(elements) {\n        var newElements = [];\n\n        var isSameElement = function(other) {\n            return (\n                other.kind === 'method' &&\n                other.key === element.key &&\n                other.placement === element.placement\n            );\n        };\n\n        for (var i = 0; i < elements.length; i++) {\n            var element = elements[i];\n            var other;\n\n            if (element.kind === 'method' && (other = newElements.find(isSameElement))) {\n                if (_isDataDescriptor(element.descriptor) || _isDataDescriptor(other.descriptor)) {\n                    if (_hasDecorators(element) || _hasDecorators(other)) {\n                        throw new ReferenceError(\n                            'Duplicated methods (' + element.key + \") can't be decorated.\"\n                        );\n                    }\n\n                    other.descriptor = element.descriptor;\n                } else {\n                    if (_hasDecorators(element)) {\n                        if (_hasDecorators(other)) {\n                            throw new ReferenceError(\n                                \"Decorators can't be placed on different accessors with for \" +\n                                    'the same property (' +\n                                    element.key +\n                                    ').'\n                            );\n                        }\n\n                        other.decorators = element.decorators;\n                    }\n\n                    _coalesceGetterSetter(element, other);\n                }\n            } else {\n                newElements.push(element);\n            }\n        }\n\n        return newElements;\n    }\n\n    function _hasDecorators(element) {\n        return element.decorators && element.decorators.length;\n    }\n\n    function _isDataDescriptor(desc) {\n        return desc !== undefined && !(desc.value === undefined && desc.writable === undefined);\n    }\n\n    function _optionalCallableProperty(obj, name) {\n        var value = obj[name];\n\n        if (value !== undefined && typeof value !== 'function') {\n            throw new TypeError(\"Expected '\" + name + \"' to be a function\");\n        }\n\n        return value;\n    }\n\n    function _classPrivateMethodGet(receiver, privateSet, fn) {\n        if (!privateSet.has(receiver)) {\n            throw new TypeError('attempted to get private field on non-instance');\n        }\n\n        return fn;\n    }\n\n    function _classPrivateMethodSet() {\n        throw new TypeError('attempted to reassign private method');\n    }\n\n    function _wrapRegExp(re, groups) {\n        _wrapRegExp = function(re, groups) {\n            return new BabelRegExp(re, groups);\n        };\n\n        var _RegExp = _wrapNativeSuper(RegExp);\n\n        var _super = RegExp.prototype;\n\n        var _groups = new WeakMap();\n\n        function BabelRegExp(re, groups) {\n            var _this = _RegExp.call(this, re);\n\n            _groups.set(_this, groups);\n\n            return _this;\n        }\n\n        _inherits(BabelRegExp, _RegExp);\n\n        BabelRegExp.prototype.exec = function(str) {\n            var result = _super.exec.call(this, str);\n\n            if (result) result.groups = buildGroups(result, this);\n            return result;\n        };\n\n        BabelRegExp.prototype[Symbol.replace] = function(str, substitution) {\n            if (typeof substitution === 'string') {\n                var groups = _groups.get(this);\n\n                return _super[Symbol.replace].call(\n                    this,\n                    str,\n                    substitution.replace(/\\$<([^>]+)>/g, function(_, name) {\n                        return '$' + groups[name];\n                    })\n                );\n            } else if (typeof substitution === 'function') {\n                var _this = this;\n\n                return _super[Symbol.replace].call(this, str, function() {\n                    var args = [];\n                    args.push.apply(args, arguments);\n\n                    if (typeof args[args.length - 1] !== 'object') {\n                        args.push(buildGroups(args, _this));\n                    }\n\n                    return substitution.apply(this, args);\n                });\n            } else {\n                return _super[Symbol.replace].call(this, str, substitution);\n            }\n        };\n\n        function buildGroups(result, re) {\n            var g = _groups.get(re);\n\n            return Object.keys(g).reduce(function(groups, name) {\n                groups[name] = result[g[name]];\n                return groups;\n            }, Object.create(null));\n        }\n\n        return _wrapRegExp.apply(this, arguments);\n    }\n\n    var arrayRemove = function arrayRemove(arr, index) {\n        return arr.splice(index, 1);\n    };\n\n    var run = function run(cb, sync) {\n        if (sync) {\n            cb();\n        } else if (document.hidden) {\n            Promise.resolve(1).then(cb);\n        } else {\n            setTimeout(cb, 0);\n        }\n    };\n\n    var on = function on() {\n        var listeners = [];\n        var off = function off(event, cb) {\n            arrayRemove(\n                listeners,\n                listeners.findIndex(function(listener) {\n                    return listener.event === event && (listener.cb === cb || !cb);\n                })\n            );\n        };\n        var _fire = function fire(event, args, sync) {\n            listeners\n                .filter(function(listener) {\n                    return listener.event === event;\n                })\n                .map(function(listener) {\n                    return listener.cb;\n                })\n                .forEach(function(cb) {\n                    return run(function() {\n                        return cb.apply(void 0, _toConsumableArray(args));\n                    }, sync);\n                });\n        };\n        return {\n            fireSync: function fireSync(event) {\n                for (\n                    var _len = arguments.length,\n                        args = new Array(_len > 1 ? _len - 1 : 0),\n                        _key = 1;\n                    _key < _len;\n                    _key++\n                ) {\n                    args[_key - 1] = arguments[_key];\n                }\n                _fire(event, args, true);\n            },\n            fire: function fire(event) {\n                for (\n                    var _len2 = arguments.length,\n                        args = new Array(_len2 > 1 ? _len2 - 1 : 0),\n                        _key2 = 1;\n                    _key2 < _len2;\n                    _key2++\n                ) {\n                    args[_key2 - 1] = arguments[_key2];\n                }\n                _fire(event, args, false);\n            },\n            on: function on(event, cb) {\n                listeners.push({ event: event, cb: cb });\n            },\n            onOnce: function onOnce(event, _cb) {\n                listeners.push({\n                    event: event,\n                    cb: function cb() {\n                        off(event, _cb);\n                        _cb.apply(void 0, arguments);\n                    },\n                });\n            },\n            off: off,\n        };\n    };\n\n    var copyObjectPropertiesToObject = function copyObjectPropertiesToObject(\n        src,\n        target,\n        excluded\n    ) {\n        Object.getOwnPropertyNames(src)\n            .filter(function(property) {\n                return !excluded.includes(property);\n            })\n            .forEach(function(key) {\n                return Object.defineProperty(\n                    target,\n                    key,\n                    Object.getOwnPropertyDescriptor(src, key)\n                );\n            });\n    };\n\n    var PRIVATE = [\n        'fire',\n        'process',\n        'revert',\n        'load',\n        'on',\n        'off',\n        'onOnce',\n        'retryLoad',\n        'extend',\n        'archive',\n        'archived',\n        'release',\n        'released',\n        'requestProcessing',\n        'freeze',\n    ];\n\n    var createItemAPI = function createItemAPI(item) {\n        var api = {};\n        copyObjectPropertiesToObject(item, api, PRIVATE);\n        return api;\n    };\n\n    var removeReleasedItems = function removeReleasedItems(items) {\n        items.forEach(function(item, index) {\n            if (item.released) {\n                arrayRemove(items, index);\n            }\n        });\n    };\n\n    var ItemStatus = {\n        INIT: 1,\n        IDLE: 2,\n        PROCESSING_QUEUED: 9,\n        PROCESSING: 3,\n        PROCESSING_COMPLETE: 5,\n        PROCESSING_ERROR: 6,\n        PROCESSING_REVERT_ERROR: 10,\n        LOADING: 7,\n        LOAD_ERROR: 8,\n    };\n\n    var FileOrigin = {\n        INPUT: 1,\n        LIMBO: 2,\n        LOCAL: 3,\n    };\n\n    var getNonNumeric = function getNonNumeric(str) {\n        return /[^0-9]+/.exec(str);\n    };\n\n    var getDecimalSeparator = function getDecimalSeparator() {\n        return getNonNumeric((1.1).toLocaleString())[0];\n    };\n\n    var getThousandsSeparator = function getThousandsSeparator() {\n        // Added for browsers that do not return the thousands separator (happend on native browser Android 4.4.4)\n        // We check against the normal toString output and if they're the same return a comma when decimal separator is a dot\n        var decimalSeparator = getDecimalSeparator();\n        var thousandsStringWithSeparator = (1000.0).toLocaleString();\n        var thousandsStringWithoutSeparator = (1000.0).toString();\n        if (thousandsStringWithSeparator !== thousandsStringWithoutSeparator) {\n            return getNonNumeric(thousandsStringWithSeparator)[0];\n        }\n        return decimalSeparator === '.' ? ',' : '.';\n    };\n\n    var Type = {\n        BOOLEAN: 'boolean',\n        INT: 'int',\n        NUMBER: 'number',\n        STRING: 'string',\n        ARRAY: 'array',\n        OBJECT: 'object',\n        FUNCTION: 'function',\n        ACTION: 'action',\n        SERVER_API: 'serverapi',\n        REGEX: 'regex',\n    };\n\n    // all registered filters\n    var filters = [];\n\n    // loops over matching filters and passes options to each filter, returning the mapped results\n    var applyFilterChain = function applyFilterChain(key, value, utils) {\n        return new Promise(function(resolve, reject) {\n            // find matching filters for this key\n            var matchingFilters = filters\n                .filter(function(f) {\n                    return f.key === key;\n                })\n                .map(function(f) {\n                    return f.cb;\n                });\n\n            // resolve now\n            if (matchingFilters.length === 0) {\n                resolve(value);\n                return;\n            }\n\n            // first filter to kick things of\n            var initialFilter = matchingFilters.shift();\n\n            // chain filters\n            matchingFilters\n                .reduce(\n                    // loop over promises passing value to next promise\n                    function(current, next) {\n                        return current.then(function(value) {\n                            return next(value, utils);\n                        });\n                    },\n\n                    // call initial filter, will return a promise\n                    initialFilter(value, utils)\n\n                    // all executed\n                )\n                .then(function(value) {\n                    return resolve(value);\n                })\n                .catch(function(error) {\n                    return reject(error);\n                });\n        });\n    };\n\n    var applyFilters = function applyFilters(key, value, utils) {\n        return filters\n            .filter(function(f) {\n                return f.key === key;\n            })\n            .map(function(f) {\n                return f.cb(value, utils);\n            });\n    };\n\n    // adds a new filter to the list\n    var addFilter = function addFilter(key, cb) {\n        return filters.push({ key: key, cb: cb });\n    };\n\n    var extendDefaultOptions = function extendDefaultOptions(additionalOptions) {\n        return Object.assign(defaultOptions, additionalOptions);\n    };\n\n    var getOptions = function getOptions() {\n        return Object.assign({}, defaultOptions);\n    };\n\n    var setOptions = function setOptions(opts) {\n        forin(opts, function(key, value) {\n            // key does not exist, so this option cannot be set\n            if (!defaultOptions[key]) {\n                return;\n            }\n            defaultOptions[key][0] = getValueByType(\n                value,\n                defaultOptions[key][0],\n                defaultOptions[key][1]\n            );\n        });\n    };\n\n    // default options on app\n    var defaultOptions = {\n        // the id to add to the root element\n        id: [null, Type.STRING],\n\n        // input field name to use\n        name: ['filepond', Type.STRING],\n\n        // disable the field\n        disabled: [false, Type.BOOLEAN],\n\n        // classname to put on wrapper\n        className: [null, Type.STRING],\n\n        // is the field required\n        required: [false, Type.BOOLEAN],\n\n        // Allow media capture when value is set\n        captureMethod: [null, Type.STRING],\n        // - \"camera\", \"microphone\" or \"camcorder\",\n        // - Does not work with multiple on apple devices\n        // - If set, acceptedFileTypes must be made to match with media wildcard \"image/*\", \"audio/*\" or \"video/*\"\n\n        // sync `acceptedFileTypes` property with `accept` attribute\n        allowSyncAcceptAttribute: [true, Type.BOOLEAN],\n\n        // Feature toggles\n        allowDrop: [true, Type.BOOLEAN], // Allow dropping of files\n        allowBrowse: [true, Type.BOOLEAN], // Allow browsing the file system\n        allowPaste: [true, Type.BOOLEAN], // Allow pasting files\n        allowMultiple: [false, Type.BOOLEAN], // Allow multiple files (disabled by default, as multiple attribute is also required on input to allow multiple)\n        allowReplace: [true, Type.BOOLEAN], // Allow dropping a file on other file to replace it (only works when multiple is set to false)\n        allowRevert: [true, Type.BOOLEAN], // Allows user to revert file upload\n        allowRemove: [true, Type.BOOLEAN], // Allow user to remove a file\n        allowProcess: [true, Type.BOOLEAN], // Allows user to process a file, when set to false, this removes the file upload button\n        allowReorder: [false, Type.BOOLEAN], // Allow reordering of files\n        allowDirectoriesOnly: [false, Type.BOOLEAN], // Allow only selecting directories with browse (no support for filtering dnd at this point)\n\n        // Try store file if `server` not set\n        storeAsFile: [false, Type.BOOLEAN],\n\n        // Revert mode\n        forceRevert: [false, Type.BOOLEAN], // Set to 'force' to require the file to be reverted before removal\n\n        // Input requirements\n        maxFiles: [null, Type.INT], // Max number of files\n        checkValidity: [false, Type.BOOLEAN], // Enables custom validity messages\n\n        // Where to put file\n        itemInsertLocationFreedom: [true, Type.BOOLEAN], // Set to false to always add items to begin or end of list\n        itemInsertLocation: ['before', Type.STRING], // Default index in list to add items that have been dropped at the top of the list\n        itemInsertInterval: [75, Type.INT],\n\n        // Drag 'n Drop related\n        dropOnPage: [false, Type.BOOLEAN], // Allow dropping of files anywhere on page (prevents browser from opening file if dropped outside of Up)\n        dropOnElement: [true, Type.BOOLEAN], // Drop needs to happen on element (set to false to also load drops outside of Up)\n        dropValidation: [false, Type.BOOLEAN], // Enable or disable validating files on drop\n        ignoredFiles: [['.ds_store', 'thumbs.db', 'desktop.ini'], Type.ARRAY],\n\n        // Upload related\n        instantUpload: [true, Type.BOOLEAN], // Should upload files immediately on drop\n        maxParallelUploads: [2, Type.INT], // Maximum files to upload in parallel\n        allowMinimumUploadDuration: [true, Type.BOOLEAN], // if true uploads take at least 750 ms, this ensures the user sees the upload progress giving trust the upload actually happened\n\n        // Chunks\n        chunkUploads: [false, Type.BOOLEAN], // Enable chunked uploads\n        chunkForce: [false, Type.BOOLEAN], // Force use of chunk uploads even for files smaller than chunk size\n        chunkSize: [5000000, Type.INT], // Size of chunks (5MB default)\n        chunkRetryDelays: [[500, 1000, 3000], Type.ARRAY], // Amount of times to retry upload of a chunk when it fails\n\n        // The server api end points to use for uploading (see docs)\n        server: [null, Type.SERVER_API],\n\n        // File size calculations, can set to 1024, this is only used for display, properties use file size base 1000\n        fileSizeBase: [1000, Type.INT],\n\n        // Labels and status messages\n        labelFileSizeBytes: ['bytes', Type.STRING],\n        labelFileSizeKilobytes: ['KB', Type.STRING],\n        labelFileSizeMegabytes: ['MB', Type.STRING],\n        labelFileSizeGigabytes: ['GB', Type.STRING],\n\n        labelDecimalSeparator: [getDecimalSeparator(), Type.STRING], // Default is locale separator\n        labelThousandsSeparator: [getThousandsSeparator(), Type.STRING], // Default is locale separator\n\n        labelIdle: [\n            'Drag & Drop your files or <span class=\"filepond--label-action\">Browse</span>',\n            Type.STRING,\n        ],\n\n        labelInvalidField: ['Field contains invalid files', Type.STRING],\n        labelFileWaitingForSize: ['Waiting for size', Type.STRING],\n        labelFileSizeNotAvailable: ['Size not available', Type.STRING],\n        labelFileCountSingular: ['file in list', Type.STRING],\n        labelFileCountPlural: ['files in list', Type.STRING],\n        labelFileLoading: ['Loading', Type.STRING],\n        labelFileAdded: ['Added', Type.STRING], // assistive only\n        labelFileLoadError: ['Error during load', Type.STRING],\n        labelFileRemoved: ['Removed', Type.STRING], // assistive only\n        labelFileRemoveError: ['Error during remove', Type.STRING],\n        labelFileProcessing: ['Uploading', Type.STRING],\n        labelFileProcessingComplete: ['Upload complete', Type.STRING],\n        labelFileProcessingAborted: ['Upload cancelled', Type.STRING],\n        labelFileProcessingError: ['Error during upload', Type.STRING],\n        labelFileProcessingRevertError: ['Error during revert', Type.STRING],\n\n        labelTapToCancel: ['tap to cancel', Type.STRING],\n        labelTapToRetry: ['tap to retry', Type.STRING],\n        labelTapToUndo: ['tap to undo', Type.STRING],\n\n        labelButtonRemoveItem: ['Remove', Type.STRING],\n        labelButtonAbortItemLoad: ['Abort', Type.STRING],\n        labelButtonRetryItemLoad: ['Retry', Type.STRING],\n        labelButtonAbortItemProcessing: ['Cancel', Type.STRING],\n        labelButtonUndoItemProcessing: ['Undo', Type.STRING],\n        labelButtonRetryItemProcessing: ['Retry', Type.STRING],\n        labelButtonProcessItem: ['Upload', Type.STRING],\n\n        // make sure width and height plus viewpox are even numbers so icons are nicely centered\n        iconRemove: [\n            '<svg width=\"26\" height=\"26\" viewBox=\"0 0 26 26\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M11.586 13l-2.293 2.293a1 1 0 0 0 1.414 1.414L13 14.414l2.293 2.293a1 1 0 0 0 1.414-1.414L14.414 13l2.293-2.293a1 1 0 0 0-1.414-1.414L13 11.586l-2.293-2.293a1 1 0 0 0-1.414 1.414L11.586 13z\" fill=\"currentColor\" fill-rule=\"nonzero\"/></svg>',\n            Type.STRING,\n        ],\n\n        iconProcess: [\n            '<svg width=\"26\" height=\"26\" viewBox=\"0 0 26 26\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14 10.414v3.585a1 1 0 0 1-2 0v-3.585l-1.293 1.293a1 1 0 0 1-1.414-1.415l3-3a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1-1.414 1.415L14 10.414zM9 18a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2H9z\" fill=\"currentColor\" fill-rule=\"evenodd\"/></svg>',\n            Type.STRING,\n        ],\n\n        iconRetry: [\n            '<svg width=\"26\" height=\"26\" viewBox=\"0 0 26 26\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M10.81 9.185l-.038.02A4.997 4.997 0 0 0 8 13.683a5 5 0 0 0 5 5 5 5 0 0 0 5-5 1 1 0 0 1 2 0A7 7 0 1 1 9.722 7.496l-.842-.21a.999.999 0 1 1 .484-1.94l3.23.806c.535.133.86.675.73 1.21l-.804 3.233a.997.997 0 0 1-1.21.73.997.997 0 0 1-.73-1.21l.23-.928v-.002z\" fill=\"currentColor\" fill-rule=\"nonzero\"/></svg>',\n            Type.STRING,\n        ],\n\n        iconUndo: [\n            '<svg width=\"26\" height=\"26\" viewBox=\"0 0 26 26\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M9.185 10.81l.02-.038A4.997 4.997 0 0 1 13.683 8a5 5 0 0 1 5 5 5 5 0 0 1-5 5 1 1 0 0 0 0 2A7 7 0 1 0 7.496 9.722l-.21-.842a.999.999 0 1 0-1.94.484l.806 3.23c.133.535.675.86 1.21.73l3.233-.803a.997.997 0 0 0 .73-1.21.997.997 0 0 0-1.21-.73l-.928.23-.002-.001z\" fill=\"currentColor\" fill-rule=\"nonzero\"/></svg>',\n            Type.STRING,\n        ],\n\n        iconDone: [\n            '<svg width=\"26\" height=\"26\" viewBox=\"0 0 26 26\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M18.293 9.293a1 1 0 0 1 1.414 1.414l-7.002 7a1 1 0 0 1-1.414 0l-3.998-4a1 1 0 1 1 1.414-1.414L12 15.586l6.294-6.293z\" fill=\"currentColor\" fill-rule=\"nonzero\"/></svg>',\n            Type.STRING,\n        ],\n\n        // event handlers\n        oninit: [null, Type.FUNCTION],\n        onwarning: [null, Type.FUNCTION],\n        onerror: [null, Type.FUNCTION],\n        onactivatefile: [null, Type.FUNCTION],\n        oninitfile: [null, Type.FUNCTION],\n        onaddfilestart: [null, Type.FUNCTION],\n        onaddfileprogress: [null, Type.FUNCTION],\n        onaddfile: [null, Type.FUNCTION],\n        onprocessfilestart: [null, Type.FUNCTION],\n        onprocessfileprogress: [null, Type.FUNCTION],\n        onprocessfileabort: [null, Type.FUNCTION],\n        onprocessfilerevert: [null, Type.FUNCTION],\n        onprocessfile: [null, Type.FUNCTION],\n        onprocessfiles: [null, Type.FUNCTION],\n        onremovefile: [null, Type.FUNCTION],\n        onpreparefile: [null, Type.FUNCTION],\n        onupdatefiles: [null, Type.FUNCTION],\n        onreorderfiles: [null, Type.FUNCTION],\n\n        // hooks\n        beforeDropFile: [null, Type.FUNCTION],\n        beforeAddFile: [null, Type.FUNCTION],\n        beforeRemoveFile: [null, Type.FUNCTION],\n        beforePrepareFile: [null, Type.FUNCTION],\n\n        // styles\n        stylePanelLayout: [null, Type.STRING], // null 'integrated', 'compact', 'circle'\n        stylePanelAspectRatio: [null, Type.STRING], // null or '3:2' or 1\n        styleItemPanelAspectRatio: [null, Type.STRING],\n        styleButtonRemoveItemPosition: ['left', Type.STRING],\n        styleButtonProcessItemPosition: ['right', Type.STRING],\n        styleLoadIndicatorPosition: ['right', Type.STRING],\n        styleProgressIndicatorPosition: ['right', Type.STRING],\n        styleButtonRemoveItemAlign: [false, Type.BOOLEAN],\n\n        // custom initial files array\n        files: [[], Type.ARRAY],\n\n        // show support by displaying credits\n        credits: [['https://pqina.nl/', 'Powered by PQINA'], Type.ARRAY],\n    };\n\n    var getItemByQuery = function getItemByQuery(items, query) {\n        // just return first index\n        if (isEmpty(query)) {\n            return items[0] || null;\n        }\n\n        // query is index\n        if (isInt(query)) {\n            return items[query] || null;\n        }\n\n        // if query is item, get the id\n        if (typeof query === 'object') {\n            query = query.id;\n        }\n\n        // assume query is a string and return item by id\n        return (\n            items.find(function(item) {\n                return item.id === query;\n            }) || null\n        );\n    };\n\n    var getNumericAspectRatioFromString = function getNumericAspectRatioFromString(aspectRatio) {\n        if (isEmpty(aspectRatio)) {\n            return aspectRatio;\n        }\n        if (/:/.test(aspectRatio)) {\n            var parts = aspectRatio.split(':');\n            return parts[1] / parts[0];\n        }\n        return parseFloat(aspectRatio);\n    };\n\n    var getActiveItems = function getActiveItems(items) {\n        return items.filter(function(item) {\n            return !item.archived;\n        });\n    };\n\n    var Status = {\n        EMPTY: 0,\n        IDLE: 1, // waiting\n        ERROR: 2, // a file is in error state\n        BUSY: 3, // busy processing or loading\n        READY: 4, // all files uploaded\n    };\n\n    var res = null;\n    var canUpdateFileInput = function canUpdateFileInput() {\n        if (res === null) {\n            try {\n                var dataTransfer = new DataTransfer();\n                dataTransfer.items.add(new File(['hello world'], 'This_Works.txt'));\n                var el = document.createElement('input');\n                el.setAttribute('type', 'file');\n                el.files = dataTransfer.files;\n                res = el.files.length === 1;\n            } catch (err) {\n                res = false;\n            }\n        }\n        return res;\n    };\n\n    var ITEM_ERROR = [\n        ItemStatus.LOAD_ERROR,\n        ItemStatus.PROCESSING_ERROR,\n        ItemStatus.PROCESSING_REVERT_ERROR,\n    ];\n\n    var ITEM_BUSY = [\n        ItemStatus.LOADING,\n        ItemStatus.PROCESSING,\n        ItemStatus.PROCESSING_QUEUED,\n        ItemStatus.INIT,\n    ];\n\n    var ITEM_READY = [ItemStatus.PROCESSING_COMPLETE];\n\n    var isItemInErrorState = function isItemInErrorState(item) {\n        return ITEM_ERROR.includes(item.status);\n    };\n    var isItemInBusyState = function isItemInBusyState(item) {\n        return ITEM_BUSY.includes(item.status);\n    };\n    var isItemInReadyState = function isItemInReadyState(item) {\n        return ITEM_READY.includes(item.status);\n    };\n\n    var isAsync = function isAsync(state) {\n        return (\n            isObject(state.options.server) &&\n            (isObject(state.options.server.process) || isFunction(state.options.server.process))\n        );\n    };\n\n    var queries = function queries(state) {\n        return {\n            GET_STATUS: function GET_STATUS() {\n                var items = getActiveItems(state.items);\n                var EMPTY = Status.EMPTY,\n                    ERROR = Status.ERROR,\n                    BUSY = Status.BUSY,\n                    IDLE = Status.IDLE,\n                    READY = Status.READY;\n\n                if (items.length === 0) return EMPTY;\n\n                if (items.some(isItemInErrorState)) return ERROR;\n\n                if (items.some(isItemInBusyState)) return BUSY;\n\n                if (items.some(isItemInReadyState)) return READY;\n\n                return IDLE;\n            },\n\n            GET_ITEM: function GET_ITEM(query) {\n                return getItemByQuery(state.items, query);\n            },\n\n            GET_ACTIVE_ITEM: function GET_ACTIVE_ITEM(query) {\n                return getItemByQuery(getActiveItems(state.items), query);\n            },\n\n            GET_ACTIVE_ITEMS: function GET_ACTIVE_ITEMS() {\n                return getActiveItems(state.items);\n            },\n\n            GET_ITEMS: function GET_ITEMS() {\n                return state.items;\n            },\n\n            GET_ITEM_NAME: function GET_ITEM_NAME(query) {\n                var item = getItemByQuery(state.items, query);\n                return item ? item.filename : null;\n            },\n\n            GET_ITEM_SIZE: function GET_ITEM_SIZE(query) {\n                var item = getItemByQuery(state.items, query);\n                return item ? item.fileSize : null;\n            },\n\n            GET_STYLES: function GET_STYLES() {\n                return Object.keys(state.options)\n                    .filter(function(key) {\n                        return /^style/.test(key);\n                    })\n                    .map(function(option) {\n                        return {\n                            name: option,\n                            value: state.options[option],\n                        };\n                    });\n            },\n\n            GET_PANEL_ASPECT_RATIO: function GET_PANEL_ASPECT_RATIO() {\n                var isShapeCircle = /circle/.test(state.options.stylePanelLayout);\n                var aspectRatio = isShapeCircle\n                    ? 1\n                    : getNumericAspectRatioFromString(state.options.stylePanelAspectRatio);\n                return aspectRatio;\n            },\n\n            GET_ITEM_PANEL_ASPECT_RATIO: function GET_ITEM_PANEL_ASPECT_RATIO() {\n                return state.options.styleItemPanelAspectRatio;\n            },\n\n            GET_ITEMS_BY_STATUS: function GET_ITEMS_BY_STATUS(status) {\n                return getActiveItems(state.items).filter(function(item) {\n                    return item.status === status;\n                });\n            },\n\n            GET_TOTAL_ITEMS: function GET_TOTAL_ITEMS() {\n                return getActiveItems(state.items).length;\n            },\n\n            SHOULD_UPDATE_FILE_INPUT: function SHOULD_UPDATE_FILE_INPUT() {\n                return state.options.storeAsFile && canUpdateFileInput() && !isAsync(state);\n            },\n\n            IS_ASYNC: function IS_ASYNC() {\n                return isAsync(state);\n            },\n\n            GET_FILE_SIZE_LABELS: function GET_FILE_SIZE_LABELS(query) {\n                return {\n                    labelBytes: query('GET_LABEL_FILE_SIZE_BYTES') || undefined,\n                    labelKilobytes: query('GET_LABEL_FILE_SIZE_KILOBYTES') || undefined,\n                    labelMegabytes: query('GET_LABEL_FILE_SIZE_MEGABYTES') || undefined,\n                    labelGigabytes: query('GET_LABEL_FILE_SIZE_GIGABYTES') || undefined,\n                };\n            },\n        };\n    };\n\n    var hasRoomForItem = function hasRoomForItem(state) {\n        var count = getActiveItems(state.items).length;\n\n        // if cannot have multiple items, to add one item it should currently not contain items\n        if (!state.options.allowMultiple) {\n            return count === 0;\n        }\n\n        // if allows multiple items, we check if a max item count has been set, if not, there's no limit\n        var maxFileCount = state.options.maxFiles;\n        if (maxFileCount === null) {\n            return true;\n        }\n\n        // we check if the current count is smaller than the max count, if so, another file can still be added\n        if (count < maxFileCount) {\n            return true;\n        }\n\n        // no more room for another file\n        return false;\n    };\n\n    var limit = function limit(value, min, max) {\n        return Math.max(Math.min(max, value), min);\n    };\n\n    var arrayInsert = function arrayInsert(arr, index, item) {\n        return arr.splice(index, 0, item);\n    };\n\n    var insertItem = function insertItem(items, item, index) {\n        if (isEmpty(item)) {\n            return null;\n        }\n\n        // if index is undefined, append\n        if (typeof index === 'undefined') {\n            items.push(item);\n            return item;\n        }\n\n        // limit the index to the size of the items array\n        index = limit(index, 0, items.length);\n\n        // add item to array\n        arrayInsert(items, index, item);\n\n        // expose\n        return item;\n    };\n\n    var isBase64DataURI = function isBase64DataURI(str) {\n        return /^\\s*data:([a-z]+\\/[a-z0-9-+.]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,([a-z0-9!$&',()*+;=\\-._~:@\\/?%\\s]*)\\s*$/i.test(\n            str\n        );\n    };\n\n    var getFilenameFromURL = function getFilenameFromURL(url) {\n        return url\n            .split('/')\n            .pop()\n            .split('?')\n            .shift();\n    };\n\n    var getExtensionFromFilename = function getExtensionFromFilename(name) {\n        return name.split('.').pop();\n    };\n\n    var guesstimateExtension = function guesstimateExtension(type) {\n        // if no extension supplied, exit here\n        if (typeof type !== 'string') {\n            return '';\n        }\n\n        // get subtype\n        var subtype = type.split('/').pop();\n\n        // is svg subtype\n        if (/svg/.test(subtype)) {\n            return 'svg';\n        }\n\n        if (/zip|compressed/.test(subtype)) {\n            return 'zip';\n        }\n\n        if (/plain/.test(subtype)) {\n            return 'txt';\n        }\n\n        if (/msword/.test(subtype)) {\n            return 'doc';\n        }\n\n        // if is valid subtype\n        if (/[a-z]+/.test(subtype)) {\n            // always use jpg extension\n            if (subtype === 'jpeg') {\n                return 'jpg';\n            }\n\n            // return subtype\n            return subtype;\n        }\n\n        return '';\n    };\n\n    var leftPad = function leftPad(value) {\n        var padding = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n        return (padding + value).slice(-padding.length);\n    };\n\n    var getDateString = function getDateString() {\n        var date = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : new Date();\n        return (\n            date.getFullYear() +\n            '-' +\n            leftPad(date.getMonth() + 1, '00') +\n            '-' +\n            leftPad(date.getDate(), '00') +\n            '_' +\n            leftPad(date.getHours(), '00') +\n            '-' +\n            leftPad(date.getMinutes(), '00') +\n            '-' +\n            leftPad(date.getSeconds(), '00')\n        );\n    };\n\n    var getFileFromBlob = function getFileFromBlob(blob, filename) {\n        var type = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n        var extension = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n        var file =\n            typeof type === 'string'\n                ? blob.slice(0, blob.size, type)\n                : blob.slice(0, blob.size, blob.type);\n        file.lastModifiedDate = new Date();\n\n        // copy relative path\n        if (blob._relativePath) file._relativePath = blob._relativePath;\n\n        // if blob has name property, use as filename if no filename supplied\n        if (!isString(filename)) {\n            filename = getDateString();\n        }\n\n        // if filename supplied but no extension and filename has extension\n        if (filename && extension === null && getExtensionFromFilename(filename)) {\n            file.name = filename;\n        } else {\n            extension = extension || guesstimateExtension(file.type);\n            file.name = filename + (extension ? '.' + extension : '');\n        }\n\n        return file;\n    };\n\n    var getBlobBuilder = function getBlobBuilder() {\n        return (window.BlobBuilder =\n            window.BlobBuilder ||\n            window.WebKitBlobBuilder ||\n            window.MozBlobBuilder ||\n            window.MSBlobBuilder);\n    };\n\n    var createBlob = function createBlob(arrayBuffer, mimeType) {\n        var BB = getBlobBuilder();\n\n        if (BB) {\n            var bb = new BB();\n            bb.append(arrayBuffer);\n            return bb.getBlob(mimeType);\n        }\n\n        return new Blob([arrayBuffer], {\n            type: mimeType,\n        });\n    };\n\n    var getBlobFromByteStringWithMimeType = function getBlobFromByteStringWithMimeType(\n        byteString,\n        mimeType\n    ) {\n        var ab = new ArrayBuffer(byteString.length);\n        var ia = new Uint8Array(ab);\n\n        for (var i = 0; i < byteString.length; i++) {\n            ia[i] = byteString.charCodeAt(i);\n        }\n\n        return createBlob(ab, mimeType);\n    };\n\n    var getMimeTypeFromBase64DataURI = function getMimeTypeFromBase64DataURI(dataURI) {\n        return (/^data:(.+);/.exec(dataURI) || [])[1] || null;\n    };\n\n    var getBase64DataFromBase64DataURI = function getBase64DataFromBase64DataURI(dataURI) {\n        // get data part of string (remove data:image/jpeg...,)\n        var data = dataURI.split(',')[1];\n\n        // remove any whitespace as that causes InvalidCharacterError in IE\n        return data.replace(/\\s/g, '');\n    };\n\n    var getByteStringFromBase64DataURI = function getByteStringFromBase64DataURI(dataURI) {\n        return atob(getBase64DataFromBase64DataURI(dataURI));\n    };\n\n    var getBlobFromBase64DataURI = function getBlobFromBase64DataURI(dataURI) {\n        var mimeType = getMimeTypeFromBase64DataURI(dataURI);\n        var byteString = getByteStringFromBase64DataURI(dataURI);\n\n        return getBlobFromByteStringWithMimeType(byteString, mimeType);\n    };\n\n    var getFileFromBase64DataURI = function getFileFromBase64DataURI(dataURI, filename, extension) {\n        return getFileFromBlob(getBlobFromBase64DataURI(dataURI), filename, null, extension);\n    };\n\n    var getFileNameFromHeader = function getFileNameFromHeader(header) {\n        // test if is content disposition header, if not exit\n        if (!/^content-disposition:/i.test(header)) return null;\n\n        // get filename parts\n        var matches = header\n            .split(/filename=|filename\\*=.+''/)\n            .splice(1)\n            .map(function(name) {\n                return name.trim().replace(/^[\"']|[;\"']{0,2}$/g, '');\n            })\n            .filter(function(name) {\n                return name.length;\n            });\n\n        return matches.length ? decodeURI(matches[matches.length - 1]) : null;\n    };\n\n    var getFileSizeFromHeader = function getFileSizeFromHeader(header) {\n        if (/content-length:/i.test(header)) {\n            var size = header.match(/[0-9]+/)[0];\n            return size ? parseInt(size, 10) : null;\n        }\n        return null;\n    };\n\n    var getTranfserIdFromHeader = function getTranfserIdFromHeader(header) {\n        if (/x-content-transfer-id:/i.test(header)) {\n            var id = (header.split(':')[1] || '').trim();\n            return id || null;\n        }\n        return null;\n    };\n\n    var getFileInfoFromHeaders = function getFileInfoFromHeaders(headers) {\n        var info = {\n            source: null,\n            name: null,\n            size: null,\n        };\n\n        var rows = headers.split('\\n');\n        var _iteratorNormalCompletion = true;\n        var _didIteratorError = false;\n        var _iteratorError = undefined;\n        try {\n            for (\n                var _iterator = rows[Symbol.iterator](), _step;\n                !(_iteratorNormalCompletion = (_step = _iterator.next()).done);\n                _iteratorNormalCompletion = true\n            ) {\n                var header = _step.value;\n\n                var name = getFileNameFromHeader(header);\n                if (name) {\n                    info.name = name;\n                    continue;\n                }\n\n                var size = getFileSizeFromHeader(header);\n                if (size) {\n                    info.size = size;\n                    continue;\n                }\n\n                var source = getTranfserIdFromHeader(header);\n                if (source) {\n                    info.source = source;\n                    continue;\n                }\n            }\n        } catch (err) {\n            _didIteratorError = true;\n            _iteratorError = err;\n        } finally {\n            try {\n                if (!_iteratorNormalCompletion && _iterator.return != null) {\n                    _iterator.return();\n                }\n            } finally {\n                if (_didIteratorError) {\n                    throw _iteratorError;\n                }\n            }\n        }\n\n        return info;\n    };\n\n    var createFileLoader = function createFileLoader(fetchFn) {\n        var state = {\n            source: null,\n            complete: false,\n            progress: 0,\n            size: null,\n            timestamp: null,\n            duration: 0,\n            request: null,\n        };\n\n        var getProgress = function getProgress() {\n            return state.progress;\n        };\n        var abort = function abort() {\n            if (state.request && state.request.abort) {\n                state.request.abort();\n            }\n        };\n\n        // load source\n        var load = function load() {\n            // get quick reference\n            var source = state.source;\n\n            api.fire('init', source);\n\n            // Load Files\n            if (source instanceof File) {\n                api.fire('load', source);\n            } else if (source instanceof Blob) {\n                // Load blobs, set default name to current date\n                api.fire('load', getFileFromBlob(source, source.name));\n            } else if (isBase64DataURI(source)) {\n                // Load base 64, set default name to current date\n                api.fire('load', getFileFromBase64DataURI(source));\n            } else {\n                // Deal as if is external URL, let's load it!\n                loadURL(source);\n            }\n        };\n\n        // loads a url\n        var loadURL = function loadURL(url) {\n            // is remote url and no fetch method supplied\n            if (!fetchFn) {\n                api.fire('error', {\n                    type: 'error',\n                    body: \"Can't load URL\",\n                    code: 400,\n                });\n\n                return;\n            }\n\n            // set request start\n            state.timestamp = Date.now();\n\n            // load file\n            state.request = fetchFn(\n                url,\n                function(response) {\n                    // update duration\n                    state.duration = Date.now() - state.timestamp;\n\n                    // done!\n                    state.complete = true;\n\n                    // turn blob response into a file\n                    if (response instanceof Blob) {\n                        response = getFileFromBlob(\n                            response,\n                            response.name || getFilenameFromURL(url)\n                        );\n                    }\n\n                    api.fire(\n                        'load',\n                        // if has received blob, we go with blob, if no response, we return null\n                        response instanceof Blob ? response : response ? response.body : null\n                    );\n                },\n                function(error) {\n                    api.fire(\n                        'error',\n                        typeof error === 'string'\n                            ? {\n                                  type: 'error',\n                                  code: 0,\n                                  body: error,\n                              }\n                            : error\n                    );\n                },\n                function(computable, current, total) {\n                    // collected some meta data already\n                    if (total) {\n                        state.size = total;\n                    }\n\n                    // update duration\n                    state.duration = Date.now() - state.timestamp;\n\n                    // if we can't compute progress, we're not going to fire progress events\n                    if (!computable) {\n                        state.progress = null;\n                        return;\n                    }\n\n                    // update progress percentage\n                    state.progress = current / total;\n\n                    // expose\n                    api.fire('progress', state.progress);\n                },\n                function() {\n                    api.fire('abort');\n                },\n                function(response) {\n                    var fileinfo = getFileInfoFromHeaders(\n                        typeof response === 'string' ? response : response.headers\n                    );\n                    api.fire('meta', {\n                        size: state.size || fileinfo.size,\n                        filename: fileinfo.name,\n                        source: fileinfo.source,\n                    });\n                }\n            );\n        };\n\n        var api = Object.assign({}, on(), {\n            setSource: function setSource(source) {\n                return (state.source = source);\n            },\n            getProgress: getProgress, // file load progress\n            abort: abort, // abort file load\n            load: load, // start load\n        });\n\n        return api;\n    };\n\n    var isGet = function isGet(method) {\n        return /GET|HEAD/.test(method);\n    };\n\n    var sendRequest = function sendRequest(data, url, options) {\n        var api = {\n            onheaders: function onheaders() {},\n            onprogress: function onprogress() {},\n            onload: function onload() {},\n            ontimeout: function ontimeout() {},\n            onerror: function onerror() {},\n            onabort: function onabort() {},\n            abort: function abort() {\n                aborted = true;\n                xhr.abort();\n            },\n        };\n\n        // timeout identifier, only used when timeout is defined\n        var aborted = false;\n        var headersReceived = false;\n\n        // set default options\n        options = Object.assign(\n            {\n                method: 'POST',\n                headers: {},\n                withCredentials: false,\n            },\n            options\n        );\n\n        // encode url\n        url = encodeURI(url);\n\n        // if method is GET, add any received data to url\n\n        if (isGet(options.method) && data) {\n            url =\n                '' +\n                url +\n                encodeURIComponent(typeof data === 'string' ? data : JSON.stringify(data));\n        }\n\n        // create request\n        var xhr = new XMLHttpRequest();\n\n        // progress of load\n        var process = isGet(options.method) ? xhr : xhr.upload;\n        process.onprogress = function(e) {\n            // no progress event when aborted ( onprogress is called once after abort() )\n            if (aborted) {\n                return;\n            }\n\n            api.onprogress(e.lengthComputable, e.loaded, e.total);\n        };\n\n        // tries to get header info to the app as fast as possible\n        xhr.onreadystatechange = function() {\n            // not interesting in these states ('unsent' and 'openend' as they don't give us any additional info)\n            if (xhr.readyState < 2) {\n                return;\n            }\n\n            // no server response\n            if (xhr.readyState === 4 && xhr.status === 0) {\n                return;\n            }\n\n            if (headersReceived) {\n                return;\n            }\n\n            headersReceived = true;\n\n            // we've probably received some useful data in response headers\n            api.onheaders(xhr);\n        };\n\n        // load successful\n        xhr.onload = function() {\n            // is classified as valid response\n            if (xhr.status >= 200 && xhr.status < 300) {\n                api.onload(xhr);\n            } else {\n                api.onerror(xhr);\n            }\n        };\n\n        // error during load\n        xhr.onerror = function() {\n            return api.onerror(xhr);\n        };\n\n        // request aborted\n        xhr.onabort = function() {\n            aborted = true;\n            api.onabort();\n        };\n\n        // request timeout\n        xhr.ontimeout = function() {\n            return api.ontimeout(xhr);\n        };\n\n        // open up open up!\n        xhr.open(options.method, url, true);\n\n        // set timeout if defined (do it after open so IE11 plays ball)\n        if (isInt(options.timeout)) {\n            xhr.timeout = options.timeout;\n        }\n\n        // add headers\n        Object.keys(options.headers).forEach(function(key) {\n            var value = unescape(encodeURIComponent(options.headers[key]));\n            xhr.setRequestHeader(key, value);\n        });\n\n        // set type of response\n        if (options.responseType) {\n            xhr.responseType = options.responseType;\n        }\n\n        // set credentials\n        if (options.withCredentials) {\n            xhr.withCredentials = true;\n        }\n\n        // let's send our data\n        xhr.send(data);\n\n        return api;\n    };\n\n    var createResponse = function createResponse(type, code, body, headers) {\n        return {\n            type: type,\n            code: code,\n            body: body,\n            headers: headers,\n        };\n    };\n\n    var createTimeoutResponse = function createTimeoutResponse(cb) {\n        return function(xhr) {\n            cb(createResponse('error', 0, 'Timeout', xhr.getAllResponseHeaders()));\n        };\n    };\n\n    var hasQS = function hasQS(str) {\n        return /\\?/.test(str);\n    };\n    var buildURL = function buildURL() {\n        var url = '';\n        for (var _len = arguments.length, parts = new Array(_len), _key = 0; _key < _len; _key++) {\n            parts[_key] = arguments[_key];\n        }\n        parts.forEach(function(part) {\n            url += hasQS(url) && hasQS(part) ? part.replace(/\\?/, '&') : part;\n        });\n        return url;\n    };\n\n    var createFetchFunction = function createFetchFunction() {\n        var apiUrl = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n        var action = arguments.length > 1 ? arguments[1] : undefined;\n        // custom handler (should also handle file, load, error, progress and abort)\n        if (typeof action === 'function') {\n            return action;\n        }\n\n        // no action supplied\n        if (!action || !isString(action.url)) {\n            return null;\n        }\n\n        // set onload hanlder\n        var onload =\n            action.onload ||\n            function(res) {\n                return res;\n            };\n        var onerror =\n            action.onerror ||\n            function(res) {\n                return null;\n            };\n\n        // internal handler\n        return function(url, load, error, progress, abort, headers) {\n            // do local or remote request based on if the url is external\n            var request = sendRequest(\n                url,\n                buildURL(apiUrl, action.url),\n                Object.assign({}, action, {\n                    responseType: 'blob',\n                })\n            );\n\n            request.onload = function(xhr) {\n                // get headers\n                var headers = xhr.getAllResponseHeaders();\n\n                // get filename\n                var filename = getFileInfoFromHeaders(headers).name || getFilenameFromURL(url);\n\n                // create response\n                load(\n                    createResponse(\n                        'load',\n                        xhr.status,\n                        action.method === 'HEAD'\n                            ? null\n                            : getFileFromBlob(onload(xhr.response), filename),\n                        headers\n                    )\n                );\n            };\n\n            request.onerror = function(xhr) {\n                error(\n                    createResponse(\n                        'error',\n                        xhr.status,\n                        onerror(xhr.response) || xhr.statusText,\n                        xhr.getAllResponseHeaders()\n                    )\n                );\n            };\n\n            request.onheaders = function(xhr) {\n                headers(createResponse('headers', xhr.status, null, xhr.getAllResponseHeaders()));\n            };\n\n            request.ontimeout = createTimeoutResponse(error);\n            request.onprogress = progress;\n            request.onabort = abort;\n\n            // should return request\n            return request;\n        };\n    };\n\n    var ChunkStatus = {\n        QUEUED: 0,\n        COMPLETE: 1,\n        PROCESSING: 2,\n        ERROR: 3,\n        WAITING: 4,\n    };\n\n    /*\n                                                       function signature:\n                                                         (file, metadata, load, error, progress, abort, transfer, options) => {\n                                                           return {\n                                                           abort:() => {}\n                                                         }\n                                                       }\n                                                       */\n\n    // apiUrl, action, name, file, metadata, load, error, progress, abort, transfer, options\n    var processFileChunked = function processFileChunked(\n        apiUrl,\n        action,\n        name,\n        file,\n        metadata,\n        load,\n        error,\n        progress,\n        abort,\n        transfer,\n        options\n    ) {\n        // all chunks\n        var chunks = [];\n        var chunkTransferId = options.chunkTransferId,\n            chunkServer = options.chunkServer,\n            chunkSize = options.chunkSize,\n            chunkRetryDelays = options.chunkRetryDelays;\n\n        // default state\n        var state = {\n            serverId: chunkTransferId,\n            aborted: false,\n        };\n\n        // set onload handlers\n        var ondata =\n            action.ondata ||\n            function(fd) {\n                return fd;\n            };\n        var onload =\n            action.onload ||\n            function(xhr, method) {\n                return method === 'HEAD' ? xhr.getResponseHeader('Upload-Offset') : xhr.response;\n            };\n        var onerror =\n            action.onerror ||\n            function(res) {\n                return null;\n            };\n\n        // create server hook\n        var requestTransferId = function requestTransferId(cb) {\n            var formData = new FormData();\n\n            // add metadata under same name\n            if (isObject(metadata)) formData.append(name, JSON.stringify(metadata));\n\n            var headers =\n                typeof action.headers === 'function'\n                    ? action.headers(file, metadata)\n                    : Object.assign({}, action.headers, {\n                          'Upload-Length': file.size,\n                      });\n\n            var requestParams = Object.assign({}, action, {\n                headers: headers,\n            });\n\n            // send request object\n            var request = sendRequest(\n                ondata(formData),\n                buildURL(apiUrl, action.url),\n                requestParams\n            );\n\n            request.onload = function(xhr) {\n                return cb(onload(xhr, requestParams.method));\n            };\n\n            request.onerror = function(xhr) {\n                return error(\n                    createResponse(\n                        'error',\n                        xhr.status,\n                        onerror(xhr.response) || xhr.statusText,\n                        xhr.getAllResponseHeaders()\n                    )\n                );\n            };\n\n            request.ontimeout = createTimeoutResponse(error);\n        };\n\n        var requestTransferOffset = function requestTransferOffset(cb) {\n            var requestUrl = buildURL(apiUrl, chunkServer.url, state.serverId);\n\n            var headers =\n                typeof action.headers === 'function'\n                    ? action.headers(state.serverId)\n                    : Object.assign({}, action.headers);\n\n            var requestParams = {\n                headers: headers,\n                method: 'HEAD',\n            };\n\n            var request = sendRequest(null, requestUrl, requestParams);\n\n            request.onload = function(xhr) {\n                return cb(onload(xhr, requestParams.method));\n            };\n\n            request.onerror = function(xhr) {\n                return error(\n                    createResponse(\n                        'error',\n                        xhr.status,\n                        onerror(xhr.response) || xhr.statusText,\n                        xhr.getAllResponseHeaders()\n                    )\n                );\n            };\n\n            request.ontimeout = createTimeoutResponse(error);\n        };\n\n        // create chunks\n        var lastChunkIndex = Math.floor(file.size / chunkSize);\n        for (var i = 0; i <= lastChunkIndex; i++) {\n            var offset = i * chunkSize;\n            var data = file.slice(offset, offset + chunkSize, 'application/offset+octet-stream');\n            chunks[i] = {\n                index: i,\n                size: data.size,\n                offset: offset,\n                data: data,\n                file: file,\n                progress: 0,\n                retries: _toConsumableArray(chunkRetryDelays),\n                status: ChunkStatus.QUEUED,\n                error: null,\n                request: null,\n                timeout: null,\n            };\n        }\n\n        var completeProcessingChunks = function completeProcessingChunks() {\n            return load(state.serverId);\n        };\n\n        var canProcessChunk = function canProcessChunk(chunk) {\n            return chunk.status === ChunkStatus.QUEUED || chunk.status === ChunkStatus.ERROR;\n        };\n\n        var processChunk = function processChunk(chunk) {\n            // processing is paused, wait here\n            if (state.aborted) return;\n\n            // get next chunk to process\n            chunk = chunk || chunks.find(canProcessChunk);\n\n            // no more chunks to process\n            if (!chunk) {\n                // all done?\n                if (\n                    chunks.every(function(chunk) {\n                        return chunk.status === ChunkStatus.COMPLETE;\n                    })\n                ) {\n                    completeProcessingChunks();\n                }\n\n                // no chunk to handle\n                return;\n            }\n\n            // now processing this chunk\n            chunk.status = ChunkStatus.PROCESSING;\n            chunk.progress = null;\n\n            // allow parsing of formdata\n            var ondata =\n                chunkServer.ondata ||\n                function(fd) {\n                    return fd;\n                };\n            var onerror =\n                chunkServer.onerror ||\n                function(res) {\n                    return null;\n                };\n\n            // send request object\n            var requestUrl = buildURL(apiUrl, chunkServer.url, state.serverId);\n\n            var headers =\n                typeof chunkServer.headers === 'function'\n                    ? chunkServer.headers(chunk)\n                    : Object.assign({}, chunkServer.headers, {\n                          'Content-Type': 'application/offset+octet-stream',\n                          'Upload-Offset': chunk.offset,\n                          'Upload-Length': file.size,\n                          'Upload-Name': file.name,\n                      });\n\n            var request = (chunk.request = sendRequest(\n                ondata(chunk.data),\n                requestUrl,\n                Object.assign({}, chunkServer, {\n                    headers: headers,\n                })\n            ));\n\n            request.onload = function() {\n                // done!\n                chunk.status = ChunkStatus.COMPLETE;\n\n                // remove request reference\n                chunk.request = null;\n\n                // start processing more chunks\n                processChunks();\n            };\n\n            request.onprogress = function(lengthComputable, loaded, total) {\n                chunk.progress = lengthComputable ? loaded : null;\n                updateTotalProgress();\n            };\n\n            request.onerror = function(xhr) {\n                chunk.status = ChunkStatus.ERROR;\n                chunk.request = null;\n                chunk.error = onerror(xhr.response) || xhr.statusText;\n                if (!retryProcessChunk(chunk)) {\n                    error(\n                        createResponse(\n                            'error',\n                            xhr.status,\n                            onerror(xhr.response) || xhr.statusText,\n                            xhr.getAllResponseHeaders()\n                        )\n                    );\n                }\n            };\n\n            request.ontimeout = function(xhr) {\n                chunk.status = ChunkStatus.ERROR;\n                chunk.request = null;\n                if (!retryProcessChunk(chunk)) {\n                    createTimeoutResponse(error)(xhr);\n                }\n            };\n\n            request.onabort = function() {\n                chunk.status = ChunkStatus.QUEUED;\n                chunk.request = null;\n                abort();\n            };\n        };\n\n        var retryProcessChunk = function retryProcessChunk(chunk) {\n            // no more retries left\n            if (chunk.retries.length === 0) return false;\n\n            // new retry\n            chunk.status = ChunkStatus.WAITING;\n            clearTimeout(chunk.timeout);\n            chunk.timeout = setTimeout(function() {\n                processChunk(chunk);\n            }, chunk.retries.shift());\n\n            // we're going to retry\n            return true;\n        };\n\n        var updateTotalProgress = function updateTotalProgress() {\n            // calculate total progress fraction\n            var totalBytesTransfered = chunks.reduce(function(p, chunk) {\n                if (p === null || chunk.progress === null) return null;\n                return p + chunk.progress;\n            }, 0);\n\n            // can't compute progress\n            if (totalBytesTransfered === null) return progress(false, 0, 0);\n\n            // calculate progress values\n            var totalSize = chunks.reduce(function(total, chunk) {\n                return total + chunk.size;\n            }, 0);\n\n            // can update progress indicator\n            progress(true, totalBytesTransfered, totalSize);\n        };\n\n        // process new chunks\n        var processChunks = function processChunks() {\n            var totalProcessing = chunks.filter(function(chunk) {\n                return chunk.status === ChunkStatus.PROCESSING;\n            }).length;\n            if (totalProcessing >= 1) return;\n            processChunk();\n        };\n\n        var abortChunks = function abortChunks() {\n            chunks.forEach(function(chunk) {\n                clearTimeout(chunk.timeout);\n                if (chunk.request) {\n                    chunk.request.abort();\n                }\n            });\n        };\n\n        // let's go!\n        if (!state.serverId) {\n            requestTransferId(function(serverId) {\n                // stop here if aborted, might have happened in between request and callback\n                if (state.aborted) return;\n\n                // pass back to item so we can use it if something goes wrong\n                transfer(serverId);\n\n                // store internally\n                state.serverId = serverId;\n                processChunks();\n            });\n        } else {\n            requestTransferOffset(function(offset) {\n                // stop here if aborted, might have happened in between request and callback\n                if (state.aborted) return;\n\n                // mark chunks with lower offset as complete\n                chunks\n                    .filter(function(chunk) {\n                        return chunk.offset < offset;\n                    })\n                    .forEach(function(chunk) {\n                        chunk.status = ChunkStatus.COMPLETE;\n                        chunk.progress = chunk.size;\n                    });\n\n                // continue processing\n                processChunks();\n            });\n        }\n\n        return {\n            abort: function abort() {\n                state.aborted = true;\n                abortChunks();\n            },\n        };\n    };\n\n    /*\n                                                               function signature:\n                                                                 (file, metadata, load, error, progress, abort) => {\n                                                                   return {\n                                                                   abort:() => {}\n                                                                 }\n                                                               }\n                                                               */\n    var createFileProcessorFunction = function createFileProcessorFunction(\n        apiUrl,\n        action,\n        name,\n        options\n    ) {\n        return function(file, metadata, load, error, progress, abort, transfer) {\n            // no file received\n            if (!file) return;\n\n            // if was passed a file, and we can chunk it, exit here\n            var canChunkUpload = options.chunkUploads;\n            var shouldChunkUpload = canChunkUpload && file.size > options.chunkSize;\n            var willChunkUpload = canChunkUpload && (shouldChunkUpload || options.chunkForce);\n            if (file instanceof Blob && willChunkUpload)\n                return processFileChunked(\n                    apiUrl,\n                    action,\n                    name,\n                    file,\n                    metadata,\n                    load,\n                    error,\n                    progress,\n                    abort,\n                    transfer,\n                    options\n                );\n\n            // set handlers\n            var ondata =\n                action.ondata ||\n                function(fd) {\n                    return fd;\n                };\n            var onload =\n                action.onload ||\n                function(res) {\n                    return res;\n                };\n            var onerror =\n                action.onerror ||\n                function(res) {\n                    return null;\n                };\n\n            var headers =\n                typeof action.headers === 'function'\n                    ? action.headers(file, metadata) || {}\n                    : Object.assign(\n                          {},\n\n                          action.headers\n                      );\n\n            var requestParams = Object.assign({}, action, {\n                headers: headers,\n            });\n\n            // create formdata object\n            var formData = new FormData();\n\n            // add metadata under same name\n            if (isObject(metadata)) {\n                formData.append(name, JSON.stringify(metadata));\n            }\n\n            // Turn into an array of objects so no matter what the input, we can handle it the same way\n            (file instanceof Blob ? [{ name: null, file: file }] : file).forEach(function(item) {\n                formData.append(\n                    name,\n                    item.file,\n                    item.name === null ? item.file.name : '' + item.name + item.file.name\n                );\n            });\n\n            // send request object\n            var request = sendRequest(\n                ondata(formData),\n                buildURL(apiUrl, action.url),\n                requestParams\n            );\n            request.onload = function(xhr) {\n                load(\n                    createResponse(\n                        'load',\n                        xhr.status,\n                        onload(xhr.response),\n                        xhr.getAllResponseHeaders()\n                    )\n                );\n            };\n\n            request.onerror = function(xhr) {\n                error(\n                    createResponse(\n                        'error',\n                        xhr.status,\n                        onerror(xhr.response) || xhr.statusText,\n                        xhr.getAllResponseHeaders()\n                    )\n                );\n            };\n\n            request.ontimeout = createTimeoutResponse(error);\n            request.onprogress = progress;\n            request.onabort = abort;\n\n            // should return request\n            return request;\n        };\n    };\n\n    var createProcessorFunction = function createProcessorFunction() {\n        var apiUrl = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n        var action = arguments.length > 1 ? arguments[1] : undefined;\n        var name = arguments.length > 2 ? arguments[2] : undefined;\n        var options = arguments.length > 3 ? arguments[3] : undefined;\n\n        // custom handler (should also handle file, load, error, progress and abort)\n        if (typeof action === 'function')\n            return function() {\n                for (\n                    var _len = arguments.length, params = new Array(_len), _key = 0;\n                    _key < _len;\n                    _key++\n                ) {\n                    params[_key] = arguments[_key];\n                }\n                return action.apply(void 0, [name].concat(params, [options]));\n            };\n\n        // no action supplied\n        if (!action || !isString(action.url)) return null;\n\n        // internal handler\n        return createFileProcessorFunction(apiUrl, action, name, options);\n    };\n\n    /*\n                                                      function signature:\n                                                      (uniqueFileId, load, error) => { }\n                                                      */\n    var createRevertFunction = function createRevertFunction() {\n        var apiUrl = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n        var action = arguments.length > 1 ? arguments[1] : undefined;\n        // is custom implementation\n        if (typeof action === 'function') {\n            return action;\n        }\n\n        // no action supplied, return stub function, interface will work, but file won't be removed\n        if (!action || !isString(action.url)) {\n            return function(uniqueFileId, load) {\n                return load();\n            };\n        }\n\n        // set onload hanlder\n        var onload =\n            action.onload ||\n            function(res) {\n                return res;\n            };\n        var onerror =\n            action.onerror ||\n            function(res) {\n                return null;\n            };\n\n        // internal implementation\n        return function(uniqueFileId, load, error) {\n            var request = sendRequest(\n                uniqueFileId,\n                apiUrl + action.url,\n                action // contains method, headers and withCredentials properties\n            );\n            request.onload = function(xhr) {\n                load(\n                    createResponse(\n                        'load',\n                        xhr.status,\n                        onload(xhr.response),\n                        xhr.getAllResponseHeaders()\n                    )\n                );\n            };\n\n            request.onerror = function(xhr) {\n                error(\n                    createResponse(\n                        'error',\n                        xhr.status,\n                        onerror(xhr.response) || xhr.statusText,\n                        xhr.getAllResponseHeaders()\n                    )\n                );\n            };\n\n            request.ontimeout = createTimeoutResponse(error);\n\n            return request;\n        };\n    };\n\n    var getRandomNumber = function getRandomNumber() {\n        var min = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n        var max = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n        return min + Math.random() * (max - min);\n    };\n\n    var createPerceivedPerformanceUpdater = function createPerceivedPerformanceUpdater(cb) {\n        var duration = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1000;\n        var offset = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n        var tickMin = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 25;\n        var tickMax = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 250;\n        var timeout = null;\n        var start = Date.now();\n\n        var tick = function tick() {\n            var runtime = Date.now() - start;\n            var delay = getRandomNumber(tickMin, tickMax);\n\n            if (runtime + delay > duration) {\n                delay = runtime + delay - duration;\n            }\n\n            var progress = runtime / duration;\n            if (progress >= 1 || document.hidden) {\n                cb(1);\n                return;\n            }\n\n            cb(progress);\n\n            timeout = setTimeout(tick, delay);\n        };\n\n        if (duration > 0) tick();\n\n        return {\n            clear: function clear() {\n                clearTimeout(timeout);\n            },\n        };\n    };\n\n    var createFileProcessor = function createFileProcessor(processFn, options) {\n        var state = {\n            complete: false,\n            perceivedProgress: 0,\n            perceivedPerformanceUpdater: null,\n            progress: null,\n            timestamp: null,\n            perceivedDuration: 0,\n            duration: 0,\n            request: null,\n            response: null,\n        };\n        var allowMinimumUploadDuration = options.allowMinimumUploadDuration;\n\n        var process = function process(file, metadata) {\n            var progressFn = function progressFn() {\n                // we've not yet started the real download, stop here\n                // the request might not go through, for instance, there might be some server trouble\n                // if state.progress is null, the server does not allow computing progress and we show the spinner instead\n                if (state.duration === 0 || state.progress === null) return;\n\n                // as we're now processing, fire the progress event\n                api.fire('progress', api.getProgress());\n            };\n\n            var completeFn = function completeFn() {\n                state.complete = true;\n                api.fire('load-perceived', state.response.body);\n            };\n\n            // let's start processing\n            api.fire('start');\n\n            // set request start\n            state.timestamp = Date.now();\n\n            // create perceived performance progress indicator\n            state.perceivedPerformanceUpdater = createPerceivedPerformanceUpdater(\n                function(progress) {\n                    state.perceivedProgress = progress;\n                    state.perceivedDuration = Date.now() - state.timestamp;\n\n                    progressFn();\n\n                    // if fake progress is done, and a response has been received,\n                    // and we've not yet called the complete method\n                    if (state.response && state.perceivedProgress === 1 && !state.complete) {\n                        // we done!\n                        completeFn();\n                    }\n                },\n                // random delay as in a list of files you start noticing\n                // files uploading at the exact same speed\n                allowMinimumUploadDuration ? getRandomNumber(750, 1500) : 0\n            );\n\n            // remember request so we can abort it later\n            state.request = processFn(\n                // the file to process\n                file,\n\n                // the metadata to send along\n                metadata,\n\n                // callbacks (load, error, progress, abort, transfer)\n                // load expects the body to be a server id if\n                // you want to make use of revert\n                function(response) {\n                    // we put the response in state so we can access\n                    // it outside of this method\n                    state.response = isObject(response)\n                        ? response\n                        : {\n                              type: 'load',\n                              code: 200,\n                              body: '' + response,\n                              headers: {},\n                          };\n\n                    // update duration\n                    state.duration = Date.now() - state.timestamp;\n\n                    // force progress to 1 as we're now done\n                    state.progress = 1;\n\n                    // actual load is done let's share results\n                    api.fire('load', state.response.body);\n\n                    // we are really done\n                    // if perceived progress is 1 ( wait for perceived progress to complete )\n                    // or if server does not support progress ( null )\n                    if (\n                        !allowMinimumUploadDuration ||\n                        (allowMinimumUploadDuration && state.perceivedProgress === 1)\n                    ) {\n                        completeFn();\n                    }\n                },\n\n                // error is expected to be an object with type, code, body\n                function(error) {\n                    // cancel updater\n                    state.perceivedPerformanceUpdater.clear();\n\n                    // update others about this error\n                    api.fire(\n                        'error',\n                        isObject(error)\n                            ? error\n                            : {\n                                  type: 'error',\n                                  code: 0,\n                                  body: '' + error,\n                              }\n                    );\n                },\n\n                // actual processing progress\n                function(computable, current, total) {\n                    // update actual duration\n                    state.duration = Date.now() - state.timestamp;\n\n                    // update actual progress\n                    state.progress = computable ? current / total : null;\n\n                    progressFn();\n                },\n\n                // abort does not expect a value\n                function() {\n                    // stop updater\n                    state.perceivedPerformanceUpdater.clear();\n\n                    // fire the abort event so we can switch visuals\n                    api.fire('abort', state.response ? state.response.body : null);\n                },\n\n                // register the id for this transfer\n                function(transferId) {\n                    api.fire('transfer', transferId);\n                }\n            );\n        };\n\n        var abort = function abort() {\n            // no request running, can't abort\n            if (!state.request) return;\n\n            // stop updater\n            state.perceivedPerformanceUpdater.clear();\n\n            // abort actual request\n            if (state.request.abort) state.request.abort();\n\n            // if has response object, we've completed the request\n            state.complete = true;\n        };\n\n        var reset = function reset() {\n            abort();\n            state.complete = false;\n            state.perceivedProgress = 0;\n            state.progress = 0;\n            state.timestamp = null;\n            state.perceivedDuration = 0;\n            state.duration = 0;\n            state.request = null;\n            state.response = null;\n        };\n\n        var getProgress = allowMinimumUploadDuration\n            ? function() {\n                  return state.progress ? Math.min(state.progress, state.perceivedProgress) : null;\n              }\n            : function() {\n                  return state.progress || null;\n              };\n\n        var getDuration = allowMinimumUploadDuration\n            ? function() {\n                  return Math.min(state.duration, state.perceivedDuration);\n              }\n            : function() {\n                  return state.duration;\n              };\n\n        var api = Object.assign({}, on(), {\n            process: process, // start processing file\n            abort: abort, // abort active process request\n            getProgress: getProgress,\n            getDuration: getDuration,\n            reset: reset,\n        });\n\n        return api;\n    };\n\n    var getFilenameWithoutExtension = function getFilenameWithoutExtension(name) {\n        return name.substring(0, name.lastIndexOf('.')) || name;\n    };\n\n    var createFileStub = function createFileStub(source) {\n        var data = [source.name, source.size, source.type];\n\n        // is blob or base64, then we need to set the name\n        if (source instanceof Blob || isBase64DataURI(source)) {\n            data[0] = source.name || getDateString();\n        } else if (isBase64DataURI(source)) {\n            // if is base64 data uri we need to determine the average size and type\n            data[1] = source.length;\n            data[2] = getMimeTypeFromBase64DataURI(source);\n        } else if (isString(source)) {\n            // url\n            data[0] = getFilenameFromURL(source);\n            data[1] = 0;\n            data[2] = 'application/octet-stream';\n        }\n\n        return {\n            name: data[0],\n            size: data[1],\n            type: data[2],\n        };\n    };\n\n    var isFile = function isFile(value) {\n        return !!(value instanceof File || (value instanceof Blob && value.name));\n    };\n\n    var deepCloneObject = function deepCloneObject(src) {\n        if (!isObject(src)) return src;\n        var target = isArray(src) ? [] : {};\n        for (var key in src) {\n            if (!src.hasOwnProperty(key)) continue;\n            var v = src[key];\n            target[key] = v && isObject(v) ? deepCloneObject(v) : v;\n        }\n        return target;\n    };\n\n    var createItem = function createItem() {\n        var origin = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n        var serverFileReference =\n            arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n        var file = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n        // unique id for this item, is used to identify the item across views\n        var id = getUniqueId();\n\n        /**\n         * Internal item state\n         */\n        var state = {\n            // is archived\n            archived: false,\n\n            // if is frozen, no longer fires events\n            frozen: false,\n\n            // removed from view\n            released: false,\n\n            // original source\n            source: null,\n\n            // file model reference\n            file: file,\n\n            // id of file on server\n            serverFileReference: serverFileReference,\n\n            // id of file transfer on server\n            transferId: null,\n\n            // is aborted\n            processingAborted: false,\n\n            // current item status\n            status: serverFileReference ? ItemStatus.PROCESSING_COMPLETE : ItemStatus.INIT,\n\n            // active processes\n            activeLoader: null,\n            activeProcessor: null,\n        };\n\n        // callback used when abort processing is called to link back to the resolve method\n        var abortProcessingRequestComplete = null;\n\n        /**\n         * Externally added item metadata\n         */\n        var metadata = {};\n\n        // item data\n        var setStatus = function setStatus(status) {\n            return (state.status = status);\n        };\n\n        // fire event unless the item has been archived\n        var fire = function fire(event) {\n            if (state.released || state.frozen) return;\n            for (\n                var _len = arguments.length, params = new Array(_len > 1 ? _len - 1 : 0), _key = 1;\n                _key < _len;\n                _key++\n            ) {\n                params[_key - 1] = arguments[_key];\n            }\n            api.fire.apply(api, [event].concat(params));\n        };\n\n        // file data\n        var getFileExtension = function getFileExtension() {\n            return getExtensionFromFilename(state.file.name);\n        };\n        var getFileType = function getFileType() {\n            return state.file.type;\n        };\n        var getFileSize = function getFileSize() {\n            return state.file.size;\n        };\n        var getFile = function getFile() {\n            return state.file;\n        };\n\n        //\n        // logic to load a file\n        //\n        var load = function load(source, loader, onload) {\n            // remember the original item source\n            state.source = source;\n\n            // source is known\n            api.fireSync('init');\n\n            // file stub is already there\n            if (state.file) {\n                api.fireSync('load-skip');\n                return;\n            }\n\n            // set a stub file object while loading the actual data\n            state.file = createFileStub(source);\n\n            // starts loading\n            loader.on('init', function() {\n                fire('load-init');\n            });\n\n            // we'eve received a size indication, let's update the stub\n            loader.on('meta', function(meta) {\n                // set size of file stub\n                state.file.size = meta.size;\n\n                // set name of file stub\n                state.file.filename = meta.filename;\n\n                // if has received source, we done\n                if (meta.source) {\n                    origin = FileOrigin.LIMBO;\n                    state.serverFileReference = meta.source;\n                    state.status = ItemStatus.PROCESSING_COMPLETE;\n                }\n\n                // size has been updated\n                fire('load-meta');\n            });\n\n            // the file is now loading we need to update the progress indicators\n            loader.on('progress', function(progress) {\n                setStatus(ItemStatus.LOADING);\n\n                fire('load-progress', progress);\n            });\n\n            // an error was thrown while loading the file, we need to switch to error state\n            loader.on('error', function(error) {\n                setStatus(ItemStatus.LOAD_ERROR);\n\n                fire('load-request-error', error);\n            });\n\n            // user or another process aborted the file load (cannot retry)\n            loader.on('abort', function() {\n                setStatus(ItemStatus.INIT);\n                fire('load-abort');\n            });\n\n            // done loading\n            loader.on('load', function(file) {\n                // as we've now loaded the file the loader is no longer required\n                state.activeLoader = null;\n\n                // called when file has loaded succesfully\n                var success = function success(result) {\n                    // set (possibly) transformed file\n                    state.file = isFile(result) ? result : state.file;\n\n                    // file received\n                    if (origin === FileOrigin.LIMBO && state.serverFileReference) {\n                        setStatus(ItemStatus.PROCESSING_COMPLETE);\n                    } else {\n                        setStatus(ItemStatus.IDLE);\n                    }\n\n                    fire('load');\n                };\n\n                var error = function error(result) {\n                    // set original file\n                    state.file = file;\n                    fire('load-meta');\n\n                    setStatus(ItemStatus.LOAD_ERROR);\n                    fire('load-file-error', result);\n                };\n\n                // if we already have a server file reference, we don't need to call the onload method\n                if (state.serverFileReference) {\n                    success(file);\n                    return;\n                }\n\n                // no server id, let's give this file the full treatment\n                onload(file, success, error);\n            });\n\n            // set loader source data\n            loader.setSource(source);\n\n            // set as active loader\n            state.activeLoader = loader;\n\n            // load the source data\n            loader.load();\n        };\n\n        var retryLoad = function retryLoad() {\n            if (!state.activeLoader) {\n                return;\n            }\n            state.activeLoader.load();\n        };\n\n        var abortLoad = function abortLoad() {\n            if (state.activeLoader) {\n                state.activeLoader.abort();\n                return;\n            }\n            setStatus(ItemStatus.INIT);\n            fire('load-abort');\n        };\n\n        //\n        // logic to process a file\n        //\n        var process = function process(processor, onprocess) {\n            // processing was aborted\n            if (state.processingAborted) {\n                state.processingAborted = false;\n                return;\n            }\n\n            // now processing\n            setStatus(ItemStatus.PROCESSING);\n\n            // reset abort callback\n            abortProcessingRequestComplete = null;\n\n            // if no file loaded we'll wait for the load event\n            if (!(state.file instanceof Blob)) {\n                api.on('load', function() {\n                    process(processor, onprocess);\n                });\n                return;\n            }\n\n            // setup processor\n            processor.on('load', function(serverFileReference) {\n                // need this id to be able to revert the upload\n                state.transferId = null;\n                state.serverFileReference = serverFileReference;\n            });\n\n            // register transfer id\n            processor.on('transfer', function(transferId) {\n                // need this id to be able to revert the upload\n                state.transferId = transferId;\n            });\n\n            processor.on('load-perceived', function(serverFileReference) {\n                // no longer required\n                state.activeProcessor = null;\n\n                // need this id to be able to rever the upload\n                state.transferId = null;\n                state.serverFileReference = serverFileReference;\n\n                setStatus(ItemStatus.PROCESSING_COMPLETE);\n                fire('process-complete', serverFileReference);\n            });\n\n            processor.on('start', function() {\n                fire('process-start');\n            });\n\n            processor.on('error', function(error) {\n                state.activeProcessor = null;\n                setStatus(ItemStatus.PROCESSING_ERROR);\n                fire('process-error', error);\n            });\n\n            processor.on('abort', function(serverFileReference) {\n                state.activeProcessor = null;\n\n                // if file was uploaded but processing was cancelled during perceived processor time store file reference\n                state.serverFileReference = serverFileReference;\n\n                setStatus(ItemStatus.IDLE);\n                fire('process-abort');\n\n                // has timeout so doesn't interfere with remove action\n                if (abortProcessingRequestComplete) {\n                    abortProcessingRequestComplete();\n                }\n            });\n\n            processor.on('progress', function(progress) {\n                fire('process-progress', progress);\n            });\n\n            // when successfully transformed\n            var success = function success(file) {\n                // if was archived in the mean time, don't process\n                if (state.archived) return;\n\n                // process file!\n                processor.process(file, Object.assign({}, metadata));\n            };\n\n            // something went wrong during transform phase\n            var error = console.error;\n\n            // start processing the file\n            onprocess(state.file, success, error);\n\n            // set as active processor\n            state.activeProcessor = processor;\n        };\n\n        var requestProcessing = function requestProcessing() {\n            state.processingAborted = false;\n            setStatus(ItemStatus.PROCESSING_QUEUED);\n        };\n\n        var abortProcessing = function abortProcessing() {\n            return new Promise(function(resolve) {\n                if (!state.activeProcessor) {\n                    state.processingAborted = true;\n\n                    setStatus(ItemStatus.IDLE);\n                    fire('process-abort');\n\n                    resolve();\n                    return;\n                }\n\n                abortProcessingRequestComplete = function abortProcessingRequestComplete() {\n                    resolve();\n                };\n\n                state.activeProcessor.abort();\n            });\n        };\n\n        //\n        // logic to revert a processed file\n        //\n        var revert = function revert(revertFileUpload, forceRevert) {\n            return new Promise(function(resolve, reject) {\n                // a completed upload will have a serverFileReference, a failed chunked upload where\n                // getting a serverId succeeded but >=0 chunks have been uploaded will have transferId set\n                var serverTransferId =\n                    state.serverFileReference !== null\n                        ? state.serverFileReference\n                        : state.transferId;\n\n                // cannot revert without a server id for this process\n                if (serverTransferId === null) {\n                    resolve();\n                    return;\n                }\n\n                // revert the upload (fire and forget)\n                revertFileUpload(\n                    serverTransferId,\n                    function() {\n                        // reset file server id and transfer id as now it's not available on the server\n                        state.serverFileReference = null;\n                        state.transferId = null;\n                        resolve();\n                    },\n                    function(error) {\n                        // don't set error state when reverting is optional, it will always resolve\n                        if (!forceRevert) {\n                            resolve();\n                            return;\n                        }\n\n                        // oh no errors\n                        setStatus(ItemStatus.PROCESSING_REVERT_ERROR);\n                        fire('process-revert-error');\n                        reject(error);\n                    }\n                );\n\n                // fire event\n                setStatus(ItemStatus.IDLE);\n                fire('process-revert');\n            });\n        };\n\n        // exposed methods\n        var _setMetadata = function setMetadata(key, value, silent) {\n            var keys = key.split('.');\n            var root = keys[0];\n            var last = keys.pop();\n            var data = metadata;\n            keys.forEach(function(key) {\n                return (data = data[key]);\n            });\n\n            // compare old value against new value, if they're the same, we're not updating\n            if (JSON.stringify(data[last]) === JSON.stringify(value)) return;\n\n            // update value\n            data[last] = value;\n\n            // fire update\n            fire('metadata-update', {\n                key: root,\n                value: metadata[root],\n                silent: silent,\n            });\n        };\n\n        var getMetadata = function getMetadata(key) {\n            return deepCloneObject(key ? metadata[key] : metadata);\n        };\n\n        var api = Object.assign(\n            {\n                id: {\n                    get: function get() {\n                        return id;\n                    },\n                },\n                origin: {\n                    get: function get() {\n                        return origin;\n                    },\n                    set: function set(value) {\n                        return (origin = value);\n                    },\n                },\n                serverId: {\n                    get: function get() {\n                        return state.serverFileReference;\n                    },\n                },\n                transferId: {\n                    get: function get() {\n                        return state.transferId;\n                    },\n                },\n                status: {\n                    get: function get() {\n                        return state.status;\n                    },\n                },\n                filename: {\n                    get: function get() {\n                        return state.file.name;\n                    },\n                },\n                filenameWithoutExtension: {\n                    get: function get() {\n                        return getFilenameWithoutExtension(state.file.name);\n                    },\n                },\n                fileExtension: { get: getFileExtension },\n                fileType: { get: getFileType },\n                fileSize: { get: getFileSize },\n                file: { get: getFile },\n                relativePath: {\n                    get: function get() {\n                        return state.file._relativePath;\n                    },\n                },\n\n                source: {\n                    get: function get() {\n                        return state.source;\n                    },\n                },\n\n                getMetadata: getMetadata,\n                setMetadata: function setMetadata(key, value, silent) {\n                    if (isObject(key)) {\n                        var data = key;\n                        Object.keys(data).forEach(function(key) {\n                            _setMetadata(key, data[key], value);\n                        });\n                        return key;\n                    }\n                    _setMetadata(key, value, silent);\n                    return value;\n                },\n\n                extend: function extend(name, handler) {\n                    return (itemAPI[name] = handler);\n                },\n\n                abortLoad: abortLoad,\n                retryLoad: retryLoad,\n                requestProcessing: requestProcessing,\n                abortProcessing: abortProcessing,\n\n                load: load,\n                process: process,\n                revert: revert,\n            },\n\n            on(),\n            {\n                freeze: function freeze() {\n                    return (state.frozen = true);\n                },\n\n                release: function release() {\n                    return (state.released = true);\n                },\n                released: {\n                    get: function get() {\n                        return state.released;\n                    },\n                },\n\n                archive: function archive() {\n                    return (state.archived = true);\n                },\n                archived: {\n                    get: function get() {\n                        return state.archived;\n                    },\n                },\n            }\n        );\n\n        // create it here instead of returning it instantly so we can extend it later\n        var itemAPI = createObject(api);\n\n        return itemAPI;\n    };\n\n    var getItemIndexByQuery = function getItemIndexByQuery(items, query) {\n        // just return first index\n        if (isEmpty(query)) {\n            return 0;\n        }\n\n        // invalid queries\n        if (!isString(query)) {\n            return -1;\n        }\n\n        // return item by id (or -1 if not found)\n        return items.findIndex(function(item) {\n            return item.id === query;\n        });\n    };\n\n    var getItemById = function getItemById(items, itemId) {\n        var index = getItemIndexByQuery(items, itemId);\n        if (index < 0) {\n            return;\n        }\n        return items[index] || null;\n    };\n\n    var fetchBlob = function fetchBlob(url, load, error, progress, abort, headers) {\n        var request = sendRequest(null, url, {\n            method: 'GET',\n            responseType: 'blob',\n        });\n\n        request.onload = function(xhr) {\n            // get headers\n            var headers = xhr.getAllResponseHeaders();\n\n            // get filename\n            var filename = getFileInfoFromHeaders(headers).name || getFilenameFromURL(url);\n\n            // create response\n            load(\n                createResponse('load', xhr.status, getFileFromBlob(xhr.response, filename), headers)\n            );\n        };\n\n        request.onerror = function(xhr) {\n            error(createResponse('error', xhr.status, xhr.statusText, xhr.getAllResponseHeaders()));\n        };\n\n        request.onheaders = function(xhr) {\n            headers(createResponse('headers', xhr.status, null, xhr.getAllResponseHeaders()));\n        };\n\n        request.ontimeout = createTimeoutResponse(error);\n        request.onprogress = progress;\n        request.onabort = abort;\n\n        // should return request\n        return request;\n    };\n\n    var getDomainFromURL = function getDomainFromURL(url) {\n        if (url.indexOf('//') === 0) {\n            url = location.protocol + url;\n        }\n        return url\n            .toLowerCase()\n            .replace('blob:', '')\n            .replace(/([a-z])?:\\/\\//, '$1')\n            .split('/')[0];\n    };\n\n    var isExternalURL = function isExternalURL(url) {\n        return (\n            (url.indexOf(':') > -1 || url.indexOf('//') > -1) &&\n            getDomainFromURL(location.href) !== getDomainFromURL(url)\n        );\n    };\n\n    var dynamicLabel = function dynamicLabel(label) {\n        return function() {\n            return isFunction(label) ? label.apply(void 0, arguments) : label;\n        };\n    };\n\n    var isMockItem = function isMockItem(item) {\n        return !isFile(item.file);\n    };\n\n    var listUpdated = function listUpdated(dispatch, state) {\n        clearTimeout(state.listUpdateTimeout);\n        state.listUpdateTimeout = setTimeout(function() {\n            dispatch('DID_UPDATE_ITEMS', { items: getActiveItems(state.items) });\n        }, 0);\n    };\n\n    var optionalPromise = function optionalPromise(fn) {\n        for (\n            var _len = arguments.length, params = new Array(_len > 1 ? _len - 1 : 0), _key = 1;\n            _key < _len;\n            _key++\n        ) {\n            params[_key - 1] = arguments[_key];\n        }\n        return new Promise(function(resolve) {\n            if (!fn) {\n                return resolve(true);\n            }\n\n            var result = fn.apply(void 0, params);\n\n            if (result == null) {\n                return resolve(true);\n            }\n\n            if (typeof result === 'boolean') {\n                return resolve(result);\n            }\n\n            if (typeof result.then === 'function') {\n                result.then(resolve);\n            }\n        });\n    };\n\n    var sortItems = function sortItems(state, compare) {\n        state.items.sort(function(a, b) {\n            return compare(createItemAPI(a), createItemAPI(b));\n        });\n    };\n\n    // returns item based on state\n    var getItemByQueryFromState = function getItemByQueryFromState(state, itemHandler) {\n        return function() {\n            var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n            var query = _ref.query,\n                _ref$success = _ref.success,\n                success = _ref$success === void 0 ? function() {} : _ref$success,\n                _ref$failure = _ref.failure,\n                failure = _ref$failure === void 0 ? function() {} : _ref$failure,\n                options = _objectWithoutProperties(_ref, ['query', 'success', 'failure']);\n            var item = getItemByQuery(state.items, query);\n            if (!item) {\n                failure({\n                    error: createResponse('error', 0, 'Item not found'),\n                    file: null,\n                });\n\n                return;\n            }\n            itemHandler(item, success, failure, options || {});\n        };\n    };\n\n    var actions = function actions(dispatch, query, state) {\n        return {\n            /**\n             * Aborts all ongoing processes\n             */\n            ABORT_ALL: function ABORT_ALL() {\n                getActiveItems(state.items).forEach(function(item) {\n                    item.freeze();\n                    item.abortLoad();\n                    item.abortProcessing();\n                });\n            },\n\n            /**\n             * Sets initial files\n             */\n            DID_SET_FILES: function DID_SET_FILES(_ref2) {\n                var _ref2$value = _ref2.value,\n                    value = _ref2$value === void 0 ? [] : _ref2$value;\n                // map values to file objects\n                var files = value.map(function(file) {\n                    return {\n                        source: file.source ? file.source : file,\n                        options: file.options,\n                    };\n                });\n\n                // loop over files, if file is in list, leave it be, if not, remove\n                // test if items should be moved\n                var activeItems = getActiveItems(state.items);\n\n                activeItems.forEach(function(item) {\n                    // if item not is in new value, remove\n                    if (\n                        !files.find(function(file) {\n                            return file.source === item.source || file.source === item.file;\n                        })\n                    ) {\n                        dispatch('REMOVE_ITEM', { query: item, remove: false });\n                    }\n                });\n\n                // add new files\n                activeItems = getActiveItems(state.items);\n                files.forEach(function(file, index) {\n                    // if file is already in list\n                    if (\n                        activeItems.find(function(item) {\n                            return item.source === file.source || item.file === file.source;\n                        })\n                    )\n                        return;\n\n                    // not in list, add\n                    dispatch(\n                        'ADD_ITEM',\n                        Object.assign({}, file, {\n                            interactionMethod: InteractionMethod.NONE,\n                            index: index,\n                        })\n                    );\n                });\n            },\n\n            DID_UPDATE_ITEM_METADATA: function DID_UPDATE_ITEM_METADATA(_ref3) {\n                var id = _ref3.id,\n                    action = _ref3.action,\n                    change = _ref3.change;\n                // don't do anything\n                if (change.silent) return;\n\n                // if is called multiple times in close succession we combined all calls together to save resources\n                clearTimeout(state.itemUpdateTimeout);\n                state.itemUpdateTimeout = setTimeout(function() {\n                    var item = getItemById(state.items, id);\n\n                    // only revert and attempt to upload when we're uploading to a server\n                    if (!query('IS_ASYNC')) {\n                        // should we update the output data\n                        applyFilterChain('SHOULD_PREPARE_OUTPUT', false, {\n                            item: item,\n                            query: query,\n                            action: action,\n                            change: change,\n                        }).then(function(shouldPrepareOutput) {\n                            // plugins determined the output data should be prepared (or not), can be adjusted with beforePrepareOutput hook\n                            var beforePrepareFile = query('GET_BEFORE_PREPARE_FILE');\n                            if (beforePrepareFile)\n                                shouldPrepareOutput = beforePrepareFile(item, shouldPrepareOutput);\n\n                            if (!shouldPrepareOutput) return;\n\n                            dispatch(\n                                'REQUEST_PREPARE_OUTPUT',\n                                {\n                                    query: id,\n                                    item: item,\n                                    success: function success(file) {\n                                        dispatch('DID_PREPARE_OUTPUT', { id: id, file: file });\n                                    },\n                                },\n\n                                true\n                            );\n                        });\n\n                        return;\n                    }\n\n                    // if is local item we need to enable upload button so change can be propagated to server\n                    if (item.origin === FileOrigin.LOCAL) {\n                        dispatch('DID_LOAD_ITEM', {\n                            id: item.id,\n                            error: null,\n                            serverFileReference: item.source,\n                        });\n                    }\n\n                    // for async scenarios\n                    var upload = function upload() {\n                        // we push this forward a bit so the interface is updated correctly\n                        setTimeout(function() {\n                            dispatch('REQUEST_ITEM_PROCESSING', { query: id });\n                        }, 32);\n                    };\n\n                    var revert = function revert(doUpload) {\n                        item.revert(\n                            createRevertFunction(\n                                state.options.server.url,\n                                state.options.server.revert\n                            ),\n                            query('GET_FORCE_REVERT')\n                        )\n                            .then(doUpload ? upload : function() {})\n                            .catch(function() {});\n                    };\n\n                    var abort = function abort(doUpload) {\n                        item.abortProcessing().then(doUpload ? upload : function() {});\n                    };\n\n                    // if we should re-upload the file immediately\n                    if (item.status === ItemStatus.PROCESSING_COMPLETE) {\n                        return revert(state.options.instantUpload);\n                    }\n\n                    // if currently uploading, cancel upload\n                    if (item.status === ItemStatus.PROCESSING) {\n                        return abort(state.options.instantUpload);\n                    }\n\n                    if (state.options.instantUpload) {\n                        upload();\n                    }\n                }, 0);\n            },\n\n            MOVE_ITEM: function MOVE_ITEM(_ref4) {\n                var query = _ref4.query,\n                    index = _ref4.index;\n                var item = getItemByQuery(state.items, query);\n                if (!item) return;\n                var currentIndex = state.items.indexOf(item);\n                index = limit(index, 0, state.items.length - 1);\n                if (currentIndex === index) return;\n                state.items.splice(index, 0, state.items.splice(currentIndex, 1)[0]);\n            },\n\n            SORT: function SORT(_ref5) {\n                var compare = _ref5.compare;\n                sortItems(state, compare);\n                dispatch('DID_SORT_ITEMS', {\n                    items: query('GET_ACTIVE_ITEMS'),\n                });\n            },\n\n            ADD_ITEMS: function ADD_ITEMS(_ref6) {\n                var items = _ref6.items,\n                    index = _ref6.index,\n                    interactionMethod = _ref6.interactionMethod,\n                    _ref6$success = _ref6.success,\n                    success = _ref6$success === void 0 ? function() {} : _ref6$success,\n                    _ref6$failure = _ref6.failure,\n                    failure = _ref6$failure === void 0 ? function() {} : _ref6$failure;\n                var currentIndex = index;\n\n                if (index === -1 || typeof index === 'undefined') {\n                    var insertLocation = query('GET_ITEM_INSERT_LOCATION');\n                    var totalItems = query('GET_TOTAL_ITEMS');\n                    currentIndex = insertLocation === 'before' ? 0 : totalItems;\n                }\n\n                var ignoredFiles = query('GET_IGNORED_FILES');\n                var isValidFile = function isValidFile(source) {\n                    return isFile(source)\n                        ? !ignoredFiles.includes(source.name.toLowerCase())\n                        : !isEmpty(source);\n                };\n                var validItems = items.filter(isValidFile);\n\n                var promises = validItems.map(function(source) {\n                    return new Promise(function(resolve, reject) {\n                        dispatch('ADD_ITEM', {\n                            interactionMethod: interactionMethod,\n                            source: source.source || source,\n                            success: resolve,\n                            failure: reject,\n                            index: currentIndex++,\n                            options: source.options || {},\n                        });\n                    });\n                });\n\n                Promise.all(promises)\n                    .then(success)\n                    .catch(failure);\n            },\n\n            /**\n             * @param source\n             * @param index\n             * @param interactionMethod\n             */\n            ADD_ITEM: function ADD_ITEM(_ref7) {\n                var source = _ref7.source,\n                    _ref7$index = _ref7.index,\n                    index = _ref7$index === void 0 ? -1 : _ref7$index,\n                    interactionMethod = _ref7.interactionMethod,\n                    _ref7$success = _ref7.success,\n                    success = _ref7$success === void 0 ? function() {} : _ref7$success,\n                    _ref7$failure = _ref7.failure,\n                    failure = _ref7$failure === void 0 ? function() {} : _ref7$failure,\n                    _ref7$options = _ref7.options,\n                    options = _ref7$options === void 0 ? {} : _ref7$options;\n                // if no source supplied\n                if (isEmpty(source)) {\n                    failure({\n                        error: createResponse('error', 0, 'No source'),\n                        file: null,\n                    });\n\n                    return;\n                }\n\n                // filter out invalid file items, used to filter dropped directory contents\n                if (\n                    isFile(source) &&\n                    state.options.ignoredFiles.includes(source.name.toLowerCase())\n                ) {\n                    // fail silently\n                    return;\n                }\n\n                // test if there's still room in the list of files\n                if (!hasRoomForItem(state)) {\n                    // if multiple allowed, we can't replace\n                    // or if only a single item is allowed but we're not allowed to replace it we exit\n                    if (\n                        state.options.allowMultiple ||\n                        (!state.options.allowMultiple && !state.options.allowReplace)\n                    ) {\n                        var error = createResponse('warning', 0, 'Max files');\n\n                        dispatch('DID_THROW_MAX_FILES', {\n                            source: source,\n                            error: error,\n                        });\n\n                        failure({ error: error, file: null });\n\n                        return;\n                    }\n\n                    // let's replace the item\n                    // id of first item we're about to remove\n                    var _item = getActiveItems(state.items)[0];\n\n                    // if has been processed remove it from the server as well\n                    if (\n                        _item.status === ItemStatus.PROCESSING_COMPLETE ||\n                        _item.status === ItemStatus.PROCESSING_REVERT_ERROR\n                    ) {\n                        var forceRevert = query('GET_FORCE_REVERT');\n                        _item\n                            .revert(\n                                createRevertFunction(\n                                    state.options.server.url,\n                                    state.options.server.revert\n                                ),\n                                forceRevert\n                            )\n                            .then(function() {\n                                if (!forceRevert) return;\n\n                                // try to add now\n                                dispatch('ADD_ITEM', {\n                                    source: source,\n                                    index: index,\n                                    interactionMethod: interactionMethod,\n                                    success: success,\n                                    failure: failure,\n                                    options: options,\n                                });\n                            })\n                            .catch(function() {}); // no need to handle this catch state for now\n\n                        if (forceRevert) return;\n                    }\n\n                    // remove first item as it will be replaced by this item\n                    dispatch('REMOVE_ITEM', { query: _item.id });\n                }\n\n                // where did the file originate\n                var origin =\n                    options.type === 'local'\n                        ? FileOrigin.LOCAL\n                        : options.type === 'limbo'\n                        ? FileOrigin.LIMBO\n                        : FileOrigin.INPUT;\n\n                // create a new blank item\n                var item = createItem(\n                    // where did this file come from\n                    origin,\n\n                    // an input file never has a server file reference\n                    origin === FileOrigin.INPUT ? null : source,\n\n                    // file mock data, if defined\n                    options.file\n                );\n\n                // set initial meta data\n                Object.keys(options.metadata || {}).forEach(function(key) {\n                    item.setMetadata(key, options.metadata[key]);\n                });\n\n                // created the item, let plugins add methods\n                applyFilters('DID_CREATE_ITEM', item, { query: query, dispatch: dispatch });\n\n                // where to insert new items\n                var itemInsertLocation = query('GET_ITEM_INSERT_LOCATION');\n\n                // adjust index if is not allowed to pick location\n                if (!state.options.itemInsertLocationFreedom) {\n                    index = itemInsertLocation === 'before' ? -1 : state.items.length;\n                }\n\n                // add item to list\n                insertItem(state.items, item, index);\n\n                // sort items in list\n                if (isFunction(itemInsertLocation) && source) {\n                    sortItems(state, itemInsertLocation);\n                }\n\n                // get a quick reference to the item id\n                var id = item.id;\n\n                // observe item events\n                item.on('init', function() {\n                    dispatch('DID_INIT_ITEM', { id: id });\n                });\n\n                item.on('load-init', function() {\n                    dispatch('DID_START_ITEM_LOAD', { id: id });\n                });\n\n                item.on('load-meta', function() {\n                    dispatch('DID_UPDATE_ITEM_META', { id: id });\n                });\n\n                item.on('load-progress', function(progress) {\n                    dispatch('DID_UPDATE_ITEM_LOAD_PROGRESS', { id: id, progress: progress });\n                });\n\n                item.on('load-request-error', function(error) {\n                    var mainStatus = dynamicLabel(state.options.labelFileLoadError)(error);\n\n                    // is client error, no way to recover\n                    if (error.code >= 400 && error.code < 500) {\n                        dispatch('DID_THROW_ITEM_INVALID', {\n                            id: id,\n                            error: error,\n                            status: {\n                                main: mainStatus,\n                                sub: error.code + ' (' + error.body + ')',\n                            },\n                        });\n\n                        // reject the file so can be dealt with through API\n                        failure({ error: error, file: createItemAPI(item) });\n                        return;\n                    }\n\n                    // is possible server error, so might be possible to retry\n                    dispatch('DID_THROW_ITEM_LOAD_ERROR', {\n                        id: id,\n                        error: error,\n                        status: {\n                            main: mainStatus,\n                            sub: state.options.labelTapToRetry,\n                        },\n                    });\n                });\n\n                item.on('load-file-error', function(error) {\n                    dispatch('DID_THROW_ITEM_INVALID', {\n                        id: id,\n                        error: error.status,\n                        status: error.status,\n                    });\n\n                    failure({ error: error.status, file: createItemAPI(item) });\n                });\n\n                item.on('load-abort', function() {\n                    dispatch('REMOVE_ITEM', { query: id });\n                });\n\n                item.on('load-skip', function() {\n                    dispatch('COMPLETE_LOAD_ITEM', {\n                        query: id,\n                        item: item,\n                        data: {\n                            source: source,\n                            success: success,\n                        },\n                    });\n                });\n\n                item.on('load', function() {\n                    var handleAdd = function handleAdd(shouldAdd) {\n                        // no should not add this file\n                        if (!shouldAdd) {\n                            dispatch('REMOVE_ITEM', {\n                                query: id,\n                            });\n\n                            return;\n                        }\n\n                        // now interested in metadata updates\n                        item.on('metadata-update', function(change) {\n                            dispatch('DID_UPDATE_ITEM_METADATA', { id: id, change: change });\n                        });\n\n                        // let plugins decide if the output data should be prepared at this point\n                        // means we'll do this and wait for idle state\n                        applyFilterChain('SHOULD_PREPARE_OUTPUT', false, {\n                            item: item,\n                            query: query,\n                        }).then(function(shouldPrepareOutput) {\n                            // plugins determined the output data should be prepared (or not), can be adjusted with beforePrepareOutput hook\n                            var beforePrepareFile = query('GET_BEFORE_PREPARE_FILE');\n                            if (beforePrepareFile)\n                                shouldPrepareOutput = beforePrepareFile(item, shouldPrepareOutput);\n\n                            var loadComplete = function loadComplete() {\n                                dispatch('COMPLETE_LOAD_ITEM', {\n                                    query: id,\n                                    item: item,\n                                    data: {\n                                        source: source,\n                                        success: success,\n                                    },\n                                });\n\n                                listUpdated(dispatch, state);\n                            };\n\n                            // exit\n                            if (shouldPrepareOutput) {\n                                // wait for idle state and then run PREPARE_OUTPUT\n                                dispatch(\n                                    'REQUEST_PREPARE_OUTPUT',\n                                    {\n                                        query: id,\n                                        item: item,\n                                        success: function success(file) {\n                                            dispatch('DID_PREPARE_OUTPUT', { id: id, file: file });\n                                            loadComplete();\n                                        },\n                                    },\n\n                                    true\n                                );\n\n                                return;\n                            }\n\n                            loadComplete();\n                        });\n                    };\n\n                    // item loaded, allow plugins to\n                    // - read data (quickly)\n                    // - add metadata\n                    applyFilterChain('DID_LOAD_ITEM', item, { query: query, dispatch: dispatch })\n                        .then(function() {\n                            optionalPromise(query('GET_BEFORE_ADD_FILE'), createItemAPI(item)).then(\n                                handleAdd\n                            );\n                        })\n                        .catch(function(e) {\n                            if (!e || !e.error || !e.status) return handleAdd(false);\n                            dispatch('DID_THROW_ITEM_INVALID', {\n                                id: id,\n                                error: e.error,\n                                status: e.status,\n                            });\n                        });\n                });\n\n                item.on('process-start', function() {\n                    dispatch('DID_START_ITEM_PROCESSING', { id: id });\n                });\n\n                item.on('process-progress', function(progress) {\n                    dispatch('DID_UPDATE_ITEM_PROCESS_PROGRESS', { id: id, progress: progress });\n                });\n\n                item.on('process-error', function(error) {\n                    dispatch('DID_THROW_ITEM_PROCESSING_ERROR', {\n                        id: id,\n                        error: error,\n                        status: {\n                            main: dynamicLabel(state.options.labelFileProcessingError)(error),\n                            sub: state.options.labelTapToRetry,\n                        },\n                    });\n                });\n\n                item.on('process-revert-error', function(error) {\n                    dispatch('DID_THROW_ITEM_PROCESSING_REVERT_ERROR', {\n                        id: id,\n                        error: error,\n                        status: {\n                            main: dynamicLabel(state.options.labelFileProcessingRevertError)(error),\n                            sub: state.options.labelTapToRetry,\n                        },\n                    });\n                });\n\n                item.on('process-complete', function(serverFileReference) {\n                    dispatch('DID_COMPLETE_ITEM_PROCESSING', {\n                        id: id,\n                        error: null,\n                        serverFileReference: serverFileReference,\n                    });\n\n                    dispatch('DID_DEFINE_VALUE', { id: id, value: serverFileReference });\n                });\n\n                item.on('process-abort', function() {\n                    dispatch('DID_ABORT_ITEM_PROCESSING', { id: id });\n                });\n\n                item.on('process-revert', function() {\n                    dispatch('DID_REVERT_ITEM_PROCESSING', { id: id });\n                    dispatch('DID_DEFINE_VALUE', { id: id, value: null });\n                });\n\n                // let view know the item has been inserted\n                dispatch('DID_ADD_ITEM', {\n                    id: id,\n                    index: index,\n                    interactionMethod: interactionMethod,\n                });\n\n                listUpdated(dispatch, state);\n\n                // start loading the source\n                var _ref8 = state.options.server || {},\n                    url = _ref8.url,\n                    load = _ref8.load,\n                    restore = _ref8.restore,\n                    fetch = _ref8.fetch;\n\n                item.load(\n                    source,\n\n                    // this creates a function that loads the file based on the type of file (string, base64, blob, file) and location of file (local, remote, limbo)\n                    createFileLoader(\n                        origin === FileOrigin.INPUT\n                            ? // input, if is remote, see if should use custom fetch, else use default fetchBlob\n                              isString(source) && isExternalURL(source)\n                                ? fetch\n                                    ? createFetchFunction(url, fetch)\n                                    : fetchBlob // remote url\n                                : fetchBlob // try to fetch url\n                            : // limbo or local\n                            origin === FileOrigin.LIMBO\n                            ? createFetchFunction(url, restore) // limbo\n                            : createFetchFunction(url, load) // local\n                    ),\n\n                    // called when the file is loaded so it can be piped through the filters\n                    function(file, success, error) {\n                        // let's process the file\n                        applyFilterChain('LOAD_FILE', file, { query: query })\n                            .then(success)\n                            .catch(error);\n                    }\n                );\n            },\n\n            REQUEST_PREPARE_OUTPUT: function REQUEST_PREPARE_OUTPUT(_ref9) {\n                var item = _ref9.item,\n                    success = _ref9.success,\n                    _ref9$failure = _ref9.failure,\n                    failure = _ref9$failure === void 0 ? function() {} : _ref9$failure;\n                // error response if item archived\n                var err = {\n                    error: createResponse('error', 0, 'Item not found'),\n                    file: null,\n                };\n\n                // don't handle archived items, an item could have been archived (load aborted) while waiting to be prepared\n                if (item.archived) return failure(err);\n\n                // allow plugins to alter the file data\n                applyFilterChain('PREPARE_OUTPUT', item.file, { query: query, item: item }).then(\n                    function(result) {\n                        applyFilterChain('COMPLETE_PREPARE_OUTPUT', result, {\n                            query: query,\n                            item: item,\n                        }).then(function(result) {\n                            // don't handle archived items, an item could have been archived (load aborted) while being prepared\n                            if (item.archived) return failure(err);\n\n                            // we done!\n                            success(result);\n                        });\n                    }\n                );\n            },\n\n            COMPLETE_LOAD_ITEM: function COMPLETE_LOAD_ITEM(_ref10) {\n                var item = _ref10.item,\n                    data = _ref10.data;\n                var success = data.success,\n                    source = data.source;\n\n                // sort items in list\n                var itemInsertLocation = query('GET_ITEM_INSERT_LOCATION');\n                if (isFunction(itemInsertLocation) && source) {\n                    sortItems(state, itemInsertLocation);\n                }\n\n                // let interface know the item has loaded\n                dispatch('DID_LOAD_ITEM', {\n                    id: item.id,\n                    error: null,\n                    serverFileReference: item.origin === FileOrigin.INPUT ? null : source,\n                });\n\n                // item has been successfully loaded and added to the\n                // list of items so can now be safely returned for use\n                success(createItemAPI(item));\n\n                // if this is a local server file we need to show a different state\n                if (item.origin === FileOrigin.LOCAL) {\n                    dispatch('DID_LOAD_LOCAL_ITEM', { id: item.id });\n                    return;\n                }\n\n                // if is a temp server file we prevent async upload call here (as the file is already on the server)\n                if (item.origin === FileOrigin.LIMBO) {\n                    dispatch('DID_COMPLETE_ITEM_PROCESSING', {\n                        id: item.id,\n                        error: null,\n                        serverFileReference: source,\n                    });\n\n                    dispatch('DID_DEFINE_VALUE', {\n                        id: item.id,\n                        value: item.serverId || source,\n                    });\n\n                    return;\n                }\n\n                // id we are allowed to upload the file immediately, lets do it\n                if (query('IS_ASYNC') && state.options.instantUpload) {\n                    dispatch('REQUEST_ITEM_PROCESSING', { query: item.id });\n                }\n            },\n\n            RETRY_ITEM_LOAD: getItemByQueryFromState(state, function(item) {\n                // try loading the source one more time\n                item.retryLoad();\n            }),\n\n            REQUEST_ITEM_PREPARE: getItemByQueryFromState(state, function(item, _success, failure) {\n                dispatch(\n                    'REQUEST_PREPARE_OUTPUT',\n                    {\n                        query: item.id,\n                        item: item,\n                        success: function success(file) {\n                            dispatch('DID_PREPARE_OUTPUT', { id: item.id, file: file });\n                            _success({\n                                file: item,\n                                output: file,\n                            });\n                        },\n                        failure: failure,\n                    },\n\n                    true\n                );\n            }),\n\n            REQUEST_ITEM_PROCESSING: getItemByQueryFromState(state, function(\n                item,\n                success,\n                failure\n            ) {\n                // cannot be queued (or is already queued)\n                var itemCanBeQueuedForProcessing =\n                    // waiting for something\n                    item.status === ItemStatus.IDLE ||\n                    // processing went wrong earlier\n                    item.status === ItemStatus.PROCESSING_ERROR;\n\n                // not ready to be processed\n                if (!itemCanBeQueuedForProcessing) {\n                    var processNow = function processNow() {\n                        return dispatch('REQUEST_ITEM_PROCESSING', {\n                            query: item,\n                            success: success,\n                            failure: failure,\n                        });\n                    };\n\n                    var process = function process() {\n                        return document.hidden ? processNow() : setTimeout(processNow, 32);\n                    };\n\n                    // if already done processing or tried to revert but didn't work, try again\n                    if (\n                        item.status === ItemStatus.PROCESSING_COMPLETE ||\n                        item.status === ItemStatus.PROCESSING_REVERT_ERROR\n                    ) {\n                        item.revert(\n                            createRevertFunction(\n                                state.options.server.url,\n                                state.options.server.revert\n                            ),\n                            query('GET_FORCE_REVERT')\n                        )\n                            .then(process)\n                            .catch(function() {}); // don't continue with processing if something went wrong\n                    } else if (item.status === ItemStatus.PROCESSING) {\n                        item.abortProcessing().then(process);\n                    }\n\n                    return;\n                }\n\n                // already queued for processing\n                if (item.status === ItemStatus.PROCESSING_QUEUED) return;\n\n                item.requestProcessing();\n\n                dispatch('DID_REQUEST_ITEM_PROCESSING', { id: item.id });\n\n                dispatch('PROCESS_ITEM', { query: item, success: success, failure: failure }, true);\n            }),\n\n            PROCESS_ITEM: getItemByQueryFromState(state, function(item, success, failure) {\n                var maxParallelUploads = query('GET_MAX_PARALLEL_UPLOADS');\n                var totalCurrentUploads = query('GET_ITEMS_BY_STATUS', ItemStatus.PROCESSING)\n                    .length;\n\n                // queue and wait till queue is freed up\n                if (totalCurrentUploads === maxParallelUploads) {\n                    // queue for later processing\n                    state.processingQueue.push({\n                        id: item.id,\n                        success: success,\n                        failure: failure,\n                    });\n\n                    // stop it!\n                    return;\n                }\n\n                // if was not queued or is already processing exit here\n                if (item.status === ItemStatus.PROCESSING) return;\n\n                var processNext = function processNext() {\n                    // process queueud items\n                    var queueEntry = state.processingQueue.shift();\n\n                    // no items left\n                    if (!queueEntry) return;\n\n                    // get item reference\n                    var id = queueEntry.id,\n                        success = queueEntry.success,\n                        failure = queueEntry.failure;\n                    var itemReference = getItemByQuery(state.items, id);\n\n                    // if item was archived while in queue, jump to next\n                    if (!itemReference || itemReference.archived) {\n                        processNext();\n                        return;\n                    }\n\n                    // process queued item\n                    dispatch(\n                        'PROCESS_ITEM',\n                        { query: id, success: success, failure: failure },\n                        true\n                    );\n                };\n\n                // we done function\n                item.onOnce('process-complete', function() {\n                    success(createItemAPI(item));\n                    processNext();\n\n                    // if origin is local, and we're instant uploading, trigger remove of original\n                    // as revert will remove file from list\n                    var server = state.options.server;\n                    var instantUpload = state.options.instantUpload;\n                    if (\n                        instantUpload &&\n                        item.origin === FileOrigin.LOCAL &&\n                        isFunction(server.remove)\n                    ) {\n                        var noop = function noop() {};\n                        item.origin = FileOrigin.LIMBO;\n                        state.options.server.remove(item.source, noop, noop);\n                    }\n\n                    // All items processed? No errors?\n                    var allItemsProcessed =\n                        query('GET_ITEMS_BY_STATUS', ItemStatus.PROCESSING_COMPLETE).length ===\n                        state.items.length;\n                    if (allItemsProcessed) {\n                        dispatch('DID_COMPLETE_ITEM_PROCESSING_ALL');\n                    }\n                });\n\n                // we error function\n                item.onOnce('process-error', function(error) {\n                    failure({ error: error, file: createItemAPI(item) });\n                    processNext();\n                });\n\n                // start file processing\n                var options = state.options;\n                item.process(\n                    createFileProcessor(\n                        createProcessorFunction(\n                            options.server.url,\n                            options.server.process,\n                            options.name,\n                            {\n                                chunkTransferId: item.transferId,\n                                chunkServer: options.server.patch,\n                                chunkUploads: options.chunkUploads,\n                                chunkForce: options.chunkForce,\n                                chunkSize: options.chunkSize,\n                                chunkRetryDelays: options.chunkRetryDelays,\n                            }\n                        ),\n\n                        {\n                            allowMinimumUploadDuration: query('GET_ALLOW_MINIMUM_UPLOAD_DURATION'),\n                        }\n                    ),\n\n                    // called when the file is about to be processed so it can be piped through the transform filters\n                    function(file, success, error) {\n                        // allow plugins to alter the file data\n                        applyFilterChain('PREPARE_OUTPUT', file, { query: query, item: item })\n                            .then(function(file) {\n                                dispatch('DID_PREPARE_OUTPUT', { id: item.id, file: file });\n\n                                success(file);\n                            })\n                            .catch(error);\n                    }\n                );\n            }),\n\n            RETRY_ITEM_PROCESSING: getItemByQueryFromState(state, function(item) {\n                dispatch('REQUEST_ITEM_PROCESSING', { query: item });\n            }),\n\n            REQUEST_REMOVE_ITEM: getItemByQueryFromState(state, function(item) {\n                optionalPromise(query('GET_BEFORE_REMOVE_FILE'), createItemAPI(item)).then(function(\n                    shouldRemove\n                ) {\n                    if (!shouldRemove) {\n                        return;\n                    }\n                    dispatch('REMOVE_ITEM', { query: item });\n                });\n            }),\n\n            RELEASE_ITEM: getItemByQueryFromState(state, function(item) {\n                item.release();\n            }),\n\n            REMOVE_ITEM: getItemByQueryFromState(state, function(item, success, failure, options) {\n                var removeFromView = function removeFromView() {\n                    // get id reference\n                    var id = item.id;\n\n                    // archive the item, this does not remove it from the list\n                    getItemById(state.items, id).archive();\n\n                    // tell the view the item has been removed\n                    dispatch('DID_REMOVE_ITEM', { error: null, id: id, item: item });\n\n                    // now the list has been modified\n                    listUpdated(dispatch, state);\n\n                    // correctly removed\n                    success(createItemAPI(item));\n                };\n\n                // if this is a local file and the `server.remove` function has been configured,\n                // send source there so dev can remove file from server\n                var server = state.options.server;\n                if (\n                    item.origin === FileOrigin.LOCAL &&\n                    server &&\n                    isFunction(server.remove) &&\n                    options.remove !== false\n                ) {\n                    dispatch('DID_START_ITEM_REMOVE', { id: item.id });\n\n                    server.remove(\n                        item.source,\n                        function() {\n                            return removeFromView();\n                        },\n                        function(status) {\n                            dispatch('DID_THROW_ITEM_REMOVE_ERROR', {\n                                id: item.id,\n                                error: createResponse('error', 0, status, null),\n                                status: {\n                                    main: dynamicLabel(state.options.labelFileRemoveError)(status),\n                                    sub: state.options.labelTapToRetry,\n                                },\n                            });\n                        }\n                    );\n                } else {\n                    // if is requesting revert and can revert need to call revert handler (not calling request_ because that would also trigger beforeRemoveHook)\n                    if (\n                        (options.revert &&\n                            item.origin !== FileOrigin.LOCAL &&\n                            item.serverId !== null) ||\n                        // if chunked uploads are enabled and we're uploading in chunks for this specific file\n                        // or if the file isn't big enough for chunked uploads but chunkForce is set then call\n                        // revert before removing from the view...\n                        (state.options.chunkUploads && item.file.size > state.options.chunkSize) ||\n                        (state.options.chunkUploads && state.options.chunkForce)\n                    ) {\n                        item.revert(\n                            createRevertFunction(\n                                state.options.server.url,\n                                state.options.server.revert\n                            ),\n                            query('GET_FORCE_REVERT')\n                        );\n                    }\n\n                    // can now safely remove from view\n                    removeFromView();\n                }\n            }),\n\n            ABORT_ITEM_LOAD: getItemByQueryFromState(state, function(item) {\n                item.abortLoad();\n            }),\n\n            ABORT_ITEM_PROCESSING: getItemByQueryFromState(state, function(item) {\n                // test if is already processed\n                if (item.serverId) {\n                    dispatch('REVERT_ITEM_PROCESSING', { id: item.id });\n                    return;\n                }\n\n                // abort\n                item.abortProcessing().then(function() {\n                    var shouldRemove = state.options.instantUpload;\n                    if (shouldRemove) {\n                        dispatch('REMOVE_ITEM', { query: item.id });\n                    }\n                });\n            }),\n\n            REQUEST_REVERT_ITEM_PROCESSING: getItemByQueryFromState(state, function(item) {\n                // not instant uploading, revert immediately\n                if (!state.options.instantUpload) {\n                    dispatch('REVERT_ITEM_PROCESSING', { query: item });\n                    return;\n                }\n\n                // if we're instant uploading the file will also be removed if we revert,\n                // so if a before remove file hook is defined we need to run it now\n                var handleRevert = function handleRevert(shouldRevert) {\n                    if (!shouldRevert) return;\n                    dispatch('REVERT_ITEM_PROCESSING', { query: item });\n                };\n\n                var fn = query('GET_BEFORE_REMOVE_FILE');\n                if (!fn) {\n                    return handleRevert(true);\n                }\n\n                var requestRemoveResult = fn(createItemAPI(item));\n                if (requestRemoveResult == null) {\n                    // undefined or null\n                    return handleRevert(true);\n                }\n\n                if (typeof requestRemoveResult === 'boolean') {\n                    return handleRevert(requestRemoveResult);\n                }\n\n                if (typeof requestRemoveResult.then === 'function') {\n                    requestRemoveResult.then(handleRevert);\n                }\n            }),\n\n            REVERT_ITEM_PROCESSING: getItemByQueryFromState(state, function(item) {\n                item.revert(\n                    createRevertFunction(state.options.server.url, state.options.server.revert),\n                    query('GET_FORCE_REVERT')\n                )\n                    .then(function() {\n                        var shouldRemove = state.options.instantUpload || isMockItem(item);\n                        if (shouldRemove) {\n                            dispatch('REMOVE_ITEM', { query: item.id });\n                        }\n                    })\n                    .catch(function() {});\n            }),\n\n            SET_OPTIONS: function SET_OPTIONS(_ref11) {\n                var options = _ref11.options;\n                // get all keys passed\n                var optionKeys = Object.keys(options);\n\n                // get prioritized keyed to include (remove once not in options object)\n                var prioritizedOptionKeys = PrioritizedOptions.filter(function(key) {\n                    return optionKeys.includes(key);\n                });\n\n                // order the keys, prioritized first, then rest\n                var orderedOptionKeys = [].concat(\n                    _toConsumableArray(prioritizedOptionKeys),\n                    _toConsumableArray(\n                        Object.keys(options).filter(function(key) {\n                            return !prioritizedOptionKeys.includes(key);\n                        })\n                    )\n                );\n\n                // dispatch set event for each option\n                orderedOptionKeys.forEach(function(key) {\n                    dispatch('SET_' + fromCamels(key, '_').toUpperCase(), {\n                        value: options[key],\n                    });\n                });\n            },\n        };\n    };\n\n    var PrioritizedOptions = ['server'];\n\n    var formatFilename = function formatFilename(name) {\n        return name;\n    };\n\n    var createElement$1 = function createElement(tagName) {\n        return document.createElement(tagName);\n    };\n\n    var text = function text(node, value) {\n        var textNode = node.childNodes[0];\n        if (!textNode) {\n            textNode = document.createTextNode(value);\n            node.appendChild(textNode);\n        } else if (value !== textNode.nodeValue) {\n            textNode.nodeValue = value;\n        }\n    };\n\n    var polarToCartesian = function polarToCartesian(centerX, centerY, radius, angleInDegrees) {\n        var angleInRadians = (((angleInDegrees % 360) - 90) * Math.PI) / 180.0;\n        return {\n            x: centerX + radius * Math.cos(angleInRadians),\n            y: centerY + radius * Math.sin(angleInRadians),\n        };\n    };\n\n    var describeArc = function describeArc(x, y, radius, startAngle, endAngle, arcSweep) {\n        var start = polarToCartesian(x, y, radius, endAngle);\n        var end = polarToCartesian(x, y, radius, startAngle);\n        return ['M', start.x, start.y, 'A', radius, radius, 0, arcSweep, 0, end.x, end.y].join(' ');\n    };\n\n    var percentageArc = function percentageArc(x, y, radius, from, to) {\n        var arcSweep = 1;\n        if (to > from && to - from <= 0.5) {\n            arcSweep = 0;\n        }\n        if (from > to && from - to >= 0.5) {\n            arcSweep = 0;\n        }\n        return describeArc(\n            x,\n            y,\n            radius,\n            Math.min(0.9999, from) * 360,\n            Math.min(0.9999, to) * 360,\n            arcSweep\n        );\n    };\n\n    var create = function create(_ref) {\n        var root = _ref.root,\n            props = _ref.props;\n        // start at 0\n        props.spin = false;\n        props.progress = 0;\n        props.opacity = 0;\n\n        // svg\n        var svg = createElement('svg');\n        root.ref.path = createElement('path', {\n            'stroke-width': 2,\n            'stroke-linecap': 'round',\n        });\n\n        svg.appendChild(root.ref.path);\n\n        root.ref.svg = svg;\n\n        root.appendChild(svg);\n    };\n\n    var write = function write(_ref2) {\n        var root = _ref2.root,\n            props = _ref2.props;\n        if (props.opacity === 0) {\n            return;\n        }\n\n        if (props.align) {\n            root.element.dataset.align = props.align;\n        }\n\n        // get width of stroke\n        var ringStrokeWidth = parseInt(attr(root.ref.path, 'stroke-width'), 10);\n\n        // calculate size of ring\n        var size = root.rect.element.width * 0.5;\n\n        // ring state\n        var ringFrom = 0;\n        var ringTo = 0;\n\n        // now in busy mode\n        if (props.spin) {\n            ringFrom = 0;\n            ringTo = 0.5;\n        } else {\n            ringFrom = 0;\n            ringTo = props.progress;\n        }\n\n        // get arc path\n        var coordinates = percentageArc(size, size, size - ringStrokeWidth, ringFrom, ringTo);\n\n        // update progress bar\n        attr(root.ref.path, 'd', coordinates);\n\n        // hide while contains 0 value\n        attr(root.ref.path, 'stroke-opacity', props.spin || props.progress > 0 ? 1 : 0);\n    };\n\n    var progressIndicator = createView({\n        tag: 'div',\n        name: 'progress-indicator',\n        ignoreRectUpdate: true,\n        ignoreRect: true,\n        create: create,\n        write: write,\n        mixins: {\n            apis: ['progress', 'spin', 'align'],\n            styles: ['opacity'],\n            animations: {\n                opacity: { type: 'tween', duration: 500 },\n                progress: {\n                    type: 'spring',\n                    stiffness: 0.95,\n                    damping: 0.65,\n                    mass: 10,\n                },\n            },\n        },\n    });\n\n    var create$1 = function create(_ref) {\n        var root = _ref.root,\n            props = _ref.props;\n        root.element.innerHTML = (props.icon || '') + ('<span>' + props.label + '</span>');\n\n        props.isDisabled = false;\n    };\n\n    var write$1 = function write(_ref2) {\n        var root = _ref2.root,\n            props = _ref2.props;\n        var isDisabled = props.isDisabled;\n        var shouldDisable = root.query('GET_DISABLED') || props.opacity === 0;\n\n        if (shouldDisable && !isDisabled) {\n            props.isDisabled = true;\n            attr(root.element, 'disabled', 'disabled');\n        } else if (!shouldDisable && isDisabled) {\n            props.isDisabled = false;\n            root.element.removeAttribute('disabled');\n        }\n    };\n\n    var fileActionButton = createView({\n        tag: 'button',\n        attributes: {\n            type: 'button',\n        },\n\n        ignoreRect: true,\n        ignoreRectUpdate: true,\n        name: 'file-action-button',\n        mixins: {\n            apis: ['label'],\n            styles: ['translateX', 'translateY', 'scaleX', 'scaleY', 'opacity'],\n            animations: {\n                scaleX: 'spring',\n                scaleY: 'spring',\n                translateX: 'spring',\n                translateY: 'spring',\n                opacity: { type: 'tween', duration: 250 },\n            },\n\n            listeners: true,\n        },\n\n        create: create$1,\n        write: write$1,\n    });\n\n    var toNaturalFileSize = function toNaturalFileSize(bytes) {\n        var decimalSeparator =\n            arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '.';\n        var base = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1000;\n        var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n        var _options$labelBytes = options.labelBytes,\n            labelBytes = _options$labelBytes === void 0 ? 'bytes' : _options$labelBytes,\n            _options$labelKilobyt = options.labelKilobytes,\n            labelKilobytes = _options$labelKilobyt === void 0 ? 'KB' : _options$labelKilobyt,\n            _options$labelMegabyt = options.labelMegabytes,\n            labelMegabytes = _options$labelMegabyt === void 0 ? 'MB' : _options$labelMegabyt,\n            _options$labelGigabyt = options.labelGigabytes,\n            labelGigabytes = _options$labelGigabyt === void 0 ? 'GB' : _options$labelGigabyt;\n\n        // no negative byte sizes\n        bytes = Math.round(Math.abs(bytes));\n\n        var KB = base;\n        var MB = base * base;\n        var GB = base * base * base;\n\n        // just bytes\n        if (bytes < KB) {\n            return bytes + ' ' + labelBytes;\n        }\n\n        // kilobytes\n        if (bytes < MB) {\n            return Math.floor(bytes / KB) + ' ' + labelKilobytes;\n        }\n\n        // megabytes\n        if (bytes < GB) {\n            return removeDecimalsWhenZero(bytes / MB, 1, decimalSeparator) + ' ' + labelMegabytes;\n        }\n\n        // gigabytes\n        return removeDecimalsWhenZero(bytes / GB, 2, decimalSeparator) + ' ' + labelGigabytes;\n    };\n\n    var removeDecimalsWhenZero = function removeDecimalsWhenZero(value, decimalCount, separator) {\n        return value\n            .toFixed(decimalCount)\n            .split('.')\n            .filter(function(part) {\n                return part !== '0';\n            })\n            .join(separator);\n    };\n\n    var create$2 = function create(_ref) {\n        var root = _ref.root,\n            props = _ref.props;\n        // filename\n        var fileName = createElement$1('span');\n        fileName.className = 'filepond--file-info-main';\n        // hide for screenreaders\n        // the file is contained in a fieldset with legend that contains the filename\n        // no need to read it twice\n        attr(fileName, 'aria-hidden', 'true');\n        root.appendChild(fileName);\n        root.ref.fileName = fileName;\n\n        // filesize\n        var fileSize = createElement$1('span');\n        fileSize.className = 'filepond--file-info-sub';\n        root.appendChild(fileSize);\n        root.ref.fileSize = fileSize;\n\n        // set initial values\n        text(fileSize, root.query('GET_LABEL_FILE_WAITING_FOR_SIZE'));\n        text(fileName, formatFilename(root.query('GET_ITEM_NAME', props.id)));\n    };\n\n    var updateFile = function updateFile(_ref2) {\n        var root = _ref2.root,\n            props = _ref2.props;\n        text(\n            root.ref.fileSize,\n            toNaturalFileSize(\n                root.query('GET_ITEM_SIZE', props.id),\n                '.',\n                root.query('GET_FILE_SIZE_BASE'),\n                root.query('GET_FILE_SIZE_LABELS', root.query)\n            )\n        );\n\n        text(root.ref.fileName, formatFilename(root.query('GET_ITEM_NAME', props.id)));\n    };\n\n    var updateFileSizeOnError = function updateFileSizeOnError(_ref3) {\n        var root = _ref3.root,\n            props = _ref3.props;\n        // if size is available don't fallback to unknown size message\n        if (isInt(root.query('GET_ITEM_SIZE', props.id))) {\n            updateFile({ root: root, props: props });\n            return;\n        }\n\n        text(root.ref.fileSize, root.query('GET_LABEL_FILE_SIZE_NOT_AVAILABLE'));\n    };\n\n    var fileInfo = createView({\n        name: 'file-info',\n        ignoreRect: true,\n        ignoreRectUpdate: true,\n        write: createRoute({\n            DID_LOAD_ITEM: updateFile,\n            DID_UPDATE_ITEM_META: updateFile,\n            DID_THROW_ITEM_LOAD_ERROR: updateFileSizeOnError,\n            DID_THROW_ITEM_INVALID: updateFileSizeOnError,\n        }),\n\n        didCreateView: function didCreateView(root) {\n            applyFilters('CREATE_VIEW', Object.assign({}, root, { view: root }));\n        },\n        create: create$2,\n        mixins: {\n            styles: ['translateX', 'translateY'],\n            animations: {\n                translateX: 'spring',\n                translateY: 'spring',\n            },\n        },\n    });\n\n    var toPercentage = function toPercentage(value) {\n        return Math.round(value * 100);\n    };\n\n    var create$3 = function create(_ref) {\n        var root = _ref.root;\n\n        // main status\n        var main = createElement$1('span');\n        main.className = 'filepond--file-status-main';\n        root.appendChild(main);\n        root.ref.main = main;\n\n        // sub status\n        var sub = createElement$1('span');\n        sub.className = 'filepond--file-status-sub';\n        root.appendChild(sub);\n        root.ref.sub = sub;\n\n        didSetItemLoadProgress({ root: root, action: { progress: null } });\n    };\n\n    var didSetItemLoadProgress = function didSetItemLoadProgress(_ref2) {\n        var root = _ref2.root,\n            action = _ref2.action;\n        var title =\n            action.progress === null\n                ? root.query('GET_LABEL_FILE_LOADING')\n                : root.query('GET_LABEL_FILE_LOADING') + ' ' + toPercentage(action.progress) + '%';\n\n        text(root.ref.main, title);\n        text(root.ref.sub, root.query('GET_LABEL_TAP_TO_CANCEL'));\n    };\n\n    var didSetItemProcessProgress = function didSetItemProcessProgress(_ref3) {\n        var root = _ref3.root,\n            action = _ref3.action;\n        var title =\n            action.progress === null\n                ? root.query('GET_LABEL_FILE_PROCESSING')\n                : root.query('GET_LABEL_FILE_PROCESSING') +\n                  ' ' +\n                  toPercentage(action.progress) +\n                  '%';\n\n        text(root.ref.main, title);\n        text(root.ref.sub, root.query('GET_LABEL_TAP_TO_CANCEL'));\n    };\n\n    var didRequestItemProcessing = function didRequestItemProcessing(_ref4) {\n        var root = _ref4.root;\n        text(root.ref.main, root.query('GET_LABEL_FILE_PROCESSING'));\n        text(root.ref.sub, root.query('GET_LABEL_TAP_TO_CANCEL'));\n    };\n\n    var didAbortItemProcessing = function didAbortItemProcessing(_ref5) {\n        var root = _ref5.root;\n        text(root.ref.main, root.query('GET_LABEL_FILE_PROCESSING_ABORTED'));\n        text(root.ref.sub, root.query('GET_LABEL_TAP_TO_RETRY'));\n    };\n\n    var didCompleteItemProcessing = function didCompleteItemProcessing(_ref6) {\n        var root = _ref6.root;\n        text(root.ref.main, root.query('GET_LABEL_FILE_PROCESSING_COMPLETE'));\n        text(root.ref.sub, root.query('GET_LABEL_TAP_TO_UNDO'));\n    };\n\n    var clear = function clear(_ref7) {\n        var root = _ref7.root;\n        text(root.ref.main, '');\n        text(root.ref.sub, '');\n    };\n\n    var error = function error(_ref8) {\n        var root = _ref8.root,\n            action = _ref8.action;\n        text(root.ref.main, action.status.main);\n        text(root.ref.sub, action.status.sub);\n    };\n\n    var fileStatus = createView({\n        name: 'file-status',\n        ignoreRect: true,\n        ignoreRectUpdate: true,\n        write: createRoute({\n            DID_LOAD_ITEM: clear,\n            DID_REVERT_ITEM_PROCESSING: clear,\n            DID_REQUEST_ITEM_PROCESSING: didRequestItemProcessing,\n            DID_ABORT_ITEM_PROCESSING: didAbortItemProcessing,\n            DID_COMPLETE_ITEM_PROCESSING: didCompleteItemProcessing,\n            DID_UPDATE_ITEM_PROCESS_PROGRESS: didSetItemProcessProgress,\n            DID_UPDATE_ITEM_LOAD_PROGRESS: didSetItemLoadProgress,\n            DID_THROW_ITEM_LOAD_ERROR: error,\n            DID_THROW_ITEM_INVALID: error,\n            DID_THROW_ITEM_PROCESSING_ERROR: error,\n            DID_THROW_ITEM_PROCESSING_REVERT_ERROR: error,\n            DID_THROW_ITEM_REMOVE_ERROR: error,\n        }),\n\n        didCreateView: function didCreateView(root) {\n            applyFilters('CREATE_VIEW', Object.assign({}, root, { view: root }));\n        },\n        create: create$3,\n        mixins: {\n            styles: ['translateX', 'translateY', 'opacity'],\n            animations: {\n                opacity: { type: 'tween', duration: 250 },\n                translateX: 'spring',\n                translateY: 'spring',\n            },\n        },\n    });\n\n    /**\n     * Button definitions for the file view\n     */\n\n    var Buttons = {\n        AbortItemLoad: {\n            label: 'GET_LABEL_BUTTON_ABORT_ITEM_LOAD',\n            action: 'ABORT_ITEM_LOAD',\n            className: 'filepond--action-abort-item-load',\n            align: 'LOAD_INDICATOR_POSITION', // right\n        },\n        RetryItemLoad: {\n            label: 'GET_LABEL_BUTTON_RETRY_ITEM_LOAD',\n            action: 'RETRY_ITEM_LOAD',\n            icon: 'GET_ICON_RETRY',\n            className: 'filepond--action-retry-item-load',\n            align: 'BUTTON_PROCESS_ITEM_POSITION', // right\n        },\n        RemoveItem: {\n            label: 'GET_LABEL_BUTTON_REMOVE_ITEM',\n            action: 'REQUEST_REMOVE_ITEM',\n            icon: 'GET_ICON_REMOVE',\n            className: 'filepond--action-remove-item',\n            align: 'BUTTON_REMOVE_ITEM_POSITION', // left\n        },\n        ProcessItem: {\n            label: 'GET_LABEL_BUTTON_PROCESS_ITEM',\n            action: 'REQUEST_ITEM_PROCESSING',\n            icon: 'GET_ICON_PROCESS',\n            className: 'filepond--action-process-item',\n            align: 'BUTTON_PROCESS_ITEM_POSITION', // right\n        },\n        AbortItemProcessing: {\n            label: 'GET_LABEL_BUTTON_ABORT_ITEM_PROCESSING',\n            action: 'ABORT_ITEM_PROCESSING',\n            className: 'filepond--action-abort-item-processing',\n            align: 'BUTTON_PROCESS_ITEM_POSITION', // right\n        },\n        RetryItemProcessing: {\n            label: 'GET_LABEL_BUTTON_RETRY_ITEM_PROCESSING',\n            action: 'RETRY_ITEM_PROCESSING',\n            icon: 'GET_ICON_RETRY',\n            className: 'filepond--action-retry-item-processing',\n            align: 'BUTTON_PROCESS_ITEM_POSITION', // right\n        },\n        RevertItemProcessing: {\n            label: 'GET_LABEL_BUTTON_UNDO_ITEM_PROCESSING',\n            action: 'REQUEST_REVERT_ITEM_PROCESSING',\n            icon: 'GET_ICON_UNDO',\n            className: 'filepond--action-revert-item-processing',\n            align: 'BUTTON_PROCESS_ITEM_POSITION', // right\n        },\n    };\n\n    // make a list of buttons, we can then remove buttons from this list if they're disabled\n    var ButtonKeys = [];\n    forin(Buttons, function(key) {\n        ButtonKeys.push(key);\n    });\n\n    var calculateFileInfoOffset = function calculateFileInfoOffset(root) {\n        if (getRemoveIndicatorAligment(root) === 'right') return 0;\n        var buttonRect = root.ref.buttonRemoveItem.rect.element;\n        return buttonRect.hidden ? null : buttonRect.width + buttonRect.left;\n    };\n\n    var calculateButtonWidth = function calculateButtonWidth(root) {\n        var buttonRect = root.ref.buttonAbortItemLoad.rect.element;\n        return buttonRect.width;\n    };\n\n    // Force on full pixels so text stays crips\n    var calculateFileVerticalCenterOffset = function calculateFileVerticalCenterOffset(root) {\n        return Math.floor(root.ref.buttonRemoveItem.rect.element.height / 4);\n    };\n    var calculateFileHorizontalCenterOffset = function calculateFileHorizontalCenterOffset(root) {\n        return Math.floor(root.ref.buttonRemoveItem.rect.element.left / 2);\n    };\n\n    var getLoadIndicatorAlignment = function getLoadIndicatorAlignment(root) {\n        return root.query('GET_STYLE_LOAD_INDICATOR_POSITION');\n    };\n    var getProcessIndicatorAlignment = function getProcessIndicatorAlignment(root) {\n        return root.query('GET_STYLE_PROGRESS_INDICATOR_POSITION');\n    };\n    var getRemoveIndicatorAligment = function getRemoveIndicatorAligment(root) {\n        return root.query('GET_STYLE_BUTTON_REMOVE_ITEM_POSITION');\n    };\n\n    var DefaultStyle = {\n        buttonAbortItemLoad: { opacity: 0 },\n        buttonRetryItemLoad: { opacity: 0 },\n        buttonRemoveItem: { opacity: 0 },\n        buttonProcessItem: { opacity: 0 },\n        buttonAbortItemProcessing: { opacity: 0 },\n        buttonRetryItemProcessing: { opacity: 0 },\n        buttonRevertItemProcessing: { opacity: 0 },\n        loadProgressIndicator: { opacity: 0, align: getLoadIndicatorAlignment },\n        processProgressIndicator: { opacity: 0, align: getProcessIndicatorAlignment },\n        processingCompleteIndicator: { opacity: 0, scaleX: 0.75, scaleY: 0.75 },\n        info: { translateX: 0, translateY: 0, opacity: 0 },\n        status: { translateX: 0, translateY: 0, opacity: 0 },\n    };\n\n    var IdleStyle = {\n        buttonRemoveItem: { opacity: 1 },\n        buttonProcessItem: { opacity: 1 },\n        info: { translateX: calculateFileInfoOffset },\n        status: { translateX: calculateFileInfoOffset },\n    };\n\n    var ProcessingStyle = {\n        buttonAbortItemProcessing: { opacity: 1 },\n        processProgressIndicator: { opacity: 1 },\n        status: { opacity: 1 },\n    };\n\n    var StyleMap = {\n        DID_THROW_ITEM_INVALID: {\n            buttonRemoveItem: { opacity: 1 },\n            info: { translateX: calculateFileInfoOffset },\n            status: { translateX: calculateFileInfoOffset, opacity: 1 },\n        },\n\n        DID_START_ITEM_LOAD: {\n            buttonAbortItemLoad: { opacity: 1 },\n            loadProgressIndicator: { opacity: 1 },\n            status: { opacity: 1 },\n        },\n\n        DID_THROW_ITEM_LOAD_ERROR: {\n            buttonRetryItemLoad: { opacity: 1 },\n            buttonRemoveItem: { opacity: 1 },\n            info: { translateX: calculateFileInfoOffset },\n            status: { opacity: 1 },\n        },\n\n        DID_START_ITEM_REMOVE: {\n            processProgressIndicator: { opacity: 1, align: getRemoveIndicatorAligment },\n            info: { translateX: calculateFileInfoOffset },\n            status: { opacity: 0 },\n        },\n\n        DID_THROW_ITEM_REMOVE_ERROR: {\n            processProgressIndicator: { opacity: 0, align: getRemoveIndicatorAligment },\n            buttonRemoveItem: { opacity: 1 },\n            info: { translateX: calculateFileInfoOffset },\n            status: { opacity: 1, translateX: calculateFileInfoOffset },\n        },\n\n        DID_LOAD_ITEM: IdleStyle,\n        DID_LOAD_LOCAL_ITEM: {\n            buttonRemoveItem: { opacity: 1 },\n            info: { translateX: calculateFileInfoOffset },\n            status: { translateX: calculateFileInfoOffset },\n        },\n\n        DID_START_ITEM_PROCESSING: ProcessingStyle,\n        DID_REQUEST_ITEM_PROCESSING: ProcessingStyle,\n        DID_UPDATE_ITEM_PROCESS_PROGRESS: ProcessingStyle,\n        DID_COMPLETE_ITEM_PROCESSING: {\n            buttonRevertItemProcessing: { opacity: 1 },\n            info: { opacity: 1 },\n            status: { opacity: 1 },\n        },\n\n        DID_THROW_ITEM_PROCESSING_ERROR: {\n            buttonRemoveItem: { opacity: 1 },\n            buttonRetryItemProcessing: { opacity: 1 },\n            status: { opacity: 1 },\n            info: { translateX: calculateFileInfoOffset },\n        },\n\n        DID_THROW_ITEM_PROCESSING_REVERT_ERROR: {\n            buttonRevertItemProcessing: { opacity: 1 },\n            status: { opacity: 1 },\n            info: { opacity: 1 },\n        },\n\n        DID_ABORT_ITEM_PROCESSING: {\n            buttonRemoveItem: { opacity: 1 },\n            buttonProcessItem: { opacity: 1 },\n            info: { translateX: calculateFileInfoOffset },\n            status: { opacity: 1 },\n        },\n\n        DID_REVERT_ITEM_PROCESSING: IdleStyle,\n    };\n\n    // complete indicator view\n    var processingCompleteIndicatorView = createView({\n        create: function create(_ref) {\n            var root = _ref.root;\n            root.element.innerHTML = root.query('GET_ICON_DONE');\n        },\n        name: 'processing-complete-indicator',\n        ignoreRect: true,\n        mixins: {\n            styles: ['scaleX', 'scaleY', 'opacity'],\n            animations: {\n                scaleX: 'spring',\n                scaleY: 'spring',\n                opacity: { type: 'tween', duration: 250 },\n            },\n        },\n    });\n\n    /**\n     * Creates the file view\n     */\n    var create$4 = function create(_ref2) {\n        var root = _ref2.root,\n            props = _ref2.props;\n        // copy Buttons object\n        var LocalButtons = Object.keys(Buttons).reduce(function(prev, curr) {\n            prev[curr] = Object.assign({}, Buttons[curr]);\n            return prev;\n        }, {});\n        var id = props.id;\n\n        // allow reverting upload\n        var allowRevert = root.query('GET_ALLOW_REVERT');\n\n        // allow remove file\n        var allowRemove = root.query('GET_ALLOW_REMOVE');\n\n        // allow processing upload\n        var allowProcess = root.query('GET_ALLOW_PROCESS');\n\n        // is instant uploading, need this to determine the icon of the undo button\n        var instantUpload = root.query('GET_INSTANT_UPLOAD');\n\n        // is async set up\n        var isAsync = root.query('IS_ASYNC');\n\n        // should align remove item buttons\n        var alignRemoveItemButton = root.query('GET_STYLE_BUTTON_REMOVE_ITEM_ALIGN');\n\n        // enabled buttons array\n        var buttonFilter;\n        if (isAsync) {\n            if (allowProcess && !allowRevert) {\n                // only remove revert button\n                buttonFilter = function buttonFilter(key) {\n                    return !/RevertItemProcessing/.test(key);\n                };\n            } else if (!allowProcess && allowRevert) {\n                // only remove process button\n                buttonFilter = function buttonFilter(key) {\n                    return !/ProcessItem|RetryItemProcessing|AbortItemProcessing/.test(key);\n                };\n            } else if (!allowProcess && !allowRevert) {\n                // remove all process buttons\n                buttonFilter = function buttonFilter(key) {\n                    return !/Process/.test(key);\n                };\n            }\n        } else {\n            // no process controls available\n            buttonFilter = function buttonFilter(key) {\n                return !/Process/.test(key);\n            };\n        }\n\n        var enabledButtons = buttonFilter ? ButtonKeys.filter(buttonFilter) : ButtonKeys.concat();\n\n        // update icon and label for revert button when instant uploading\n        if (instantUpload && allowRevert) {\n            LocalButtons['RevertItemProcessing'].label = 'GET_LABEL_BUTTON_REMOVE_ITEM';\n            LocalButtons['RevertItemProcessing'].icon = 'GET_ICON_REMOVE';\n        }\n\n        // remove last button (revert) if not allowed\n        if (isAsync && !allowRevert) {\n            var map = StyleMap['DID_COMPLETE_ITEM_PROCESSING'];\n            map.info.translateX = calculateFileHorizontalCenterOffset;\n            map.info.translateY = calculateFileVerticalCenterOffset;\n            map.status.translateY = calculateFileVerticalCenterOffset;\n            map.processingCompleteIndicator = { opacity: 1, scaleX: 1, scaleY: 1 };\n        }\n\n        // should align center\n        if (isAsync && !allowProcess) {\n            [\n                'DID_START_ITEM_PROCESSING',\n                'DID_REQUEST_ITEM_PROCESSING',\n                'DID_UPDATE_ITEM_PROCESS_PROGRESS',\n                'DID_THROW_ITEM_PROCESSING_ERROR',\n            ].forEach(function(key) {\n                StyleMap[key].status.translateY = calculateFileVerticalCenterOffset;\n            });\n            StyleMap['DID_THROW_ITEM_PROCESSING_ERROR'].status.translateX = calculateButtonWidth;\n        }\n\n        // move remove button to right\n        if (alignRemoveItemButton && allowRevert) {\n            LocalButtons['RevertItemProcessing'].align = 'BUTTON_REMOVE_ITEM_POSITION';\n            var _map = StyleMap['DID_COMPLETE_ITEM_PROCESSING'];\n            _map.info.translateX = calculateFileInfoOffset;\n            _map.status.translateY = calculateFileVerticalCenterOffset;\n            _map.processingCompleteIndicator = { opacity: 1, scaleX: 1, scaleY: 1 };\n        }\n\n        // show/hide RemoveItem button\n        if (!allowRemove) {\n            LocalButtons['RemoveItem'].disabled = true;\n        }\n\n        // create the button views\n        forin(LocalButtons, function(key, definition) {\n            // create button\n            var buttonView = root.createChildView(fileActionButton, {\n                label: root.query(definition.label),\n                icon: root.query(definition.icon),\n                opacity: 0,\n            });\n\n            // should be appended?\n            if (enabledButtons.includes(key)) {\n                root.appendChildView(buttonView);\n            }\n\n            // toggle\n            if (definition.disabled) {\n                buttonView.element.setAttribute('disabled', 'disabled');\n                buttonView.element.setAttribute('hidden', 'hidden');\n            }\n\n            // add position attribute\n            buttonView.element.dataset.align = root.query('GET_STYLE_' + definition.align);\n\n            // add class\n            buttonView.element.classList.add(definition.className);\n\n            // handle interactions\n            buttonView.on('click', function(e) {\n                e.stopPropagation();\n                if (definition.disabled) return;\n                root.dispatch(definition.action, { query: id });\n            });\n\n            // set reference\n            root.ref['button' + key] = buttonView;\n        });\n\n        // checkmark\n        root.ref.processingCompleteIndicator = root.appendChildView(\n            root.createChildView(processingCompleteIndicatorView)\n        );\n\n        root.ref.processingCompleteIndicator.element.dataset.align = root.query(\n            'GET_STYLE_BUTTON_PROCESS_ITEM_POSITION'\n        );\n\n        // create file info view\n        root.ref.info = root.appendChildView(root.createChildView(fileInfo, { id: id }));\n\n        // create file status view\n        root.ref.status = root.appendChildView(root.createChildView(fileStatus, { id: id }));\n\n        // add progress indicators\n        var loadIndicatorView = root.appendChildView(\n            root.createChildView(progressIndicator, {\n                opacity: 0,\n                align: root.query('GET_STYLE_LOAD_INDICATOR_POSITION'),\n            })\n        );\n\n        loadIndicatorView.element.classList.add('filepond--load-indicator');\n        root.ref.loadProgressIndicator = loadIndicatorView;\n\n        var progressIndicatorView = root.appendChildView(\n            root.createChildView(progressIndicator, {\n                opacity: 0,\n                align: root.query('GET_STYLE_PROGRESS_INDICATOR_POSITION'),\n            })\n        );\n\n        progressIndicatorView.element.classList.add('filepond--process-indicator');\n        root.ref.processProgressIndicator = progressIndicatorView;\n\n        // current active styles\n        root.ref.activeStyles = [];\n    };\n\n    var write$2 = function write(_ref3) {\n        var root = _ref3.root,\n            actions = _ref3.actions,\n            props = _ref3.props;\n        // route actions\n        route({ root: root, actions: actions, props: props });\n\n        // select last state change action\n        var action = actions\n            .concat()\n            .filter(function(action) {\n                return /^DID_/.test(action.type);\n            })\n            .reverse()\n            .find(function(action) {\n                return StyleMap[action.type];\n            });\n\n        // a new action happened, let's get the matching styles\n        if (action) {\n            // define new active styles\n            root.ref.activeStyles = [];\n\n            var stylesToApply = StyleMap[action.type];\n            forin(DefaultStyle, function(name, defaultStyles) {\n                // get reference to control\n                var control = root.ref[name];\n\n                // loop over all styles for this control\n                forin(defaultStyles, function(key, defaultValue) {\n                    var value =\n                        stylesToApply[name] && typeof stylesToApply[name][key] !== 'undefined'\n                            ? stylesToApply[name][key]\n                            : defaultValue;\n                    root.ref.activeStyles.push({ control: control, key: key, value: value });\n                });\n            });\n        }\n\n        // apply active styles to element\n        root.ref.activeStyles.forEach(function(_ref4) {\n            var control = _ref4.control,\n                key = _ref4.key,\n                value = _ref4.value;\n            control[key] = typeof value === 'function' ? value(root) : value;\n        });\n    };\n\n    var route = createRoute({\n        DID_SET_LABEL_BUTTON_ABORT_ITEM_PROCESSING: function DID_SET_LABEL_BUTTON_ABORT_ITEM_PROCESSING(\n            _ref5\n        ) {\n            var root = _ref5.root,\n                action = _ref5.action;\n            root.ref.buttonAbortItemProcessing.label = action.value;\n        },\n        DID_SET_LABEL_BUTTON_ABORT_ITEM_LOAD: function DID_SET_LABEL_BUTTON_ABORT_ITEM_LOAD(_ref6) {\n            var root = _ref6.root,\n                action = _ref6.action;\n            root.ref.buttonAbortItemLoad.label = action.value;\n        },\n        DID_SET_LABEL_BUTTON_ABORT_ITEM_REMOVAL: function DID_SET_LABEL_BUTTON_ABORT_ITEM_REMOVAL(\n            _ref7\n        ) {\n            var root = _ref7.root,\n                action = _ref7.action;\n            root.ref.buttonAbortItemRemoval.label = action.value;\n        },\n        DID_REQUEST_ITEM_PROCESSING: function DID_REQUEST_ITEM_PROCESSING(_ref8) {\n            var root = _ref8.root;\n            root.ref.processProgressIndicator.spin = true;\n            root.ref.processProgressIndicator.progress = 0;\n        },\n        DID_START_ITEM_LOAD: function DID_START_ITEM_LOAD(_ref9) {\n            var root = _ref9.root;\n            root.ref.loadProgressIndicator.spin = true;\n            root.ref.loadProgressIndicator.progress = 0;\n        },\n        DID_START_ITEM_REMOVE: function DID_START_ITEM_REMOVE(_ref10) {\n            var root = _ref10.root;\n            root.ref.processProgressIndicator.spin = true;\n            root.ref.processProgressIndicator.progress = 0;\n        },\n        DID_UPDATE_ITEM_LOAD_PROGRESS: function DID_UPDATE_ITEM_LOAD_PROGRESS(_ref11) {\n            var root = _ref11.root,\n                action = _ref11.action;\n            root.ref.loadProgressIndicator.spin = false;\n            root.ref.loadProgressIndicator.progress = action.progress;\n        },\n        DID_UPDATE_ITEM_PROCESS_PROGRESS: function DID_UPDATE_ITEM_PROCESS_PROGRESS(_ref12) {\n            var root = _ref12.root,\n                action = _ref12.action;\n            root.ref.processProgressIndicator.spin = false;\n            root.ref.processProgressIndicator.progress = action.progress;\n        },\n    });\n\n    var file = createView({\n        create: create$4,\n        write: write$2,\n        didCreateView: function didCreateView(root) {\n            applyFilters('CREATE_VIEW', Object.assign({}, root, { view: root }));\n        },\n        name: 'file',\n    });\n\n    /**\n     * Creates the file view\n     */\n    var create$5 = function create(_ref) {\n        var root = _ref.root,\n            props = _ref.props;\n\n        // filename\n        root.ref.fileName = createElement$1('legend');\n        root.appendChild(root.ref.fileName);\n\n        // file appended\n        root.ref.file = root.appendChildView(root.createChildView(file, { id: props.id }));\n\n        // data has moved to data.js\n        root.ref.data = false;\n    };\n\n    /**\n     * Data storage\n     */\n    var didLoadItem = function didLoadItem(_ref2) {\n        var root = _ref2.root,\n            props = _ref2.props;\n        // updates the legend of the fieldset so screenreaders can better group buttons\n        text(root.ref.fileName, formatFilename(root.query('GET_ITEM_NAME', props.id)));\n    };\n\n    var fileWrapper = createView({\n        create: create$5,\n        ignoreRect: true,\n        write: createRoute({\n            DID_LOAD_ITEM: didLoadItem,\n        }),\n\n        didCreateView: function didCreateView(root) {\n            applyFilters('CREATE_VIEW', Object.assign({}, root, { view: root }));\n        },\n        tag: 'fieldset',\n        name: 'file-wrapper',\n    });\n\n    var PANEL_SPRING_PROPS = { type: 'spring', damping: 0.6, mass: 7 };\n\n    var create$6 = function create(_ref) {\n        var root = _ref.root,\n            props = _ref.props;\n        [\n            {\n                name: 'top',\n            },\n\n            {\n                name: 'center',\n                props: {\n                    translateY: null,\n                    scaleY: null,\n                },\n\n                mixins: {\n                    animations: {\n                        scaleY: PANEL_SPRING_PROPS,\n                    },\n\n                    styles: ['translateY', 'scaleY'],\n                },\n            },\n\n            {\n                name: 'bottom',\n                props: {\n                    translateY: null,\n                },\n\n                mixins: {\n                    animations: {\n                        translateY: PANEL_SPRING_PROPS,\n                    },\n\n                    styles: ['translateY'],\n                },\n            },\n        ].forEach(function(section) {\n            createSection(root, section, props.name);\n        });\n\n        root.element.classList.add('filepond--' + props.name);\n\n        root.ref.scalable = null;\n    };\n\n    var createSection = function createSection(root, section, className) {\n        var viewConstructor = createView({\n            name: 'panel-' + section.name + ' filepond--' + className,\n            mixins: section.mixins,\n            ignoreRectUpdate: true,\n        });\n\n        var view = root.createChildView(viewConstructor, section.props);\n\n        root.ref[section.name] = root.appendChildView(view);\n    };\n\n    var write$3 = function write(_ref2) {\n        var root = _ref2.root,\n            props = _ref2.props;\n\n        // update scalable state\n        if (root.ref.scalable === null || props.scalable !== root.ref.scalable) {\n            root.ref.scalable = isBoolean(props.scalable) ? props.scalable : true;\n            root.element.dataset.scalable = root.ref.scalable;\n        }\n\n        // no height, can't set\n        if (!props.height) return;\n\n        // get child rects\n        var topRect = root.ref.top.rect.element;\n        var bottomRect = root.ref.bottom.rect.element;\n\n        // make sure height never is smaller than bottom and top seciton heights combined (will probably never happen, but who knows)\n        var height = Math.max(topRect.height + bottomRect.height, props.height);\n\n        // offset center part\n        root.ref.center.translateY = topRect.height;\n\n        // scale center part\n        // use math ceil to prevent transparent lines because of rounding errors\n        root.ref.center.scaleY = (height - topRect.height - bottomRect.height) / 100;\n\n        // offset bottom part\n        root.ref.bottom.translateY = height - bottomRect.height;\n    };\n\n    var panel = createView({\n        name: 'panel',\n        read: function read(_ref3) {\n            var root = _ref3.root,\n                props = _ref3.props;\n            return (props.heightCurrent = root.ref.bottom.translateY);\n        },\n        write: write$3,\n        create: create$6,\n        ignoreRect: true,\n        mixins: {\n            apis: ['height', 'heightCurrent', 'scalable'],\n        },\n    });\n\n    var createDragHelper = function createDragHelper(items) {\n        var itemIds = items.map(function(item) {\n            return item.id;\n        });\n        var prevIndex = undefined;\n        return {\n            setIndex: function setIndex(index) {\n                prevIndex = index;\n            },\n            getIndex: function getIndex() {\n                return prevIndex;\n            },\n            getItemIndex: function getItemIndex(item) {\n                return itemIds.indexOf(item.id);\n            },\n        };\n    };\n\n    var ITEM_TRANSLATE_SPRING = {\n        type: 'spring',\n        stiffness: 0.75,\n        damping: 0.45,\n        mass: 10,\n    };\n\n    var ITEM_SCALE_SPRING = 'spring';\n\n    var StateMap = {\n        DID_START_ITEM_LOAD: 'busy',\n        DID_UPDATE_ITEM_LOAD_PROGRESS: 'loading',\n        DID_THROW_ITEM_INVALID: 'load-invalid',\n        DID_THROW_ITEM_LOAD_ERROR: 'load-error',\n        DID_LOAD_ITEM: 'idle',\n        DID_THROW_ITEM_REMOVE_ERROR: 'remove-error',\n        DID_START_ITEM_REMOVE: 'busy',\n        DID_START_ITEM_PROCESSING: 'busy processing',\n        DID_REQUEST_ITEM_PROCESSING: 'busy processing',\n        DID_UPDATE_ITEM_PROCESS_PROGRESS: 'processing',\n        DID_COMPLETE_ITEM_PROCESSING: 'processing-complete',\n        DID_THROW_ITEM_PROCESSING_ERROR: 'processing-error',\n        DID_THROW_ITEM_PROCESSING_REVERT_ERROR: 'processing-revert-error',\n        DID_ABORT_ITEM_PROCESSING: 'cancelled',\n        DID_REVERT_ITEM_PROCESSING: 'idle',\n    };\n\n    /**\n     * Creates the file view\n     */\n    var create$7 = function create(_ref) {\n        var root = _ref.root,\n            props = _ref.props;\n\n        // select\n        root.ref.handleClick = function(e) {\n            return root.dispatch('DID_ACTIVATE_ITEM', { id: props.id });\n        };\n\n        // set id\n        root.element.id = 'filepond--item-' + props.id;\n        root.element.addEventListener('click', root.ref.handleClick);\n\n        // file view\n        root.ref.container = root.appendChildView(\n            root.createChildView(fileWrapper, { id: props.id })\n        );\n\n        // file panel\n        root.ref.panel = root.appendChildView(root.createChildView(panel, { name: 'item-panel' }));\n\n        // default start height\n        root.ref.panel.height = null;\n\n        // by default not marked for removal\n        props.markedForRemoval = false;\n\n        // if not allowed to reorder file items, exit here\n        if (!root.query('GET_ALLOW_REORDER')) return;\n\n        // set to idle so shows grab cursor\n        root.element.dataset.dragState = 'idle';\n\n        var grab = function grab(e) {\n            if (!e.isPrimary) return;\n\n            var removedActivateListener = false;\n\n            var origin = {\n                x: e.pageX,\n                y: e.pageY,\n            };\n\n            props.dragOrigin = {\n                x: root.translateX,\n                y: root.translateY,\n            };\n\n            props.dragCenter = {\n                x: e.offsetX,\n                y: e.offsetY,\n            };\n\n            var dragState = createDragHelper(root.query('GET_ACTIVE_ITEMS'));\n\n            root.dispatch('DID_GRAB_ITEM', { id: props.id, dragState: dragState });\n\n            var drag = function drag(e) {\n                if (!e.isPrimary) return;\n\n                e.stopPropagation();\n                e.preventDefault();\n\n                props.dragOffset = {\n                    x: e.pageX - origin.x,\n                    y: e.pageY - origin.y,\n                };\n\n                // if dragged stop listening to clicks, will re-add when done dragging\n                var dist =\n                    props.dragOffset.x * props.dragOffset.x +\n                    props.dragOffset.y * props.dragOffset.y;\n                if (dist > 16 && !removedActivateListener) {\n                    removedActivateListener = true;\n                    root.element.removeEventListener('click', root.ref.handleClick);\n                }\n\n                root.dispatch('DID_DRAG_ITEM', { id: props.id, dragState: dragState });\n            };\n\n            var drop = function drop(e) {\n                if (!e.isPrimary) return;\n\n                document.removeEventListener('pointermove', drag);\n                document.removeEventListener('pointerup', drop);\n\n                props.dragOffset = {\n                    x: e.pageX - origin.x,\n                    y: e.pageY - origin.y,\n                };\n\n                root.dispatch('DID_DROP_ITEM', { id: props.id, dragState: dragState });\n\n                // start listening to clicks again\n                if (removedActivateListener) {\n                    setTimeout(function() {\n                        return root.element.addEventListener('click', root.ref.handleClick);\n                    }, 0);\n                }\n            };\n\n            document.addEventListener('pointermove', drag);\n            document.addEventListener('pointerup', drop);\n        };\n\n        root.element.addEventListener('pointerdown', grab);\n    };\n\n    var route$1 = createRoute({\n        DID_UPDATE_PANEL_HEIGHT: function DID_UPDATE_PANEL_HEIGHT(_ref2) {\n            var root = _ref2.root,\n                action = _ref2.action;\n            root.height = action.height;\n        },\n    });\n\n    var write$4 = createRoute(\n        {\n            DID_GRAB_ITEM: function DID_GRAB_ITEM(_ref3) {\n                var root = _ref3.root,\n                    props = _ref3.props;\n                props.dragOrigin = {\n                    x: root.translateX,\n                    y: root.translateY,\n                };\n            },\n            DID_DRAG_ITEM: function DID_DRAG_ITEM(_ref4) {\n                var root = _ref4.root;\n                root.element.dataset.dragState = 'drag';\n            },\n            DID_DROP_ITEM: function DID_DROP_ITEM(_ref5) {\n                var root = _ref5.root,\n                    props = _ref5.props;\n                props.dragOffset = null;\n                props.dragOrigin = null;\n                root.element.dataset.dragState = 'drop';\n            },\n        },\n        function(_ref6) {\n            var root = _ref6.root,\n                actions = _ref6.actions,\n                props = _ref6.props,\n                shouldOptimize = _ref6.shouldOptimize;\n\n            if (root.element.dataset.dragState === 'drop') {\n                if (root.scaleX <= 1) {\n                    root.element.dataset.dragState = 'idle';\n                }\n            }\n\n            // select last state change action\n            var action = actions\n                .concat()\n                .filter(function(action) {\n                    return /^DID_/.test(action.type);\n                })\n                .reverse()\n                .find(function(action) {\n                    return StateMap[action.type];\n                });\n\n            // no need to set same state twice\n            if (action && action.type !== props.currentState) {\n                // set current state\n                props.currentState = action.type;\n\n                // set state\n                root.element.dataset.filepondItemState = StateMap[props.currentState] || '';\n            }\n\n            // route actions\n            var aspectRatio =\n                root.query('GET_ITEM_PANEL_ASPECT_RATIO') || root.query('GET_PANEL_ASPECT_RATIO');\n            if (!aspectRatio) {\n                route$1({ root: root, actions: actions, props: props });\n                if (!root.height && root.ref.container.rect.element.height > 0) {\n                    root.height = root.ref.container.rect.element.height;\n                }\n            } else if (!shouldOptimize) {\n                root.height = root.rect.element.width * aspectRatio;\n            }\n\n            // sync panel height with item height\n            if (shouldOptimize) {\n                root.ref.panel.height = null;\n            }\n\n            root.ref.panel.height = root.height;\n        }\n    );\n\n    var item = createView({\n        create: create$7,\n        write: write$4,\n        destroy: function destroy(_ref7) {\n            var root = _ref7.root,\n                props = _ref7.props;\n            root.element.removeEventListener('click', root.ref.handleClick);\n            root.dispatch('RELEASE_ITEM', { query: props.id });\n        },\n        tag: 'li',\n        name: 'item',\n        mixins: {\n            apis: [\n                'id',\n                'interactionMethod',\n                'markedForRemoval',\n                'spawnDate',\n                'dragCenter',\n                'dragOrigin',\n                'dragOffset',\n            ],\n            styles: ['translateX', 'translateY', 'scaleX', 'scaleY', 'opacity', 'height'],\n\n            animations: {\n                scaleX: ITEM_SCALE_SPRING,\n                scaleY: ITEM_SCALE_SPRING,\n                translateX: ITEM_TRANSLATE_SPRING,\n                translateY: ITEM_TRANSLATE_SPRING,\n                opacity: { type: 'tween', duration: 150 },\n            },\n        },\n    });\n\n    var getItemsPerRow = function(horizontalSpace, itemWidth) {\n        // add one pixel leeway, when using percentages for item width total items can be 1.99 per row\n\n        return Math.max(1, Math.floor((horizontalSpace + 1) / itemWidth));\n    };\n\n    var getItemIndexByPosition = function getItemIndexByPosition(view, children, positionInView) {\n        if (!positionInView) return;\n\n        var horizontalSpace = view.rect.element.width;\n        // const children = view.childViews;\n        var l = children.length;\n        var last = null;\n\n        // -1, don't move items to accomodate (either add to top or bottom)\n        if (l === 0 || positionInView.top < children[0].rect.element.top) return -1;\n\n        // let's get the item width\n        var item = children[0];\n        var itemRect = item.rect.element;\n        var itemHorizontalMargin = itemRect.marginLeft + itemRect.marginRight;\n        var itemWidth = itemRect.width + itemHorizontalMargin;\n        var itemsPerRow = getItemsPerRow(horizontalSpace, itemWidth);\n\n        // stack\n        if (itemsPerRow === 1) {\n            for (var index = 0; index < l; index++) {\n                var child = children[index];\n                var childMid = child.rect.outer.top + child.rect.element.height * 0.5;\n                if (positionInView.top < childMid) {\n                    return index;\n                }\n            }\n            return l;\n        }\n\n        // grid\n        var itemVerticalMargin = itemRect.marginTop + itemRect.marginBottom;\n        var itemHeight = itemRect.height + itemVerticalMargin;\n        for (var _index = 0; _index < l; _index++) {\n            var indexX = _index % itemsPerRow;\n            var indexY = Math.floor(_index / itemsPerRow);\n\n            var offsetX = indexX * itemWidth;\n            var offsetY = indexY * itemHeight;\n\n            var itemTop = offsetY - itemRect.marginTop;\n            var itemRight = offsetX + itemWidth;\n            var itemBottom = offsetY + itemHeight + itemRect.marginBottom;\n\n            if (positionInView.top < itemBottom && positionInView.top > itemTop) {\n                if (positionInView.left < itemRight) {\n                    return _index;\n                } else if (_index !== l - 1) {\n                    last = _index;\n                } else {\n                    last = null;\n                }\n            }\n        }\n\n        if (last !== null) {\n            return last;\n        }\n\n        return l;\n    };\n\n    var dropAreaDimensions = {\n        height: 0,\n        width: 0,\n        get getHeight() {\n            return this.height;\n        },\n        set setHeight(val) {\n            if (this.height === 0 || val === 0) this.height = val;\n        },\n        get getWidth() {\n            return this.width;\n        },\n        set setWidth(val) {\n            if (this.width === 0 || val === 0) this.width = val;\n        },\n        setDimensions: function setDimensions(height, width) {\n            if (this.height === 0 || height === 0) this.height = height;\n            if (this.width === 0 || width === 0) this.width = width;\n        },\n    };\n\n    var create$8 = function create(_ref) {\n        var root = _ref.root;\n        // need to set role to list as otherwise it won't be read as a list by VoiceOver\n        attr(root.element, 'role', 'list');\n\n        root.ref.lastItemSpanwDate = Date.now();\n    };\n\n    /**\n     * Inserts a new item\n     * @param root\n     * @param action\n     */\n    var addItemView = function addItemView(_ref2) {\n        var root = _ref2.root,\n            action = _ref2.action;\n        var id = action.id,\n            index = action.index,\n            interactionMethod = action.interactionMethod;\n\n        root.ref.addIndex = index;\n\n        var now = Date.now();\n        var spawnDate = now;\n        var opacity = 1;\n\n        if (interactionMethod !== InteractionMethod.NONE) {\n            opacity = 0;\n            var cooldown = root.query('GET_ITEM_INSERT_INTERVAL');\n            var dist = now - root.ref.lastItemSpanwDate;\n            spawnDate = dist < cooldown ? now + (cooldown - dist) : now;\n        }\n\n        root.ref.lastItemSpanwDate = spawnDate;\n\n        root.appendChildView(\n            root.createChildView(\n                // view type\n                item,\n\n                // props\n                {\n                    spawnDate: spawnDate,\n                    id: id,\n                    opacity: opacity,\n                    interactionMethod: interactionMethod,\n                }\n            ),\n\n            index\n        );\n    };\n\n    var moveItem = function moveItem(item, x, y) {\n        var vx = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n        var vy = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 1;\n        // set to null to remove animation while dragging\n        if (item.dragOffset) {\n            item.translateX = null;\n            item.translateY = null;\n            item.translateX = item.dragOrigin.x + item.dragOffset.x;\n            item.translateY = item.dragOrigin.y + item.dragOffset.y;\n            item.scaleX = 1.025;\n            item.scaleY = 1.025;\n        } else {\n            item.translateX = x;\n            item.translateY = y;\n\n            if (Date.now() > item.spawnDate) {\n                // reveal element\n                if (item.opacity === 0) {\n                    introItemView(item, x, y, vx, vy);\n                }\n\n                // make sure is default scale every frame\n                item.scaleX = 1;\n                item.scaleY = 1;\n                item.opacity = 1;\n            }\n        }\n    };\n\n    var introItemView = function introItemView(item, x, y, vx, vy) {\n        if (item.interactionMethod === InteractionMethod.NONE) {\n            item.translateX = null;\n            item.translateX = x;\n            item.translateY = null;\n            item.translateY = y;\n        } else if (item.interactionMethod === InteractionMethod.DROP) {\n            item.translateX = null;\n            item.translateX = x - vx * 20;\n\n            item.translateY = null;\n            item.translateY = y - vy * 10;\n\n            item.scaleX = 0.8;\n            item.scaleY = 0.8;\n        } else if (item.interactionMethod === InteractionMethod.BROWSE) {\n            item.translateY = null;\n            item.translateY = y - 30;\n        } else if (item.interactionMethod === InteractionMethod.API) {\n            item.translateX = null;\n            item.translateX = x - 30;\n            item.translateY = null;\n        }\n    };\n\n    /**\n     * Removes an existing item\n     * @param root\n     * @param action\n     */\n    var removeItemView = function removeItemView(_ref3) {\n        var root = _ref3.root,\n            action = _ref3.action;\n        var id = action.id;\n\n        // get the view matching the given id\n        var view = root.childViews.find(function(child) {\n            return child.id === id;\n        });\n\n        // if no view found, exit\n        if (!view) {\n            return;\n        }\n\n        // animate view out of view\n        view.scaleX = 0.9;\n        view.scaleY = 0.9;\n        view.opacity = 0;\n\n        // mark for removal\n        view.markedForRemoval = true;\n    };\n\n    var getItemHeight = function getItemHeight(child) {\n        return (\n            child.rect.element.height +\n            child.rect.element.marginBottom * 0.5 +\n            child.rect.element.marginTop * 0.5\n        );\n    };\n    var getItemWidth = function getItemWidth(child) {\n        return (\n            child.rect.element.width +\n            child.rect.element.marginLeft * 0.5 +\n            child.rect.element.marginRight * 0.5\n        );\n    };\n\n    var dragItem = function dragItem(_ref4) {\n        var root = _ref4.root,\n            action = _ref4.action;\n        var id = action.id,\n            dragState = action.dragState;\n\n        // reference to item\n        var item = root.query('GET_ITEM', { id: id });\n\n        // get the view matching the given id\n        var view = root.childViews.find(function(child) {\n            return child.id === id;\n        });\n\n        var numItems = root.childViews.length;\n        var oldIndex = dragState.getItemIndex(item);\n\n        // if no view found, exit\n        if (!view) return;\n\n        var dragPosition = {\n            x: view.dragOrigin.x + view.dragOffset.x + view.dragCenter.x,\n            y: view.dragOrigin.y + view.dragOffset.y + view.dragCenter.y,\n        };\n\n        // get drag area dimensions\n        var dragHeight = getItemHeight(view);\n        var dragWidth = getItemWidth(view);\n\n        // get rows and columns (There will always be at least one row and one column if a file is present)\n        var cols = Math.floor(root.rect.outer.width / dragWidth);\n        if (cols > numItems) cols = numItems;\n\n        // rows are used to find when we have left the preview area bounding box\n        var rows = Math.floor(numItems / cols + 1);\n\n        dropAreaDimensions.setHeight = dragHeight * rows;\n        dropAreaDimensions.setWidth = dragWidth * cols;\n\n        // get new index of dragged item\n        var location = {\n            y: Math.floor(dragPosition.y / dragHeight),\n            x: Math.floor(dragPosition.x / dragWidth),\n            getGridIndex: function getGridIndex() {\n                if (\n                    dragPosition.y > dropAreaDimensions.getHeight ||\n                    dragPosition.y < 0 ||\n                    dragPosition.x > dropAreaDimensions.getWidth ||\n                    dragPosition.x < 0\n                )\n                    return oldIndex;\n                return this.y * cols + this.x;\n            },\n            getColIndex: function getColIndex() {\n                var items = root.query('GET_ACTIVE_ITEMS');\n                var visibleChildren = root.childViews.filter(function(child) {\n                    return child.rect.element.height;\n                });\n                var children = items.map(function(item) {\n                    return visibleChildren.find(function(childView) {\n                        return childView.id === item.id;\n                    });\n                });\n\n                var currentIndex = children.findIndex(function(child) {\n                    return child === view;\n                });\n                var dragHeight = getItemHeight(view);\n                var l = children.length;\n                var idx = l;\n                var childHeight = 0;\n                var childBottom = 0;\n                var childTop = 0;\n                for (var i = 0; i < l; i++) {\n                    childHeight = getItemHeight(children[i]);\n                    childTop = childBottom;\n                    childBottom = childTop + childHeight;\n                    if (dragPosition.y < childBottom) {\n                        if (currentIndex > i) {\n                            if (dragPosition.y < childTop + dragHeight) {\n                                idx = i;\n                                break;\n                            }\n                            continue;\n                        }\n                        idx = i;\n                        break;\n                    }\n                }\n                return idx;\n            },\n        };\n\n        // get new index\n        var index = cols > 1 ? location.getGridIndex() : location.getColIndex();\n        root.dispatch('MOVE_ITEM', { query: view, index: index });\n\n        // if the index of the item changed, dispatch reorder action\n        var currentIndex = dragState.getIndex();\n\n        if (currentIndex === undefined || currentIndex !== index) {\n            dragState.setIndex(index);\n\n            if (currentIndex === undefined) return;\n\n            root.dispatch('DID_REORDER_ITEMS', {\n                items: root.query('GET_ACTIVE_ITEMS'),\n                origin: oldIndex,\n                target: index,\n            });\n        }\n    };\n\n    /**\n     * Setup action routes\n     */\n    var route$2 = createRoute({\n        DID_ADD_ITEM: addItemView,\n        DID_REMOVE_ITEM: removeItemView,\n        DID_DRAG_ITEM: dragItem,\n    });\n\n    /**\n     * Write to view\n     * @param root\n     * @param actions\n     * @param props\n     */\n    var write$5 = function write(_ref5) {\n        var root = _ref5.root,\n            props = _ref5.props,\n            actions = _ref5.actions,\n            shouldOptimize = _ref5.shouldOptimize;\n        // route actions\n        route$2({ root: root, props: props, actions: actions });\n        var dragCoordinates = props.dragCoordinates;\n\n        // available space on horizontal axis\n        var horizontalSpace = root.rect.element.width;\n\n        // only draw children that have dimensions\n        var visibleChildren = root.childViews.filter(function(child) {\n            return child.rect.element.height;\n        });\n\n        // sort based on current active items\n        var children = root\n            .query('GET_ACTIVE_ITEMS')\n            .map(function(item) {\n                return visibleChildren.find(function(child) {\n                    return child.id === item.id;\n                });\n            })\n            .filter(function(item) {\n                return item;\n            });\n\n        // get index\n        var dragIndex = dragCoordinates\n            ? getItemIndexByPosition(root, children, dragCoordinates)\n            : null;\n\n        // add index is used to reserve the dropped/added item index till the actual item is rendered\n        var addIndex = root.ref.addIndex || null;\n\n        // add index no longer needed till possibly next draw\n        root.ref.addIndex = null;\n\n        var dragIndexOffset = 0;\n        var removeIndexOffset = 0;\n        var addIndexOffset = 0;\n\n        if (children.length === 0) return;\n\n        var childRect = children[0].rect.element;\n        var itemVerticalMargin = childRect.marginTop + childRect.marginBottom;\n        var itemHorizontalMargin = childRect.marginLeft + childRect.marginRight;\n        var itemWidth = childRect.width + itemHorizontalMargin;\n        var itemHeight = childRect.height + itemVerticalMargin;\n        var itemsPerRow = getItemsPerRow(horizontalSpace, itemWidth);\n\n        // stack\n        if (itemsPerRow === 1) {\n            var offsetY = 0;\n            var dragOffset = 0;\n\n            children.forEach(function(child, index) {\n                if (dragIndex) {\n                    var dist = index - dragIndex;\n                    if (dist === -2) {\n                        dragOffset = -itemVerticalMargin * 0.25;\n                    } else if (dist === -1) {\n                        dragOffset = -itemVerticalMargin * 0.75;\n                    } else if (dist === 0) {\n                        dragOffset = itemVerticalMargin * 0.75;\n                    } else if (dist === 1) {\n                        dragOffset = itemVerticalMargin * 0.25;\n                    } else {\n                        dragOffset = 0;\n                    }\n                }\n\n                if (shouldOptimize) {\n                    child.translateX = null;\n                    child.translateY = null;\n                }\n\n                if (!child.markedForRemoval) {\n                    moveItem(child, 0, offsetY + dragOffset);\n                }\n\n                var itemHeight = child.rect.element.height + itemVerticalMargin;\n\n                var visualHeight = itemHeight * (child.markedForRemoval ? child.opacity : 1);\n\n                offsetY += visualHeight;\n            });\n        }\n        // grid\n        else {\n            var prevX = 0;\n            var prevY = 0;\n\n            children.forEach(function(child, index) {\n                if (index === dragIndex) {\n                    dragIndexOffset = 1;\n                }\n\n                if (index === addIndex) {\n                    addIndexOffset += 1;\n                }\n\n                if (child.markedForRemoval && child.opacity < 0.5) {\n                    removeIndexOffset -= 1;\n                }\n\n                var visualIndex = index + addIndexOffset + dragIndexOffset + removeIndexOffset;\n\n                var indexX = visualIndex % itemsPerRow;\n                var indexY = Math.floor(visualIndex / itemsPerRow);\n\n                var offsetX = indexX * itemWidth;\n                var offsetY = indexY * itemHeight;\n\n                var vectorX = Math.sign(offsetX - prevX);\n                var vectorY = Math.sign(offsetY - prevY);\n\n                prevX = offsetX;\n                prevY = offsetY;\n\n                if (child.markedForRemoval) return;\n\n                if (shouldOptimize) {\n                    child.translateX = null;\n                    child.translateY = null;\n                }\n\n                moveItem(child, offsetX, offsetY, vectorX, vectorY);\n            });\n        }\n    };\n\n    /**\n     * Filters actions that are meant specifically for a certain child of the list\n     * @param child\n     * @param actions\n     */\n    var filterSetItemActions = function filterSetItemActions(child, actions) {\n        return actions.filter(function(action) {\n            // if action has an id, filter out actions that don't have this child id\n            if (action.data && action.data.id) {\n                return child.id === action.data.id;\n            }\n\n            // allow all other actions\n            return true;\n        });\n    };\n\n    var list = createView({\n        create: create$8,\n        write: write$5,\n        tag: 'ul',\n        name: 'list',\n        didWriteView: function didWriteView(_ref6) {\n            var root = _ref6.root;\n            root.childViews\n                .filter(function(view) {\n                    return view.markedForRemoval && view.opacity === 0 && view.resting;\n                })\n                .forEach(function(view) {\n                    view._destroy();\n                    root.removeChildView(view);\n                });\n        },\n        filterFrameActionsForChild: filterSetItemActions,\n        mixins: {\n            apis: ['dragCoordinates'],\n        },\n    });\n\n    var create$9 = function create(_ref) {\n        var root = _ref.root,\n            props = _ref.props;\n        root.ref.list = root.appendChildView(root.createChildView(list));\n        props.dragCoordinates = null;\n        props.overflowing = false;\n    };\n\n    var storeDragCoordinates = function storeDragCoordinates(_ref2) {\n        var root = _ref2.root,\n            props = _ref2.props,\n            action = _ref2.action;\n        if (!root.query('GET_ITEM_INSERT_LOCATION_FREEDOM')) return;\n        props.dragCoordinates = {\n            left: action.position.scopeLeft - root.ref.list.rect.element.left,\n            top:\n                action.position.scopeTop -\n                (root.rect.outer.top + root.rect.element.marginTop + root.rect.element.scrollTop),\n        };\n    };\n\n    var clearDragCoordinates = function clearDragCoordinates(_ref3) {\n        var props = _ref3.props;\n        props.dragCoordinates = null;\n    };\n\n    var route$3 = createRoute({\n        DID_DRAG: storeDragCoordinates,\n        DID_END_DRAG: clearDragCoordinates,\n    });\n\n    var write$6 = function write(_ref4) {\n        var root = _ref4.root,\n            props = _ref4.props,\n            actions = _ref4.actions;\n\n        // route actions\n        route$3({ root: root, props: props, actions: actions });\n\n        // current drag position\n        root.ref.list.dragCoordinates = props.dragCoordinates;\n\n        // if currently overflowing but no longer received overflow\n        if (props.overflowing && !props.overflow) {\n            props.overflowing = false;\n\n            // reset overflow state\n            root.element.dataset.state = '';\n            root.height = null;\n        }\n\n        // if is not overflowing currently but does receive overflow value\n        if (props.overflow) {\n            var newHeight = Math.round(props.overflow);\n            if (newHeight !== root.height) {\n                props.overflowing = true;\n                root.element.dataset.state = 'overflow';\n                root.height = newHeight;\n            }\n        }\n    };\n\n    var listScroller = createView({\n        create: create$9,\n        write: write$6,\n        name: 'list-scroller',\n        mixins: {\n            apis: ['overflow', 'dragCoordinates'],\n            styles: ['height', 'translateY'],\n            animations: {\n                translateY: 'spring',\n            },\n        },\n    });\n\n    var attrToggle = function attrToggle(element, name, state) {\n        var enabledValue = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : '';\n        if (state) {\n            attr(element, name, enabledValue);\n        } else {\n            element.removeAttribute(name);\n        }\n    };\n\n    var resetFileInput = function resetFileInput(input) {\n        // no value, no need to reset\n        if (!input || input.value === '') {\n            return;\n        }\n\n        try {\n            // for modern browsers\n            input.value = '';\n        } catch (err) {}\n\n        // for IE10\n        if (input.value) {\n            // quickly append input to temp form and reset form\n            var form = createElement$1('form');\n            var parentNode = input.parentNode;\n            var ref = input.nextSibling;\n            form.appendChild(input);\n            form.reset();\n\n            // re-inject input where it originally was\n            if (ref) {\n                parentNode.insertBefore(input, ref);\n            } else {\n                parentNode.appendChild(input);\n            }\n        }\n    };\n\n    var create$a = function create(_ref) {\n        var root = _ref.root,\n            props = _ref.props;\n\n        // set id so can be referenced from outside labels\n        root.element.id = 'filepond--browser-' + props.id;\n\n        // set name of element (is removed when a value is set)\n        attr(root.element, 'name', root.query('GET_NAME'));\n\n        // we have to link this element to the status element\n        attr(root.element, 'aria-controls', 'filepond--assistant-' + props.id);\n\n        // set label, we use labelled by as otherwise the screenreader does not read the \"browse\" text in the label (as it has tabindex: 0)\n        attr(root.element, 'aria-labelledby', 'filepond--drop-label-' + props.id);\n\n        // set configurable props\n        setAcceptedFileTypes({\n            root: root,\n            action: { value: root.query('GET_ACCEPTED_FILE_TYPES') },\n        });\n        toggleAllowMultiple({ root: root, action: { value: root.query('GET_ALLOW_MULTIPLE') } });\n        toggleDirectoryFilter({\n            root: root,\n            action: { value: root.query('GET_ALLOW_DIRECTORIES_ONLY') },\n        });\n        toggleDisabled({ root: root });\n        toggleRequired({ root: root, action: { value: root.query('GET_REQUIRED') } });\n        setCaptureMethod({ root: root, action: { value: root.query('GET_CAPTURE_METHOD') } });\n\n        // handle changes to the input field\n        root.ref.handleChange = function(e) {\n            if (!root.element.value) {\n                return;\n            }\n\n            // extract files and move value of webkitRelativePath path to _relativePath\n            var files = Array.from(root.element.files).map(function(file) {\n                file._relativePath = file.webkitRelativePath;\n                return file;\n            });\n\n            // we add a little delay so the OS file select window can move out of the way before we add our file\n            setTimeout(function() {\n                // load files\n                props.onload(files);\n\n                // reset input, it's just for exposing a method to drop files, should not retain any state\n                resetFileInput(root.element);\n            }, 250);\n        };\n\n        root.element.addEventListener('change', root.ref.handleChange);\n    };\n\n    var setAcceptedFileTypes = function setAcceptedFileTypes(_ref2) {\n        var root = _ref2.root,\n            action = _ref2.action;\n        if (!root.query('GET_ALLOW_SYNC_ACCEPT_ATTRIBUTE')) return;\n        attrToggle(\n            root.element,\n            'accept',\n            !!action.value,\n            action.value ? action.value.join(',') : ''\n        );\n    };\n\n    var toggleAllowMultiple = function toggleAllowMultiple(_ref3) {\n        var root = _ref3.root,\n            action = _ref3.action;\n        attrToggle(root.element, 'multiple', action.value);\n    };\n\n    var toggleDirectoryFilter = function toggleDirectoryFilter(_ref4) {\n        var root = _ref4.root,\n            action = _ref4.action;\n        attrToggle(root.element, 'webkitdirectory', action.value);\n    };\n\n    var toggleDisabled = function toggleDisabled(_ref5) {\n        var root = _ref5.root;\n        var isDisabled = root.query('GET_DISABLED');\n        var doesAllowBrowse = root.query('GET_ALLOW_BROWSE');\n        var disableField = isDisabled || !doesAllowBrowse;\n        attrToggle(root.element, 'disabled', disableField);\n    };\n\n    var toggleRequired = function toggleRequired(_ref6) {\n        var root = _ref6.root,\n            action = _ref6.action;\n        // want to remove required, always possible\n        if (!action.value) {\n            attrToggle(root.element, 'required', false);\n        }\n        // if want to make required, only possible when zero items\n        else if (root.query('GET_TOTAL_ITEMS') === 0) {\n            attrToggle(root.element, 'required', true);\n        }\n    };\n\n    var setCaptureMethod = function setCaptureMethod(_ref7) {\n        var root = _ref7.root,\n            action = _ref7.action;\n        attrToggle(\n            root.element,\n            'capture',\n            !!action.value,\n            action.value === true ? '' : action.value\n        );\n    };\n\n    var updateRequiredStatus = function updateRequiredStatus(_ref8) {\n        var root = _ref8.root;\n        var element = root.element;\n        // always remove the required attribute when more than zero items\n        if (root.query('GET_TOTAL_ITEMS') > 0) {\n            attrToggle(element, 'required', false);\n            attrToggle(element, 'name', false);\n        } else {\n            // add name attribute\n            attrToggle(element, 'name', true, root.query('GET_NAME'));\n\n            // remove any validation messages\n            var shouldCheckValidity = root.query('GET_CHECK_VALIDITY');\n            if (shouldCheckValidity) {\n                element.setCustomValidity('');\n            }\n\n            // we only add required if the field has been deemed required\n            if (root.query('GET_REQUIRED')) {\n                attrToggle(element, 'required', true);\n            }\n        }\n    };\n\n    var updateFieldValidityStatus = function updateFieldValidityStatus(_ref9) {\n        var root = _ref9.root;\n        var shouldCheckValidity = root.query('GET_CHECK_VALIDITY');\n        if (!shouldCheckValidity) return;\n        root.element.setCustomValidity(root.query('GET_LABEL_INVALID_FIELD'));\n    };\n\n    var browser = createView({\n        tag: 'input',\n        name: 'browser',\n        ignoreRect: true,\n        ignoreRectUpdate: true,\n        attributes: {\n            type: 'file',\n        },\n\n        create: create$a,\n        destroy: function destroy(_ref10) {\n            var root = _ref10.root;\n            root.element.removeEventListener('change', root.ref.handleChange);\n        },\n        write: createRoute({\n            DID_LOAD_ITEM: updateRequiredStatus,\n            DID_REMOVE_ITEM: updateRequiredStatus,\n            DID_THROW_ITEM_INVALID: updateFieldValidityStatus,\n\n            DID_SET_DISABLED: toggleDisabled,\n            DID_SET_ALLOW_BROWSE: toggleDisabled,\n            DID_SET_ALLOW_DIRECTORIES_ONLY: toggleDirectoryFilter,\n            DID_SET_ALLOW_MULTIPLE: toggleAllowMultiple,\n            DID_SET_ACCEPTED_FILE_TYPES: setAcceptedFileTypes,\n            DID_SET_CAPTURE_METHOD: setCaptureMethod,\n            DID_SET_REQUIRED: toggleRequired,\n        }),\n    });\n\n    var Key = {\n        ENTER: 13,\n        SPACE: 32,\n    };\n\n    var create$b = function create(_ref) {\n        var root = _ref.root,\n            props = _ref.props;\n\n        // create the label and link it to the file browser\n        var label = createElement$1('label');\n        attr(label, 'for', 'filepond--browser-' + props.id);\n\n        // use for labeling file input (aria-labelledby on file input)\n        attr(label, 'id', 'filepond--drop-label-' + props.id);\n\n        // hide the label for screenreaders, the input element will read the contents of the label when it's focussed. If we don't set aria-hidden the screenreader will also navigate the contents of the label separately from the input.\n        attr(label, 'aria-hidden', 'true');\n\n        // handle keys\n        root.ref.handleKeyDown = function(e) {\n            var isActivationKey = e.keyCode === Key.ENTER || e.keyCode === Key.SPACE;\n            if (!isActivationKey) return;\n            // stops from triggering the element a second time\n            e.preventDefault();\n\n            // click link (will then in turn activate file input)\n            root.ref.label.click();\n        };\n\n        root.ref.handleClick = function(e) {\n            var isLabelClick = e.target === label || label.contains(e.target);\n\n            // don't want to click twice\n            if (isLabelClick) return;\n\n            // click link (will then in turn activate file input)\n            root.ref.label.click();\n        };\n\n        // attach events\n        label.addEventListener('keydown', root.ref.handleKeyDown);\n        root.element.addEventListener('click', root.ref.handleClick);\n\n        // update\n        updateLabelValue(label, props.caption);\n\n        // add!\n        root.appendChild(label);\n        root.ref.label = label;\n    };\n\n    var updateLabelValue = function updateLabelValue(label, value) {\n        label.innerHTML = value;\n        var clickable = label.querySelector('.filepond--label-action');\n        if (clickable) {\n            attr(clickable, 'tabindex', '0');\n        }\n        return value;\n    };\n\n    var dropLabel = createView({\n        name: 'drop-label',\n        ignoreRect: true,\n        create: create$b,\n        destroy: function destroy(_ref2) {\n            var root = _ref2.root;\n            root.ref.label.addEventListener('keydown', root.ref.handleKeyDown);\n            root.element.removeEventListener('click', root.ref.handleClick);\n        },\n        write: createRoute({\n            DID_SET_LABEL_IDLE: function DID_SET_LABEL_IDLE(_ref3) {\n                var root = _ref3.root,\n                    action = _ref3.action;\n                updateLabelValue(root.ref.label, action.value);\n            },\n        }),\n\n        mixins: {\n            styles: ['opacity', 'translateX', 'translateY'],\n            animations: {\n                opacity: { type: 'tween', duration: 150 },\n                translateX: 'spring',\n                translateY: 'spring',\n            },\n        },\n    });\n\n    var blob = createView({\n        name: 'drip-blob',\n        ignoreRect: true,\n        mixins: {\n            styles: ['translateX', 'translateY', 'scaleX', 'scaleY', 'opacity'],\n            animations: {\n                scaleX: 'spring',\n                scaleY: 'spring',\n                translateX: 'spring',\n                translateY: 'spring',\n                opacity: { type: 'tween', duration: 250 },\n            },\n        },\n    });\n\n    var addBlob = function addBlob(_ref) {\n        var root = _ref.root;\n        var centerX = root.rect.element.width * 0.5;\n        var centerY = root.rect.element.height * 0.5;\n\n        root.ref.blob = root.appendChildView(\n            root.createChildView(blob, {\n                opacity: 0,\n                scaleX: 2.5,\n                scaleY: 2.5,\n                translateX: centerX,\n                translateY: centerY,\n            })\n        );\n    };\n\n    var moveBlob = function moveBlob(_ref2) {\n        var root = _ref2.root,\n            action = _ref2.action;\n        if (!root.ref.blob) {\n            addBlob({ root: root });\n            return;\n        }\n\n        root.ref.blob.translateX = action.position.scopeLeft;\n        root.ref.blob.translateY = action.position.scopeTop;\n        root.ref.blob.scaleX = 1;\n        root.ref.blob.scaleY = 1;\n        root.ref.blob.opacity = 1;\n    };\n\n    var hideBlob = function hideBlob(_ref3) {\n        var root = _ref3.root;\n        if (!root.ref.blob) {\n            return;\n        }\n        root.ref.blob.opacity = 0;\n    };\n\n    var explodeBlob = function explodeBlob(_ref4) {\n        var root = _ref4.root;\n        if (!root.ref.blob) {\n            return;\n        }\n        root.ref.blob.scaleX = 2.5;\n        root.ref.blob.scaleY = 2.5;\n        root.ref.blob.opacity = 0;\n    };\n\n    var write$7 = function write(_ref5) {\n        var root = _ref5.root,\n            props = _ref5.props,\n            actions = _ref5.actions;\n        route$4({ root: root, props: props, actions: actions });\n        var blob = root.ref.blob;\n\n        if (actions.length === 0 && blob && blob.opacity === 0) {\n            root.removeChildView(blob);\n            root.ref.blob = null;\n        }\n    };\n\n    var route$4 = createRoute({\n        DID_DRAG: moveBlob,\n        DID_DROP: explodeBlob,\n        DID_END_DRAG: hideBlob,\n    });\n\n    var drip = createView({\n        ignoreRect: true,\n        ignoreRectUpdate: true,\n        name: 'drip',\n        write: write$7,\n    });\n\n    var setInputFiles = function setInputFiles(element, files) {\n        try {\n            // Create a DataTransfer instance and add a newly created file\n            var dataTransfer = new DataTransfer();\n            files.forEach(function(file) {\n                if (file instanceof File) {\n                    dataTransfer.items.add(file);\n                } else {\n                    dataTransfer.items.add(\n                        new File([file], file.name, {\n                            type: file.type,\n                        })\n                    );\n                }\n            });\n\n            // Assign the DataTransfer files list to the file input\n            element.files = dataTransfer.files;\n        } catch (err) {\n            return false;\n        }\n        return true;\n    };\n\n    var create$c = function create(_ref) {\n        var root = _ref.root;\n        return (root.ref.fields = {});\n    };\n\n    var getField = function getField(root, id) {\n        return root.ref.fields[id];\n    };\n\n    var syncFieldPositionsWithItems = function syncFieldPositionsWithItems(root) {\n        root.query('GET_ACTIVE_ITEMS').forEach(function(item) {\n            if (!root.ref.fields[item.id]) return;\n            root.element.appendChild(root.ref.fields[item.id]);\n        });\n    };\n\n    var didReorderItems = function didReorderItems(_ref2) {\n        var root = _ref2.root;\n        return syncFieldPositionsWithItems(root);\n    };\n\n    var didAddItem = function didAddItem(_ref3) {\n        var root = _ref3.root,\n            action = _ref3.action;\n        var fileItem = root.query('GET_ITEM', action.id);\n        var isLocalFile = fileItem.origin === FileOrigin.LOCAL;\n        var shouldUseFileInput = !isLocalFile && root.query('SHOULD_UPDATE_FILE_INPUT');\n        var dataContainer = createElement$1('input');\n        dataContainer.type = shouldUseFileInput ? 'file' : 'hidden';\n        dataContainer.name = root.query('GET_NAME');\n        dataContainer.disabled = root.query('GET_DISABLED');\n        root.ref.fields[action.id] = dataContainer;\n        syncFieldPositionsWithItems(root);\n    };\n\n    var didLoadItem$1 = function didLoadItem(_ref4) {\n        var root = _ref4.root,\n            action = _ref4.action;\n        var field = getField(root, action.id);\n        if (!field) return;\n\n        // store server ref in hidden input\n        if (action.serverFileReference !== null) field.value = action.serverFileReference;\n\n        // store file item in file input\n        if (!root.query('SHOULD_UPDATE_FILE_INPUT')) return;\n\n        var fileItem = root.query('GET_ITEM', action.id);\n        setInputFiles(field, [fileItem.file]);\n    };\n\n    var didPrepareOutput = function didPrepareOutput(_ref5) {\n        var root = _ref5.root,\n            action = _ref5.action;\n        // this timeout pushes the handler after 'load'\n        if (!root.query('SHOULD_UPDATE_FILE_INPUT')) return;\n        setTimeout(function() {\n            var field = getField(root, action.id);\n            if (!field) return;\n            setInputFiles(field, [action.file]);\n        }, 0);\n    };\n\n    var didSetDisabled = function didSetDisabled(_ref6) {\n        var root = _ref6.root;\n        root.element.disabled = root.query('GET_DISABLED');\n    };\n\n    var didRemoveItem = function didRemoveItem(_ref7) {\n        var root = _ref7.root,\n            action = _ref7.action;\n        var field = getField(root, action.id);\n        if (!field) return;\n        if (field.parentNode) field.parentNode.removeChild(field);\n        delete root.ref.fields[action.id];\n    };\n\n    // only runs for server files (so doesn't deal with file input)\n    var didDefineValue = function didDefineValue(_ref8) {\n        var root = _ref8.root,\n            action = _ref8.action;\n        var field = getField(root, action.id);\n        if (!field) return;\n        if (action.value === null) {\n            // clear field value\n            field.removeAttribute('value');\n        } else {\n            // set field value\n            field.value = action.value;\n        }\n        syncFieldPositionsWithItems(root);\n    };\n\n    var write$8 = createRoute({\n        DID_SET_DISABLED: didSetDisabled,\n        DID_ADD_ITEM: didAddItem,\n        DID_LOAD_ITEM: didLoadItem$1,\n        DID_REMOVE_ITEM: didRemoveItem,\n        DID_DEFINE_VALUE: didDefineValue,\n        DID_PREPARE_OUTPUT: didPrepareOutput,\n        DID_REORDER_ITEMS: didReorderItems,\n        DID_SORT_ITEMS: didReorderItems,\n    });\n\n    var data = createView({\n        tag: 'fieldset',\n        name: 'data',\n        create: create$c,\n        write: write$8,\n        ignoreRect: true,\n    });\n\n    var getRootNode = function getRootNode(element) {\n        return 'getRootNode' in element ? element.getRootNode() : document;\n    };\n\n    var images = ['jpg', 'jpeg', 'png', 'gif', 'bmp', 'webp', 'svg', 'tiff'];\n    var text$1 = ['css', 'csv', 'html', 'txt'];\n    var map = {\n        zip: 'zip|compressed',\n        epub: 'application/epub+zip',\n    };\n\n    var guesstimateMimeType = function guesstimateMimeType() {\n        var extension = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n        extension = extension.toLowerCase();\n        if (images.includes(extension)) {\n            return (\n                'image/' +\n                (extension === 'jpg' ? 'jpeg' : extension === 'svg' ? 'svg+xml' : extension)\n            );\n        }\n        if (text$1.includes(extension)) {\n            return 'text/' + extension;\n        }\n\n        return map[extension] || '';\n    };\n\n    var requestDataTransferItems = function requestDataTransferItems(dataTransfer) {\n        return new Promise(function(resolve, reject) {\n            // try to get links from transfer, if found we'll exit immediately (unless a file is in the dataTransfer as well, this is because Firefox could represent the file as a URL and a file object at the same time)\n            var links = getLinks(dataTransfer);\n            if (links.length && !hasFiles(dataTransfer)) {\n                return resolve(links);\n            }\n            // try to get files from the transfer\n            getFiles(dataTransfer).then(resolve);\n        });\n    };\n\n    /**\n     * Test if datatransfer has files\n     */\n    var hasFiles = function hasFiles(dataTransfer) {\n        if (dataTransfer.files) return dataTransfer.files.length > 0;\n        return false;\n    };\n\n    /**\n     * Extracts files from a DataTransfer object\n     */\n    var getFiles = function getFiles(dataTransfer) {\n        return new Promise(function(resolve, reject) {\n            // get the transfer items as promises\n            var promisedFiles = (dataTransfer.items ? Array.from(dataTransfer.items) : [])\n                // only keep file system items (files and directories)\n                .filter(function(item) {\n                    return isFileSystemItem(item);\n                })\n\n                // map each item to promise\n                .map(function(item) {\n                    return getFilesFromItem(item);\n                });\n\n            // if is empty, see if we can extract some info from the files property as a fallback\n            if (!promisedFiles.length) {\n                // TODO: test for directories (should not be allowed)\n                // Use FileReader, problem is that the files property gets lost in the process\n                resolve(dataTransfer.files ? Array.from(dataTransfer.files) : []);\n                return;\n            }\n\n            // done!\n            Promise.all(promisedFiles)\n                .then(function(returnedFileGroups) {\n                    // flatten groups\n                    var files = [];\n                    returnedFileGroups.forEach(function(group) {\n                        files.push.apply(files, group);\n                    });\n\n                    // done (filter out empty files)!\n                    resolve(\n                        files\n                            .filter(function(file) {\n                                return file;\n                            })\n                            .map(function(file) {\n                                if (!file._relativePath)\n                                    file._relativePath = file.webkitRelativePath;\n                                return file;\n                            })\n                    );\n                })\n                .catch(console.error);\n        });\n    };\n\n    var isFileSystemItem = function isFileSystemItem(item) {\n        if (isEntry(item)) {\n            var entry = getAsEntry(item);\n            if (entry) {\n                return entry.isFile || entry.isDirectory;\n            }\n        }\n        return item.kind === 'file';\n    };\n\n    var getFilesFromItem = function getFilesFromItem(item) {\n        return new Promise(function(resolve, reject) {\n            if (isDirectoryEntry(item)) {\n                getFilesInDirectory(getAsEntry(item))\n                    .then(resolve)\n                    .catch(reject);\n                return;\n            }\n\n            resolve([item.getAsFile()]);\n        });\n    };\n\n    var getFilesInDirectory = function getFilesInDirectory(entry) {\n        return new Promise(function(resolve, reject) {\n            var files = [];\n\n            // the total entries to read\n            var dirCounter = 0;\n            var fileCounter = 0;\n\n            var resolveIfDone = function resolveIfDone() {\n                if (fileCounter === 0 && dirCounter === 0) {\n                    resolve(files);\n                }\n            };\n\n            // the recursive function\n            var readEntries = function readEntries(dirEntry) {\n                dirCounter++;\n\n                var directoryReader = dirEntry.createReader();\n\n                // directories are returned in batches, we need to process all batches before we're done\n                var readBatch = function readBatch() {\n                    directoryReader.readEntries(function(entries) {\n                        if (entries.length === 0) {\n                            dirCounter--;\n                            resolveIfDone();\n                            return;\n                        }\n\n                        entries.forEach(function(entry) {\n                            // recursively read more directories\n                            if (entry.isDirectory) {\n                                readEntries(entry);\n                            } else {\n                                // read as file\n                                fileCounter++;\n\n                                entry.file(function(file) {\n                                    var correctedFile = correctMissingFileType(file);\n                                    if (entry.fullPath)\n                                        correctedFile._relativePath = entry.fullPath;\n                                    files.push(correctedFile);\n                                    fileCounter--;\n                                    resolveIfDone();\n                                });\n                            }\n                        });\n\n                        // try to get next batch of files\n                        readBatch();\n                    }, reject);\n                };\n\n                // read first batch of files\n                readBatch();\n            };\n\n            // go!\n            readEntries(entry);\n        });\n    };\n\n    var correctMissingFileType = function correctMissingFileType(file) {\n        if (file.type.length) return file;\n        var date = file.lastModifiedDate;\n        var name = file.name;\n        var type = guesstimateMimeType(getExtensionFromFilename(file.name));\n        if (!type.length) return file;\n        file = file.slice(0, file.size, type);\n        file.name = name;\n        file.lastModifiedDate = date;\n        return file;\n    };\n\n    var isDirectoryEntry = function isDirectoryEntry(item) {\n        return isEntry(item) && (getAsEntry(item) || {}).isDirectory;\n    };\n\n    var isEntry = function isEntry(item) {\n        return 'webkitGetAsEntry' in item;\n    };\n\n    var getAsEntry = function getAsEntry(item) {\n        return item.webkitGetAsEntry();\n    };\n\n    /**\n     * Extracts links from a DataTransfer object\n     */\n    var getLinks = function getLinks(dataTransfer) {\n        var links = [];\n        try {\n            // look in meta data property\n            links = getLinksFromTransferMetaData(dataTransfer);\n            if (links.length) {\n                return links;\n            }\n            links = getLinksFromTransferURLData(dataTransfer);\n        } catch (e) {\n            // nope nope nope (probably IE trouble)\n        }\n        return links;\n    };\n\n    var getLinksFromTransferURLData = function getLinksFromTransferURLData(dataTransfer) {\n        var data = dataTransfer.getData('url');\n        if (typeof data === 'string' && data.length) {\n            return [data];\n        }\n        return [];\n    };\n\n    var getLinksFromTransferMetaData = function getLinksFromTransferMetaData(dataTransfer) {\n        var data = dataTransfer.getData('text/html');\n        if (typeof data === 'string' && data.length) {\n            var matches = data.match(/src\\s*=\\s*\"(.+?)\"/);\n            if (matches) {\n                return [matches[1]];\n            }\n        }\n        return [];\n    };\n\n    var dragNDropObservers = [];\n\n    var eventPosition = function eventPosition(e) {\n        return {\n            pageLeft: e.pageX,\n            pageTop: e.pageY,\n            scopeLeft: e.offsetX || e.layerX,\n            scopeTop: e.offsetY || e.layerY,\n        };\n    };\n\n    var createDragNDropClient = function createDragNDropClient(\n        element,\n        scopeToObserve,\n        filterElement\n    ) {\n        var observer = getDragNDropObserver(scopeToObserve);\n\n        var client = {\n            element: element,\n            filterElement: filterElement,\n            state: null,\n            ondrop: function ondrop() {},\n            onenter: function onenter() {},\n            ondrag: function ondrag() {},\n            onexit: function onexit() {},\n            onload: function onload() {},\n            allowdrop: function allowdrop() {},\n        };\n\n        client.destroy = observer.addListener(client);\n\n        return client;\n    };\n\n    var getDragNDropObserver = function getDragNDropObserver(element) {\n        // see if already exists, if so, return\n        var observer = dragNDropObservers.find(function(item) {\n            return item.element === element;\n        });\n        if (observer) {\n            return observer;\n        }\n\n        // create new observer, does not yet exist for this element\n        var newObserver = createDragNDropObserver(element);\n        dragNDropObservers.push(newObserver);\n        return newObserver;\n    };\n\n    var createDragNDropObserver = function createDragNDropObserver(element) {\n        var clients = [];\n\n        var routes = {\n            dragenter: dragenter,\n            dragover: dragover,\n            dragleave: dragleave,\n            drop: drop,\n        };\n\n        var handlers = {};\n\n        forin(routes, function(event, createHandler) {\n            handlers[event] = createHandler(element, clients);\n            element.addEventListener(event, handlers[event], false);\n        });\n\n        var observer = {\n            element: element,\n            addListener: function addListener(client) {\n                // add as client\n                clients.push(client);\n\n                // return removeListener function\n                return function() {\n                    // remove client\n                    clients.splice(clients.indexOf(client), 1);\n\n                    // if no more clients, clean up observer\n                    if (clients.length === 0) {\n                        dragNDropObservers.splice(dragNDropObservers.indexOf(observer), 1);\n\n                        forin(routes, function(event) {\n                            element.removeEventListener(event, handlers[event], false);\n                        });\n                    }\n                };\n            },\n        };\n\n        return observer;\n    };\n\n    var elementFromPoint = function elementFromPoint(root, point) {\n        if (!('elementFromPoint' in root)) {\n            root = document;\n        }\n        return root.elementFromPoint(point.x, point.y);\n    };\n\n    var isEventTarget = function isEventTarget(e, target) {\n        // get root\n        var root = getRootNode(target);\n\n        // get element at position\n        // if root is not actual shadow DOM and does not have elementFromPoint method, use the one on document\n        var elementAtPosition = elementFromPoint(root, {\n            x: e.pageX - window.pageXOffset,\n            y: e.pageY - window.pageYOffset,\n        });\n\n        // test if target is the element or if one of its children is\n        return elementAtPosition === target || target.contains(elementAtPosition);\n    };\n\n    var initialTarget = null;\n\n    var setDropEffect = function setDropEffect(dataTransfer, effect) {\n        // is in try catch as IE11 will throw error if not\n        try {\n            dataTransfer.dropEffect = effect;\n        } catch (e) {}\n    };\n\n    var dragenter = function dragenter(root, clients) {\n        return function(e) {\n            e.preventDefault();\n\n            initialTarget = e.target;\n\n            clients.forEach(function(client) {\n                var element = client.element,\n                    onenter = client.onenter;\n\n                if (isEventTarget(e, element)) {\n                    client.state = 'enter';\n\n                    // fire enter event\n                    onenter(eventPosition(e));\n                }\n            });\n        };\n    };\n\n    var dragover = function dragover(root, clients) {\n        return function(e) {\n            e.preventDefault();\n\n            var dataTransfer = e.dataTransfer;\n\n            requestDataTransferItems(dataTransfer).then(function(items) {\n                var overDropTarget = false;\n\n                clients.some(function(client) {\n                    var filterElement = client.filterElement,\n                        element = client.element,\n                        onenter = client.onenter,\n                        onexit = client.onexit,\n                        ondrag = client.ondrag,\n                        allowdrop = client.allowdrop;\n\n                    // by default we can drop\n                    setDropEffect(dataTransfer, 'copy');\n\n                    // allow transfer of these items\n                    var allowsTransfer = allowdrop(items);\n\n                    // only used when can be dropped on page\n                    if (!allowsTransfer) {\n                        setDropEffect(dataTransfer, 'none');\n                        return;\n                    }\n\n                    // targetting this client\n                    if (isEventTarget(e, element)) {\n                        overDropTarget = true;\n\n                        // had no previous state, means we are entering this client\n                        if (client.state === null) {\n                            client.state = 'enter';\n                            onenter(eventPosition(e));\n                            return;\n                        }\n\n                        // now over element (no matter if it allows the drop or not)\n                        client.state = 'over';\n\n                        // needs to allow transfer\n                        if (filterElement && !allowsTransfer) {\n                            setDropEffect(dataTransfer, 'none');\n                            return;\n                        }\n\n                        // dragging\n                        ondrag(eventPosition(e));\n                    } else {\n                        // should be over an element to drop\n                        if (filterElement && !overDropTarget) {\n                            setDropEffect(dataTransfer, 'none');\n                        }\n\n                        // might have just left this client?\n                        if (client.state) {\n                            client.state = null;\n                            onexit(eventPosition(e));\n                        }\n                    }\n                });\n            });\n        };\n    };\n\n    var drop = function drop(root, clients) {\n        return function(e) {\n            e.preventDefault();\n\n            var dataTransfer = e.dataTransfer;\n\n            requestDataTransferItems(dataTransfer).then(function(items) {\n                clients.forEach(function(client) {\n                    var filterElement = client.filterElement,\n                        element = client.element,\n                        ondrop = client.ondrop,\n                        onexit = client.onexit,\n                        allowdrop = client.allowdrop;\n\n                    client.state = null;\n\n                    // if we're filtering on element we need to be over the element to drop\n                    if (filterElement && !isEventTarget(e, element)) return;\n\n                    // no transfer for this client\n                    if (!allowdrop(items)) return onexit(eventPosition(e));\n\n                    // we can drop these items on this client\n                    ondrop(eventPosition(e), items);\n                });\n            });\n        };\n    };\n\n    var dragleave = function dragleave(root, clients) {\n        return function(e) {\n            if (initialTarget !== e.target) {\n                return;\n            }\n\n            clients.forEach(function(client) {\n                var onexit = client.onexit;\n\n                client.state = null;\n\n                onexit(eventPosition(e));\n            });\n        };\n    };\n\n    var createHopper = function createHopper(scope, validateItems, options) {\n        // is now hopper scope\n        scope.classList.add('filepond--hopper');\n\n        // shortcuts\n        var catchesDropsOnPage = options.catchesDropsOnPage,\n            requiresDropOnElement = options.requiresDropOnElement,\n            _options$filterItems = options.filterItems,\n            filterItems =\n                _options$filterItems === void 0\n                    ? function(items) {\n                          return items;\n                      }\n                    : _options$filterItems;\n\n        // create a dnd client\n        var client = createDragNDropClient(\n            scope,\n            catchesDropsOnPage ? document.documentElement : scope,\n            requiresDropOnElement\n        );\n\n        // current client state\n        var lastState = '';\n        var currentState = '';\n\n        // determines if a file may be dropped\n        client.allowdrop = function(items) {\n            // TODO: if we can, throw error to indicate the items cannot by dropped\n\n            return validateItems(filterItems(items));\n        };\n\n        client.ondrop = function(position, items) {\n            var filteredItems = filterItems(items);\n\n            if (!validateItems(filteredItems)) {\n                api.ondragend(position);\n                return;\n            }\n\n            currentState = 'drag-drop';\n\n            api.onload(filteredItems, position);\n        };\n\n        client.ondrag = function(position) {\n            api.ondrag(position);\n        };\n\n        client.onenter = function(position) {\n            currentState = 'drag-over';\n\n            api.ondragstart(position);\n        };\n\n        client.onexit = function(position) {\n            currentState = 'drag-exit';\n\n            api.ondragend(position);\n        };\n\n        var api = {\n            updateHopperState: function updateHopperState() {\n                if (lastState !== currentState) {\n                    scope.dataset.hopperState = currentState;\n                    lastState = currentState;\n                }\n            },\n            onload: function onload() {},\n            ondragstart: function ondragstart() {},\n            ondrag: function ondrag() {},\n            ondragend: function ondragend() {},\n            destroy: function destroy() {\n                // destroy client\n                client.destroy();\n            },\n        };\n\n        return api;\n    };\n\n    var listening = false;\n    var listeners$1 = [];\n\n    var handlePaste = function handlePaste(e) {\n        // if is pasting in input or textarea and the target is outside of a filepond scope, ignore\n        var activeEl = document.activeElement;\n        if (activeEl && /textarea|input/i.test(activeEl.nodeName)) {\n            // test textarea or input is contained in filepond root\n            var inScope = false;\n            var element = activeEl;\n            while (element !== document.body) {\n                if (element.classList.contains('filepond--root')) {\n                    inScope = true;\n                    break;\n                }\n                element = element.parentNode;\n            }\n\n            if (!inScope) return;\n        }\n\n        requestDataTransferItems(e.clipboardData).then(function(files) {\n            // no files received\n            if (!files.length) {\n                return;\n            }\n\n            // notify listeners of received files\n            listeners$1.forEach(function(listener) {\n                return listener(files);\n            });\n        });\n    };\n\n    var listen = function listen(cb) {\n        // can't add twice\n        if (listeners$1.includes(cb)) {\n            return;\n        }\n\n        // add initial listener\n        listeners$1.push(cb);\n\n        // setup paste listener for entire page\n        if (listening) {\n            return;\n        }\n\n        listening = true;\n        document.addEventListener('paste', handlePaste);\n    };\n\n    var unlisten = function unlisten(listener) {\n        arrayRemove(listeners$1, listeners$1.indexOf(listener));\n\n        // clean up\n        if (listeners$1.length === 0) {\n            document.removeEventListener('paste', handlePaste);\n            listening = false;\n        }\n    };\n\n    var createPaster = function createPaster() {\n        var cb = function cb(files) {\n            api.onload(files);\n        };\n\n        var api = {\n            destroy: function destroy() {\n                unlisten(cb);\n            },\n            onload: function onload() {},\n        };\n\n        listen(cb);\n\n        return api;\n    };\n\n    /**\n     * Creates the file view\n     */\n    var create$d = function create(_ref) {\n        var root = _ref.root,\n            props = _ref.props;\n        root.element.id = 'filepond--assistant-' + props.id;\n        attr(root.element, 'role', 'status');\n        attr(root.element, 'aria-live', 'polite');\n        attr(root.element, 'aria-relevant', 'additions');\n    };\n\n    var addFilesNotificationTimeout = null;\n    var notificationClearTimeout = null;\n\n    var filenames = [];\n\n    var assist = function assist(root, message) {\n        root.element.textContent = message;\n    };\n\n    var clear$1 = function clear(root) {\n        root.element.textContent = '';\n    };\n\n    var listModified = function listModified(root, filename, label) {\n        var total = root.query('GET_TOTAL_ITEMS');\n        assist(\n            root,\n            label +\n                ' ' +\n                filename +\n                ', ' +\n                total +\n                ' ' +\n                (total === 1\n                    ? root.query('GET_LABEL_FILE_COUNT_SINGULAR')\n                    : root.query('GET_LABEL_FILE_COUNT_PLURAL'))\n        );\n\n        // clear group after set amount of time so the status is not read twice\n        clearTimeout(notificationClearTimeout);\n        notificationClearTimeout = setTimeout(function() {\n            clear$1(root);\n        }, 1500);\n    };\n\n    var isUsingFilePond = function isUsingFilePond(root) {\n        return root.element.parentNode.contains(document.activeElement);\n    };\n\n    var itemAdded = function itemAdded(_ref2) {\n        var root = _ref2.root,\n            action = _ref2.action;\n        if (!isUsingFilePond(root)) {\n            return;\n        }\n\n        root.element.textContent = '';\n        var item = root.query('GET_ITEM', action.id);\n        filenames.push(item.filename);\n\n        clearTimeout(addFilesNotificationTimeout);\n        addFilesNotificationTimeout = setTimeout(function() {\n            listModified(root, filenames.join(', '), root.query('GET_LABEL_FILE_ADDED'));\n\n            filenames.length = 0;\n        }, 750);\n    };\n\n    var itemRemoved = function itemRemoved(_ref3) {\n        var root = _ref3.root,\n            action = _ref3.action;\n        if (!isUsingFilePond(root)) {\n            return;\n        }\n\n        var item = action.item;\n        listModified(root, item.filename, root.query('GET_LABEL_FILE_REMOVED'));\n    };\n\n    var itemProcessed = function itemProcessed(_ref4) {\n        var root = _ref4.root,\n            action = _ref4.action;\n        // will also notify the user when FilePond is not being used, as the user might be occupied with other activities while uploading a file\n\n        var item = root.query('GET_ITEM', action.id);\n        var filename = item.filename;\n        var label = root.query('GET_LABEL_FILE_PROCESSING_COMPLETE');\n\n        assist(root, filename + ' ' + label);\n    };\n\n    var itemProcessedUndo = function itemProcessedUndo(_ref5) {\n        var root = _ref5.root,\n            action = _ref5.action;\n        var item = root.query('GET_ITEM', action.id);\n        var filename = item.filename;\n        var label = root.query('GET_LABEL_FILE_PROCESSING_ABORTED');\n\n        assist(root, filename + ' ' + label);\n    };\n\n    var itemError = function itemError(_ref6) {\n        var root = _ref6.root,\n            action = _ref6.action;\n        var item = root.query('GET_ITEM', action.id);\n        var filename = item.filename;\n\n        // will also notify the user when FilePond is not being used, as the user might be occupied with other activities while uploading a file\n\n        assist(root, action.status.main + ' ' + filename + ' ' + action.status.sub);\n    };\n\n    var assistant = createView({\n        create: create$d,\n        ignoreRect: true,\n        ignoreRectUpdate: true,\n        write: createRoute({\n            DID_LOAD_ITEM: itemAdded,\n            DID_REMOVE_ITEM: itemRemoved,\n            DID_COMPLETE_ITEM_PROCESSING: itemProcessed,\n\n            DID_ABORT_ITEM_PROCESSING: itemProcessedUndo,\n            DID_REVERT_ITEM_PROCESSING: itemProcessedUndo,\n\n            DID_THROW_ITEM_REMOVE_ERROR: itemError,\n            DID_THROW_ITEM_LOAD_ERROR: itemError,\n            DID_THROW_ITEM_INVALID: itemError,\n            DID_THROW_ITEM_PROCESSING_ERROR: itemError,\n        }),\n\n        tag: 'span',\n        name: 'assistant',\n    });\n\n    var toCamels = function toCamels(string) {\n        var separator = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '-';\n        return string.replace(new RegExp(separator + '.', 'g'), function(sub) {\n            return sub.charAt(1).toUpperCase();\n        });\n    };\n\n    var debounce = function debounce(func) {\n        var interval = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 16;\n        var immidiateOnly =\n            arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n        var last = Date.now();\n        var timeout = null;\n\n        return function() {\n            for (\n                var _len = arguments.length, args = new Array(_len), _key = 0;\n                _key < _len;\n                _key++\n            ) {\n                args[_key] = arguments[_key];\n            }\n            clearTimeout(timeout);\n\n            var dist = Date.now() - last;\n\n            var fn = function fn() {\n                last = Date.now();\n                func.apply(void 0, args);\n            };\n\n            if (dist < interval) {\n                // we need to delay by the difference between interval and dist\n                // for example: if distance is 10 ms and interval is 16 ms,\n                // we need to wait an additional 6ms before calling the function)\n                if (!immidiateOnly) {\n                    timeout = setTimeout(fn, interval - dist);\n                }\n            } else {\n                // go!\n                fn();\n            }\n        };\n    };\n\n    var MAX_FILES_LIMIT = 1000000;\n\n    var prevent = function prevent(e) {\n        return e.preventDefault();\n    };\n\n    var create$e = function create(_ref) {\n        var root = _ref.root,\n            props = _ref.props;\n        // Add id\n        var id = root.query('GET_ID');\n        if (id) {\n            root.element.id = id;\n        }\n\n        // Add className\n        var className = root.query('GET_CLASS_NAME');\n        if (className) {\n            className\n                .split(' ')\n                .filter(function(name) {\n                    return name.length;\n                })\n                .forEach(function(name) {\n                    root.element.classList.add(name);\n                });\n        }\n\n        // Field label\n        root.ref.label = root.appendChildView(\n            root.createChildView(\n                dropLabel,\n                Object.assign({}, props, {\n                    translateY: null,\n                    caption: root.query('GET_LABEL_IDLE'),\n                })\n            )\n        );\n\n        // List of items\n        root.ref.list = root.appendChildView(\n            root.createChildView(listScroller, { translateY: null })\n        );\n\n        // Background panel\n        root.ref.panel = root.appendChildView(root.createChildView(panel, { name: 'panel-root' }));\n\n        // Assistant notifies assistive tech when content changes\n        root.ref.assistant = root.appendChildView(\n            root.createChildView(assistant, Object.assign({}, props))\n        );\n\n        // Data\n        root.ref.data = root.appendChildView(root.createChildView(data, Object.assign({}, props)));\n\n        // Measure (tests if fixed height was set)\n        // DOCTYPE needs to be set for this to work\n        root.ref.measure = createElement$1('div');\n        root.ref.measure.style.height = '100%';\n        root.element.appendChild(root.ref.measure);\n\n        // information on the root height or fixed height status\n        root.ref.bounds = null;\n\n        // apply initial style properties\n        root.query('GET_STYLES')\n            .filter(function(style) {\n                return !isEmpty(style.value);\n            })\n            .map(function(_ref2) {\n                var name = _ref2.name,\n                    value = _ref2.value;\n                root.element.dataset[name] = value;\n            });\n\n        // determine if width changed\n        root.ref.widthPrevious = null;\n        root.ref.widthUpdated = debounce(function() {\n            root.ref.updateHistory = [];\n            root.dispatch('DID_RESIZE_ROOT');\n        }, 250);\n\n        // history of updates\n        root.ref.previousAspectRatio = null;\n        root.ref.updateHistory = [];\n\n        // prevent scrolling and zooming on iOS (only if supports pointer events, for then we can enable reorder)\n        var canHover = window.matchMedia('(pointer: fine) and (hover: hover)').matches;\n        var hasPointerEvents = 'PointerEvent' in window;\n        if (root.query('GET_ALLOW_REORDER') && hasPointerEvents && !canHover) {\n            root.element.addEventListener('touchmove', prevent, { passive: false });\n            root.element.addEventListener('gesturestart', prevent);\n        }\n\n        // add credits\n        var credits = root.query('GET_CREDITS');\n        var hasCredits = credits.length === 2;\n        if (hasCredits) {\n            var frag = document.createElement('a');\n            frag.className = 'filepond--credits';\n            frag.setAttribute('aria-hidden', 'true');\n            frag.href = credits[0];\n            frag.tabindex = -1;\n            frag.target = '_blank';\n            frag.rel = 'noopener noreferrer';\n            frag.textContent = credits[1];\n            root.element.appendChild(frag);\n            root.ref.credits = frag;\n        }\n    };\n\n    var write$9 = function write(_ref3) {\n        var root = _ref3.root,\n            props = _ref3.props,\n            actions = _ref3.actions;\n        // route actions\n        route$5({ root: root, props: props, actions: actions });\n\n        // apply style properties\n        actions\n            .filter(function(action) {\n                return /^DID_SET_STYLE_/.test(action.type);\n            })\n            .filter(function(action) {\n                return !isEmpty(action.data.value);\n            })\n            .map(function(_ref4) {\n                var type = _ref4.type,\n                    data = _ref4.data;\n                var name = toCamels(type.substring(8).toLowerCase(), '_');\n                root.element.dataset[name] = data.value;\n                root.invalidateLayout();\n            });\n\n        if (root.rect.element.hidden) return;\n\n        if (root.rect.element.width !== root.ref.widthPrevious) {\n            root.ref.widthPrevious = root.rect.element.width;\n            root.ref.widthUpdated();\n        }\n\n        // get box bounds, we do this only once\n        var bounds = root.ref.bounds;\n        if (!bounds) {\n            bounds = root.ref.bounds = calculateRootBoundingBoxHeight(root);\n\n            // destroy measure element\n            root.element.removeChild(root.ref.measure);\n            root.ref.measure = null;\n        }\n\n        // get quick references to various high level parts of the upload tool\n        var _root$ref = root.ref,\n            hopper = _root$ref.hopper,\n            label = _root$ref.label,\n            list = _root$ref.list,\n            panel = _root$ref.panel;\n\n        // sets correct state to hopper scope\n        if (hopper) {\n            hopper.updateHopperState();\n        }\n\n        // bool to indicate if we're full or not\n        var aspectRatio = root.query('GET_PANEL_ASPECT_RATIO');\n        var isMultiItem = root.query('GET_ALLOW_MULTIPLE');\n        var totalItems = root.query('GET_TOTAL_ITEMS');\n        var maxItems = isMultiItem ? root.query('GET_MAX_FILES') || MAX_FILES_LIMIT : 1;\n        var atMaxCapacity = totalItems === maxItems;\n\n        // action used to add item\n        var addAction = actions.find(function(action) {\n            return action.type === 'DID_ADD_ITEM';\n        });\n\n        // if reached max capacity and we've just reached it\n        if (atMaxCapacity && addAction) {\n            // get interaction type\n            var interactionMethod = addAction.data.interactionMethod;\n\n            // hide label\n            label.opacity = 0;\n\n            if (isMultiItem) {\n                label.translateY = -40;\n            } else {\n                if (interactionMethod === InteractionMethod.API) {\n                    label.translateX = 40;\n                } else if (interactionMethod === InteractionMethod.BROWSE) {\n                    label.translateY = 40;\n                } else {\n                    label.translateY = 30;\n                }\n            }\n        } else if (!atMaxCapacity) {\n            label.opacity = 1;\n            label.translateX = 0;\n            label.translateY = 0;\n        }\n\n        var listItemMargin = calculateListItemMargin(root);\n\n        var listHeight = calculateListHeight(root);\n\n        var labelHeight = label.rect.element.height;\n        var currentLabelHeight = !isMultiItem || atMaxCapacity ? 0 : labelHeight;\n\n        var listMarginTop = atMaxCapacity ? list.rect.element.marginTop : 0;\n        var listMarginBottom = totalItems === 0 ? 0 : list.rect.element.marginBottom;\n\n        var visualHeight =\n            currentLabelHeight + listMarginTop + listHeight.visual + listMarginBottom;\n        var boundsHeight =\n            currentLabelHeight + listMarginTop + listHeight.bounds + listMarginBottom;\n\n        // link list to label bottom position\n        list.translateY =\n            Math.max(0, currentLabelHeight - list.rect.element.marginTop) - listItemMargin.top;\n\n        if (aspectRatio) {\n            // fixed aspect ratio\n\n            // calculate height based on width\n            var width = root.rect.element.width;\n            var height = width * aspectRatio;\n\n            // clear history if aspect ratio has changed\n            if (aspectRatio !== root.ref.previousAspectRatio) {\n                root.ref.previousAspectRatio = aspectRatio;\n                root.ref.updateHistory = [];\n            }\n\n            // remember this width\n            var history = root.ref.updateHistory;\n            history.push(width);\n\n            var MAX_BOUNCES = 2;\n            if (history.length > MAX_BOUNCES * 2) {\n                var l = history.length;\n                var bottom = l - 10;\n                var bounces = 0;\n                for (var i = l; i >= bottom; i--) {\n                    if (history[i] === history[i - 2]) {\n                        bounces++;\n                    }\n\n                    if (bounces >= MAX_BOUNCES) {\n                        // dont adjust height\n                        return;\n                    }\n                }\n            }\n\n            // fix height of panel so it adheres to aspect ratio\n            panel.scalable = false;\n            panel.height = height;\n\n            // available height for list\n            var listAvailableHeight =\n                // the height of the panel minus the label height\n                height -\n                currentLabelHeight -\n                // the room we leave open between the end of the list and the panel bottom\n                (listMarginBottom - listItemMargin.bottom) -\n                // if we're full we need to leave some room between the top of the panel and the list\n                (atMaxCapacity ? listMarginTop : 0);\n\n            if (listHeight.visual > listAvailableHeight) {\n                list.overflow = listAvailableHeight;\n            } else {\n                list.overflow = null;\n            }\n\n            // set container bounds (so pushes siblings downwards)\n            root.height = height;\n        } else if (bounds.fixedHeight) {\n            // fixed height\n\n            // fix height of panel\n            panel.scalable = false;\n\n            // available height for list\n            var _listAvailableHeight =\n                // the height of the panel minus the label height\n                bounds.fixedHeight -\n                currentLabelHeight -\n                // the room we leave open between the end of the list and the panel bottom\n                (listMarginBottom - listItemMargin.bottom) -\n                // if we're full we need to leave some room between the top of the panel and the list\n                (atMaxCapacity ? listMarginTop : 0);\n\n            // set list height\n            if (listHeight.visual > _listAvailableHeight) {\n                list.overflow = _listAvailableHeight;\n            } else {\n                list.overflow = null;\n            }\n\n            // no need to set container bounds as these are handles by CSS fixed height\n        } else if (bounds.cappedHeight) {\n            // max-height\n\n            // not a fixed height panel\n            var isCappedHeight = visualHeight >= bounds.cappedHeight;\n            var panelHeight = Math.min(bounds.cappedHeight, visualHeight);\n            panel.scalable = true;\n            panel.height = isCappedHeight\n                ? panelHeight\n                : panelHeight - listItemMargin.top - listItemMargin.bottom;\n\n            // available height for list\n            var _listAvailableHeight2 =\n                // the height of the panel minus the label height\n                panelHeight -\n                currentLabelHeight -\n                // the room we leave open between the end of the list and the panel bottom\n                (listMarginBottom - listItemMargin.bottom) -\n                // if we're full we need to leave some room between the top of the panel and the list\n                (atMaxCapacity ? listMarginTop : 0);\n\n            // set list height (if is overflowing)\n            if (visualHeight > bounds.cappedHeight && listHeight.visual > _listAvailableHeight2) {\n                list.overflow = _listAvailableHeight2;\n            } else {\n                list.overflow = null;\n            }\n\n            // set container bounds (so pushes siblings downwards)\n            root.height = Math.min(\n                bounds.cappedHeight,\n                boundsHeight - listItemMargin.top - listItemMargin.bottom\n            );\n        } else {\n            // flexible height\n\n            // not a fixed height panel\n            var itemMargin = totalItems > 0 ? listItemMargin.top + listItemMargin.bottom : 0;\n            panel.scalable = true;\n            panel.height = Math.max(labelHeight, visualHeight - itemMargin);\n\n            // set container bounds (so pushes siblings downwards)\n            root.height = Math.max(labelHeight, boundsHeight - itemMargin);\n        }\n\n        // move credits to bottom\n        if (root.ref.credits && panel.heightCurrent)\n            root.ref.credits.style.transform = 'translateY(' + panel.heightCurrent + 'px)';\n    };\n\n    var calculateListItemMargin = function calculateListItemMargin(root) {\n        var item = root.ref.list.childViews[0].childViews[0];\n        return item\n            ? {\n                  top: item.rect.element.marginTop,\n                  bottom: item.rect.element.marginBottom,\n              }\n            : {\n                  top: 0,\n                  bottom: 0,\n              };\n    };\n\n    var calculateListHeight = function calculateListHeight(root) {\n        var visual = 0;\n        var bounds = 0;\n\n        // get file list reference\n        var scrollList = root.ref.list;\n        var itemList = scrollList.childViews[0];\n        var visibleChildren = itemList.childViews.filter(function(child) {\n            return child.rect.element.height;\n        });\n        var children = root\n            .query('GET_ACTIVE_ITEMS')\n            .map(function(item) {\n                return visibleChildren.find(function(child) {\n                    return child.id === item.id;\n                });\n            })\n            .filter(function(item) {\n                return item;\n            });\n\n        // no children, done!\n        if (children.length === 0) return { visual: visual, bounds: bounds };\n\n        var horizontalSpace = itemList.rect.element.width;\n        var dragIndex = getItemIndexByPosition(itemList, children, scrollList.dragCoordinates);\n\n        var childRect = children[0].rect.element;\n\n        var itemVerticalMargin = childRect.marginTop + childRect.marginBottom;\n        var itemHorizontalMargin = childRect.marginLeft + childRect.marginRight;\n\n        var itemWidth = childRect.width + itemHorizontalMargin;\n        var itemHeight = childRect.height + itemVerticalMargin;\n\n        var newItem = typeof dragIndex !== 'undefined' && dragIndex >= 0 ? 1 : 0;\n        var removedItem = children.find(function(child) {\n            return child.markedForRemoval && child.opacity < 0.45;\n        })\n            ? -1\n            : 0;\n        var verticalItemCount = children.length + newItem + removedItem;\n        var itemsPerRow = getItemsPerRow(horizontalSpace, itemWidth);\n\n        // stack\n        if (itemsPerRow === 1) {\n            children.forEach(function(item) {\n                var height = item.rect.element.height + itemVerticalMargin;\n                bounds += height;\n                visual += height * item.opacity;\n            });\n        }\n        // grid\n        else {\n            bounds = Math.ceil(verticalItemCount / itemsPerRow) * itemHeight;\n            visual = bounds;\n        }\n\n        return { visual: visual, bounds: bounds };\n    };\n\n    var calculateRootBoundingBoxHeight = function calculateRootBoundingBoxHeight(root) {\n        var height = root.ref.measureHeight || null;\n        var cappedHeight = parseInt(root.style.maxHeight, 10) || null;\n        var fixedHeight = height === 0 ? null : height;\n\n        return {\n            cappedHeight: cappedHeight,\n            fixedHeight: fixedHeight,\n        };\n    };\n\n    var exceedsMaxFiles = function exceedsMaxFiles(root, items) {\n        var allowReplace = root.query('GET_ALLOW_REPLACE');\n        var allowMultiple = root.query('GET_ALLOW_MULTIPLE');\n        var totalItems = root.query('GET_TOTAL_ITEMS');\n        var maxItems = root.query('GET_MAX_FILES');\n\n        // total amount of items being dragged\n        var totalBrowseItems = items.length;\n\n        // if does not allow multiple items and dragging more than one item\n        if (!allowMultiple && totalBrowseItems > 1) {\n            root.dispatch('DID_THROW_MAX_FILES', {\n                source: items,\n                error: createResponse('warning', 0, 'Max files'),\n            });\n\n            return true;\n        }\n\n        // limit max items to one if not allowed to drop multiple items\n        maxItems = allowMultiple ? maxItems : 1;\n\n        if (!allowMultiple && allowReplace) {\n            // There is only one item, so there is room to replace or add an item\n            return false;\n        }\n\n        // no more room?\n        var hasMaxItems = isInt(maxItems);\n        if (hasMaxItems && totalItems + totalBrowseItems > maxItems) {\n            root.dispatch('DID_THROW_MAX_FILES', {\n                source: items,\n                error: createResponse('warning', 0, 'Max files'),\n            });\n\n            return true;\n        }\n\n        return false;\n    };\n\n    var getDragIndex = function getDragIndex(list, children, position) {\n        var itemList = list.childViews[0];\n        return getItemIndexByPosition(itemList, children, {\n            left: position.scopeLeft - itemList.rect.element.left,\n            top:\n                position.scopeTop -\n                (list.rect.outer.top + list.rect.element.marginTop + list.rect.element.scrollTop),\n        });\n    };\n\n    /**\n     * Enable or disable file drop functionality\n     */\n    var toggleDrop = function toggleDrop(root) {\n        var isAllowed = root.query('GET_ALLOW_DROP');\n        var isDisabled = root.query('GET_DISABLED');\n        var enabled = isAllowed && !isDisabled;\n        if (enabled && !root.ref.hopper) {\n            var hopper = createHopper(\n                root.element,\n                function(items) {\n                    // allow quick validation of dropped items\n                    var beforeDropFile =\n                        root.query('GET_BEFORE_DROP_FILE') ||\n                        function() {\n                            return true;\n                        };\n\n                    // all items should be validated by all filters as valid\n                    var dropValidation = root.query('GET_DROP_VALIDATION');\n                    return dropValidation\n                        ? items.every(function(item) {\n                              return (\n                                  applyFilters('ALLOW_HOPPER_ITEM', item, {\n                                      query: root.query,\n                                  }).every(function(result) {\n                                      return result === true;\n                                  }) && beforeDropFile(item)\n                              );\n                          })\n                        : true;\n                },\n                {\n                    filterItems: function filterItems(items) {\n                        var ignoredFiles = root.query('GET_IGNORED_FILES');\n                        return items.filter(function(item) {\n                            if (isFile(item)) {\n                                return !ignoredFiles.includes(item.name.toLowerCase());\n                            }\n                            return true;\n                        });\n                    },\n                    catchesDropsOnPage: root.query('GET_DROP_ON_PAGE'),\n                    requiresDropOnElement: root.query('GET_DROP_ON_ELEMENT'),\n                }\n            );\n\n            hopper.onload = function(items, position) {\n                // get item children elements and sort based on list sort\n                var list = root.ref.list.childViews[0];\n                var visibleChildren = list.childViews.filter(function(child) {\n                    return child.rect.element.height;\n                });\n                var children = root\n                    .query('GET_ACTIVE_ITEMS')\n                    .map(function(item) {\n                        return visibleChildren.find(function(child) {\n                            return child.id === item.id;\n                        });\n                    })\n                    .filter(function(item) {\n                        return item;\n                    });\n\n                applyFilterChain('ADD_ITEMS', items, { dispatch: root.dispatch }).then(function(\n                    queue\n                ) {\n                    // these files don't fit so stop here\n                    if (exceedsMaxFiles(root, queue)) return false;\n\n                    // go\n                    root.dispatch('ADD_ITEMS', {\n                        items: queue,\n                        index: getDragIndex(root.ref.list, children, position),\n                        interactionMethod: InteractionMethod.DROP,\n                    });\n                });\n\n                root.dispatch('DID_DROP', { position: position });\n\n                root.dispatch('DID_END_DRAG', { position: position });\n            };\n\n            hopper.ondragstart = function(position) {\n                root.dispatch('DID_START_DRAG', { position: position });\n            };\n\n            hopper.ondrag = debounce(function(position) {\n                root.dispatch('DID_DRAG', { position: position });\n            });\n\n            hopper.ondragend = function(position) {\n                root.dispatch('DID_END_DRAG', { position: position });\n            };\n\n            root.ref.hopper = hopper;\n\n            root.ref.drip = root.appendChildView(root.createChildView(drip));\n        } else if (!enabled && root.ref.hopper) {\n            root.ref.hopper.destroy();\n            root.ref.hopper = null;\n            root.removeChildView(root.ref.drip);\n        }\n    };\n\n    /**\n     * Enable or disable browse functionality\n     */\n    var toggleBrowse = function toggleBrowse(root, props) {\n        var isAllowed = root.query('GET_ALLOW_BROWSE');\n        var isDisabled = root.query('GET_DISABLED');\n        var enabled = isAllowed && !isDisabled;\n        if (enabled && !root.ref.browser) {\n            root.ref.browser = root.appendChildView(\n                root.createChildView(\n                    browser,\n                    Object.assign({}, props, {\n                        onload: function onload(items) {\n                            applyFilterChain('ADD_ITEMS', items, {\n                                dispatch: root.dispatch,\n                            }).then(function(queue) {\n                                // these files don't fit so stop here\n                                if (exceedsMaxFiles(root, queue)) return false;\n\n                                // add items!\n                                root.dispatch('ADD_ITEMS', {\n                                    items: queue,\n                                    index: -1,\n                                    interactionMethod: InteractionMethod.BROWSE,\n                                });\n                            });\n                        },\n                    })\n                ),\n\n                0\n            );\n        } else if (!enabled && root.ref.browser) {\n            root.removeChildView(root.ref.browser);\n            root.ref.browser = null;\n        }\n    };\n\n    /**\n     * Enable or disable paste functionality\n     */\n    var togglePaste = function togglePaste(root) {\n        var isAllowed = root.query('GET_ALLOW_PASTE');\n        var isDisabled = root.query('GET_DISABLED');\n        var enabled = isAllowed && !isDisabled;\n        if (enabled && !root.ref.paster) {\n            root.ref.paster = createPaster();\n            root.ref.paster.onload = function(items) {\n                applyFilterChain('ADD_ITEMS', items, { dispatch: root.dispatch }).then(function(\n                    queue\n                ) {\n                    // these files don't fit so stop here\n                    if (exceedsMaxFiles(root, queue)) return false;\n\n                    // add items!\n                    root.dispatch('ADD_ITEMS', {\n                        items: queue,\n                        index: -1,\n                        interactionMethod: InteractionMethod.PASTE,\n                    });\n                });\n            };\n        } else if (!enabled && root.ref.paster) {\n            root.ref.paster.destroy();\n            root.ref.paster = null;\n        }\n    };\n\n    /**\n     * Route actions\n     */\n    var route$5 = createRoute({\n        DID_SET_ALLOW_BROWSE: function DID_SET_ALLOW_BROWSE(_ref5) {\n            var root = _ref5.root,\n                props = _ref5.props;\n            toggleBrowse(root, props);\n        },\n        DID_SET_ALLOW_DROP: function DID_SET_ALLOW_DROP(_ref6) {\n            var root = _ref6.root;\n            toggleDrop(root);\n        },\n        DID_SET_ALLOW_PASTE: function DID_SET_ALLOW_PASTE(_ref7) {\n            var root = _ref7.root;\n            togglePaste(root);\n        },\n        DID_SET_DISABLED: function DID_SET_DISABLED(_ref8) {\n            var root = _ref8.root,\n                props = _ref8.props;\n            toggleDrop(root);\n            togglePaste(root);\n            toggleBrowse(root, props);\n            var isDisabled = root.query('GET_DISABLED');\n            if (isDisabled) {\n                root.element.dataset.disabled = 'disabled';\n            } else {\n                // delete root.element.dataset.disabled; <= this does not work on iOS 10\n                root.element.removeAttribute('data-disabled');\n            }\n        },\n    });\n\n    var root = createView({\n        name: 'root',\n        read: function read(_ref9) {\n            var root = _ref9.root;\n            if (root.ref.measure) {\n                root.ref.measureHeight = root.ref.measure.offsetHeight;\n            }\n        },\n        create: create$e,\n        write: write$9,\n        destroy: function destroy(_ref10) {\n            var root = _ref10.root;\n            if (root.ref.paster) {\n                root.ref.paster.destroy();\n            }\n            if (root.ref.hopper) {\n                root.ref.hopper.destroy();\n            }\n            root.element.removeEventListener('touchmove', prevent);\n            root.element.removeEventListener('gesturestart', prevent);\n        },\n        mixins: {\n            styles: ['height'],\n        },\n    });\n\n    // creates the app\n    var createApp = function createApp() {\n        var initialOptions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        // let element\n        var originalElement = null;\n\n        // get default options\n        var defaultOptions = getOptions();\n\n        // create the data store, this will contain all our app info\n        var store = createStore(\n            // initial state (should be serializable)\n            createInitialState(defaultOptions),\n\n            // queries\n            [queries, createOptionQueries(defaultOptions)],\n\n            // action handlers\n            [actions, createOptionActions(defaultOptions)]\n        );\n\n        // set initial options\n        store.dispatch('SET_OPTIONS', { options: initialOptions });\n\n        // kick thread if visibility changes\n        var visibilityHandler = function visibilityHandler() {\n            if (document.hidden) return;\n            store.dispatch('KICK');\n        };\n        document.addEventListener('visibilitychange', visibilityHandler);\n\n        // re-render on window resize start and finish\n        var resizeDoneTimer = null;\n        var isResizing = false;\n        var isResizingHorizontally = false;\n        var initialWindowWidth = null;\n        var currentWindowWidth = null;\n        var resizeHandler = function resizeHandler() {\n            if (!isResizing) {\n                isResizing = true;\n            }\n            clearTimeout(resizeDoneTimer);\n            resizeDoneTimer = setTimeout(function() {\n                isResizing = false;\n                initialWindowWidth = null;\n                currentWindowWidth = null;\n                if (isResizingHorizontally) {\n                    isResizingHorizontally = false;\n                    store.dispatch('DID_STOP_RESIZE');\n                }\n            }, 500);\n        };\n        window.addEventListener('resize', resizeHandler);\n\n        // render initial view\n        var view = root(store, { id: getUniqueId() });\n\n        //\n        // PRIVATE API -------------------------------------------------------------------------------------\n        //\n        var isResting = false;\n        var isHidden = false;\n\n        var readWriteApi = {\n            // necessary for update loop\n\n            /**\n             * Reads from dom (never call manually)\n             * @private\n             */\n            _read: function _read() {\n                // test if we're resizing horizontally\n                // TODO: see if we can optimize this by measuring root rect\n                if (isResizing) {\n                    currentWindowWidth = window.innerWidth;\n                    if (!initialWindowWidth) {\n                        initialWindowWidth = currentWindowWidth;\n                    }\n\n                    if (!isResizingHorizontally && currentWindowWidth !== initialWindowWidth) {\n                        store.dispatch('DID_START_RESIZE');\n                        isResizingHorizontally = true;\n                    }\n                }\n\n                if (isHidden && isResting) {\n                    // test if is no longer hidden\n                    isResting = view.element.offsetParent === null;\n                }\n\n                // if resting, no need to read as numbers will still all be correct\n                if (isResting) return;\n\n                // read view data\n                view._read();\n\n                // if is hidden we need to know so we exit rest mode when revealed\n                isHidden = view.rect.element.hidden;\n            },\n\n            /**\n             * Writes to dom (never call manually)\n             * @private\n             */\n            _write: function _write(ts) {\n                // get all actions from store\n                var actions = store\n                    .processActionQueue()\n\n                    // filter out set actions (these will automatically trigger DID_SET)\n                    .filter(function(action) {\n                        return !/^SET_/.test(action.type);\n                    });\n\n                // if was idling and no actions stop here\n                if (isResting && !actions.length) return;\n\n                // some actions might trigger events\n                routeActionsToEvents(actions);\n\n                // update the view\n                isResting = view._write(ts, actions, isResizingHorizontally);\n\n                // will clean up all archived items\n                removeReleasedItems(store.query('GET_ITEMS'));\n\n                // now idling\n                if (isResting) {\n                    store.processDispatchQueue();\n                }\n            },\n        };\n\n        //\n        // EXPOSE EVENTS -------------------------------------------------------------------------------------\n        //\n        var createEvent = function createEvent(name) {\n            return function(data) {\n                // create default event\n                var event = {\n                    type: name,\n                };\n\n                // no data to add\n                if (!data) {\n                    return event;\n                }\n\n                // copy relevant props\n                if (data.hasOwnProperty('error')) {\n                    event.error = data.error ? Object.assign({}, data.error) : null;\n                }\n\n                if (data.status) {\n                    event.status = Object.assign({}, data.status);\n                }\n\n                if (data.file) {\n                    event.output = data.file;\n                }\n\n                // only source is available, else add item if possible\n                if (data.source) {\n                    event.file = data.source;\n                } else if (data.item || data.id) {\n                    var item = data.item ? data.item : store.query('GET_ITEM', data.id);\n                    event.file = item ? createItemAPI(item) : null;\n                }\n\n                // map all items in a possible items array\n                if (data.items) {\n                    event.items = data.items.map(createItemAPI);\n                }\n\n                // if this is a progress event add the progress amount\n                if (/progress/.test(name)) {\n                    event.progress = data.progress;\n                }\n\n                // copy relevant props\n                if (data.hasOwnProperty('origin') && data.hasOwnProperty('target')) {\n                    event.origin = data.origin;\n                    event.target = data.target;\n                }\n\n                return event;\n            };\n        };\n\n        var eventRoutes = {\n            DID_DESTROY: createEvent('destroy'),\n\n            DID_INIT: createEvent('init'),\n\n            DID_THROW_MAX_FILES: createEvent('warning'),\n\n            DID_INIT_ITEM: createEvent('initfile'),\n            DID_START_ITEM_LOAD: createEvent('addfilestart'),\n            DID_UPDATE_ITEM_LOAD_PROGRESS: createEvent('addfileprogress'),\n            DID_LOAD_ITEM: createEvent('addfile'),\n\n            DID_THROW_ITEM_INVALID: [createEvent('error'), createEvent('addfile')],\n\n            DID_THROW_ITEM_LOAD_ERROR: [createEvent('error'), createEvent('addfile')],\n\n            DID_THROW_ITEM_REMOVE_ERROR: [createEvent('error'), createEvent('removefile')],\n\n            DID_PREPARE_OUTPUT: createEvent('preparefile'),\n\n            DID_START_ITEM_PROCESSING: createEvent('processfilestart'),\n            DID_UPDATE_ITEM_PROCESS_PROGRESS: createEvent('processfileprogress'),\n            DID_ABORT_ITEM_PROCESSING: createEvent('processfileabort'),\n            DID_COMPLETE_ITEM_PROCESSING: createEvent('processfile'),\n            DID_COMPLETE_ITEM_PROCESSING_ALL: createEvent('processfiles'),\n            DID_REVERT_ITEM_PROCESSING: createEvent('processfilerevert'),\n\n            DID_THROW_ITEM_PROCESSING_ERROR: [createEvent('error'), createEvent('processfile')],\n\n            DID_REMOVE_ITEM: createEvent('removefile'),\n\n            DID_UPDATE_ITEMS: createEvent('updatefiles'),\n\n            DID_ACTIVATE_ITEM: createEvent('activatefile'),\n\n            DID_REORDER_ITEMS: createEvent('reorderfiles'),\n        };\n\n        var exposeEvent = function exposeEvent(event) {\n            // create event object to be dispatched\n            var detail = Object.assign({ pond: exports }, event);\n            delete detail.type;\n            view.element.dispatchEvent(\n                new CustomEvent('FilePond:' + event.type, {\n                    // event info\n                    detail: detail,\n\n                    // event behaviour\n                    bubbles: true,\n                    cancelable: true,\n                    composed: true, // triggers listeners outside of shadow root\n                })\n            );\n\n            // event object to params used for `on()` event handlers and callbacks `oninit()`\n            var params = [];\n\n            // if is possible error event, make it the first param\n            if (event.hasOwnProperty('error')) {\n                params.push(event.error);\n            }\n\n            // file is always section\n            if (event.hasOwnProperty('file')) {\n                params.push(event.file);\n            }\n\n            // append other props\n            var filtered = ['type', 'error', 'file'];\n            Object.keys(event)\n                .filter(function(key) {\n                    return !filtered.includes(key);\n                })\n                .forEach(function(key) {\n                    return params.push(event[key]);\n                });\n\n            // on(type, () => { })\n            exports.fire.apply(exports, [event.type].concat(params));\n\n            // oninit = () => {}\n            var handler = store.query('GET_ON' + event.type.toUpperCase());\n            if (handler) {\n                handler.apply(void 0, params);\n            }\n        };\n\n        var routeActionsToEvents = function routeActionsToEvents(actions) {\n            if (!actions.length) return;\n            actions\n                .filter(function(action) {\n                    return eventRoutes[action.type];\n                })\n                .forEach(function(action) {\n                    var routes = eventRoutes[action.type];\n                    (Array.isArray(routes) ? routes : [routes]).forEach(function(route) {\n                        // this isn't fantastic, but because of the stacking of settimeouts plugins can handle the did_load before the did_init\n                        if (action.type === 'DID_INIT_ITEM') {\n                            exposeEvent(route(action.data));\n                        } else {\n                            setTimeout(function() {\n                                exposeEvent(route(action.data));\n                            }, 0);\n                        }\n                    });\n                });\n        };\n\n        //\n        // PUBLIC API -------------------------------------------------------------------------------------\n        //\n        var setOptions = function setOptions(options) {\n            return store.dispatch('SET_OPTIONS', { options: options });\n        };\n\n        var getFile = function getFile(query) {\n            return store.query('GET_ACTIVE_ITEM', query);\n        };\n\n        var prepareFile = function prepareFile(query) {\n            return new Promise(function(resolve, reject) {\n                store.dispatch('REQUEST_ITEM_PREPARE', {\n                    query: query,\n                    success: function success(item) {\n                        resolve(item);\n                    },\n                    failure: function failure(error) {\n                        reject(error);\n                    },\n                });\n            });\n        };\n\n        var addFile = function addFile(source) {\n            var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n            return new Promise(function(resolve, reject) {\n                addFiles([{ source: source, options: options }], { index: options.index })\n                    .then(function(items) {\n                        return resolve(items && items[0]);\n                    })\n                    .catch(reject);\n            });\n        };\n\n        var isFilePondFile = function isFilePondFile(obj) {\n            return obj.file && obj.id;\n        };\n\n        var removeFile = function removeFile(query, options) {\n            // if only passed options\n            if (typeof query === 'object' && !isFilePondFile(query) && !options) {\n                options = query;\n                query = undefined;\n            }\n\n            // request item removal\n            store.dispatch('REMOVE_ITEM', Object.assign({}, options, { query: query }));\n\n            // see if item has been removed\n            return store.query('GET_ACTIVE_ITEM', query) === null;\n        };\n\n        var addFiles = function addFiles() {\n            for (\n                var _len = arguments.length, args = new Array(_len), _key = 0;\n                _key < _len;\n                _key++\n            ) {\n                args[_key] = arguments[_key];\n            }\n            return new Promise(function(resolve, reject) {\n                var sources = [];\n                var options = {};\n\n                // user passed a sources array\n                if (isArray(args[0])) {\n                    sources.push.apply(sources, args[0]);\n                    Object.assign(options, args[1] || {});\n                } else {\n                    // user passed sources as arguments, last one might be options object\n                    var lastArgument = args[args.length - 1];\n                    if (typeof lastArgument === 'object' && !(lastArgument instanceof Blob)) {\n                        Object.assign(options, args.pop());\n                    }\n\n                    // add rest to sources\n                    sources.push.apply(sources, args);\n                }\n\n                store.dispatch('ADD_ITEMS', {\n                    items: sources,\n                    index: options.index,\n                    interactionMethod: InteractionMethod.API,\n                    success: resolve,\n                    failure: reject,\n                });\n            });\n        };\n\n        var getFiles = function getFiles() {\n            return store.query('GET_ACTIVE_ITEMS');\n        };\n\n        var processFile = function processFile(query) {\n            return new Promise(function(resolve, reject) {\n                store.dispatch('REQUEST_ITEM_PROCESSING', {\n                    query: query,\n                    success: function success(item) {\n                        resolve(item);\n                    },\n                    failure: function failure(error) {\n                        reject(error);\n                    },\n                });\n            });\n        };\n\n        var prepareFiles = function prepareFiles() {\n            for (\n                var _len2 = arguments.length, args = new Array(_len2), _key2 = 0;\n                _key2 < _len2;\n                _key2++\n            ) {\n                args[_key2] = arguments[_key2];\n            }\n            var queries = Array.isArray(args[0]) ? args[0] : args;\n            var items = queries.length ? queries : getFiles();\n            return Promise.all(items.map(prepareFile));\n        };\n\n        var processFiles = function processFiles() {\n            for (\n                var _len3 = arguments.length, args = new Array(_len3), _key3 = 0;\n                _key3 < _len3;\n                _key3++\n            ) {\n                args[_key3] = arguments[_key3];\n            }\n            var queries = Array.isArray(args[0]) ? args[0] : args;\n            if (!queries.length) {\n                var files = getFiles().filter(function(item) {\n                    return (\n                        !(item.status === ItemStatus.IDLE && item.origin === FileOrigin.LOCAL) &&\n                        item.status !== ItemStatus.PROCESSING &&\n                        item.status !== ItemStatus.PROCESSING_COMPLETE &&\n                        item.status !== ItemStatus.PROCESSING_REVERT_ERROR\n                    );\n                });\n\n                return Promise.all(files.map(processFile));\n            }\n            return Promise.all(queries.map(processFile));\n        };\n\n        var removeFiles = function removeFiles() {\n            for (\n                var _len4 = arguments.length, args = new Array(_len4), _key4 = 0;\n                _key4 < _len4;\n                _key4++\n            ) {\n                args[_key4] = arguments[_key4];\n            }\n\n            var queries = Array.isArray(args[0]) ? args[0] : args;\n\n            var options;\n            if (typeof queries[queries.length - 1] === 'object') {\n                options = queries.pop();\n            } else if (Array.isArray(args[0])) {\n                options = args[1];\n            }\n\n            var files = getFiles();\n\n            if (!queries.length)\n                return Promise.all(\n                    files.map(function(file) {\n                        return removeFile(file, options);\n                    })\n                );\n\n            // when removing by index the indexes shift after each file removal so we need to convert indexes to ids\n            var mappedQueries = queries\n                .map(function(query) {\n                    return isNumber(query) ? (files[query] ? files[query].id : null) : query;\n                })\n                .filter(function(query) {\n                    return query;\n                });\n\n            return mappedQueries.map(function(q) {\n                return removeFile(q, options);\n            });\n        };\n\n        var exports = Object.assign(\n            {},\n\n            on(),\n            {},\n\n            readWriteApi,\n            {},\n\n            createOptionAPI(store, defaultOptions),\n            {\n                /**\n                 * Override options defined in options object\n                 * @param options\n                 */\n                setOptions: setOptions,\n\n                /**\n                 * Load the given file\n                 * @param source - the source of the file (either a File, base64 data uri or url)\n                 * @param options - object, { index: 0 }\n                 */\n                addFile: addFile,\n\n                /**\n                 * Load the given files\n                 * @param sources - the sources of the files to load\n                 * @param options - object, { index: 0 }\n                 */\n                addFiles: addFiles,\n\n                /**\n                 * Returns the file objects matching the given query\n                 * @param query { string, number, null }\n                 */\n                getFile: getFile,\n\n                /**\n                 * Upload file with given name\n                 * @param query { string, number, null  }\n                 */\n                processFile: processFile,\n\n                /**\n                 * Request prepare output for file with given name\n                 * @param query { string, number, null  }\n                 */\n                prepareFile: prepareFile,\n\n                /**\n                 * Removes a file by its name\n                 * @param query { string, number, null  }\n                 */\n                removeFile: removeFile,\n\n                /**\n                 * Moves a file to a new location in the files list\n                 */\n                moveFile: function moveFile(query, index) {\n                    return store.dispatch('MOVE_ITEM', { query: query, index: index });\n                },\n\n                /**\n                 * Returns all files (wrapped in public api)\n                 */\n                getFiles: getFiles,\n\n                /**\n                 * Starts uploading all files\n                 */\n                processFiles: processFiles,\n\n                /**\n                 * Clears all files from the files list\n                 */\n                removeFiles: removeFiles,\n\n                /**\n                 * Starts preparing output of all files\n                 */\n                prepareFiles: prepareFiles,\n\n                /**\n                 * Sort list of files\n                 */\n                sort: function sort(compare) {\n                    return store.dispatch('SORT', { compare: compare });\n                },\n\n                /**\n                 * Browse the file system for a file\n                 */\n                browse: function browse() {\n                    // needs to be trigger directly as user action needs to be traceable (is not traceable in requestAnimationFrame)\n                    var input = view.element.querySelector('input[type=file]');\n                    if (input) {\n                        input.click();\n                    }\n                },\n\n                /**\n                 * Destroys the app\n                 */\n                destroy: function destroy() {\n                    // request destruction\n                    exports.fire('destroy', view.element);\n\n                    // stop active processes (file uploads, fetches, stuff like that)\n                    // loop over items and depending on states call abort for ongoing processes\n                    store.dispatch('ABORT_ALL');\n\n                    // destroy view\n                    view._destroy();\n\n                    // stop listening to resize\n                    window.removeEventListener('resize', resizeHandler);\n\n                    // stop listening to the visiblitychange event\n                    document.removeEventListener('visibilitychange', visibilityHandler);\n\n                    // dispatch destroy\n                    store.dispatch('DID_DESTROY');\n                },\n\n                /**\n                 * Inserts the plugin before the target element\n                 */\n                insertBefore: function insertBefore$1(element) {\n                    return insertBefore(view.element, element);\n                },\n\n                /**\n                 * Inserts the plugin after the target element\n                 */\n                insertAfter: function insertAfter$1(element) {\n                    return insertAfter(view.element, element);\n                },\n\n                /**\n                 * Appends the plugin to the target element\n                 */\n                appendTo: function appendTo(element) {\n                    return element.appendChild(view.element);\n                },\n\n                /**\n                 * Replaces an element with the app\n                 */\n                replaceElement: function replaceElement(element) {\n                    // insert the app before the element\n                    insertBefore(view.element, element);\n\n                    // remove the original element\n                    element.parentNode.removeChild(element);\n\n                    // remember original element\n                    originalElement = element;\n                },\n\n                /**\n                 * Restores the original element\n                 */\n                restoreElement: function restoreElement() {\n                    if (!originalElement) {\n                        return; // no element to restore\n                    }\n\n                    // restore original element\n                    insertAfter(originalElement, view.element);\n\n                    // remove our element\n                    view.element.parentNode.removeChild(view.element);\n\n                    // remove reference\n                    originalElement = null;\n                },\n\n                /**\n                 * Returns true if the app root is attached to given element\n                 * @param element\n                 */\n                isAttachedTo: function isAttachedTo(element) {\n                    return view.element === element || originalElement === element;\n                },\n\n                /**\n                 * Returns the root element\n                 */\n                element: {\n                    get: function get() {\n                        return view.element;\n                    },\n                },\n\n                /**\n                 * Returns the current pond status\n                 */\n                status: {\n                    get: function get() {\n                        return store.query('GET_STATUS');\n                    },\n                },\n            }\n        );\n\n        // Done!\n        store.dispatch('DID_INIT');\n\n        // create actual api object\n        return createObject(exports);\n    };\n\n    var createAppObject = function createAppObject() {\n        var customOptions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        // default options\n        var defaultOptions = {};\n        forin(getOptions(), function(key, value) {\n            defaultOptions[key] = value[0];\n        });\n\n        // set app options\n        var app = createApp(\n            Object.assign(\n                {},\n\n                defaultOptions,\n                {},\n\n                customOptions\n            )\n        );\n\n        // return the plugin instance\n        return app;\n    };\n\n    var lowerCaseFirstLetter = function lowerCaseFirstLetter(string) {\n        return string.charAt(0).toLowerCase() + string.slice(1);\n    };\n\n    var attributeNameToPropertyName = function attributeNameToPropertyName(attributeName) {\n        return toCamels(attributeName.replace(/^data-/, ''));\n    };\n\n    var mapObject = function mapObject(object, propertyMap) {\n        // remove unwanted\n        forin(propertyMap, function(selector, mapping) {\n            forin(object, function(property, value) {\n                // create regexp shortcut\n                var selectorRegExp = new RegExp(selector);\n\n                // tests if\n                var matches = selectorRegExp.test(property);\n\n                // no match, skip\n                if (!matches) {\n                    return;\n                }\n\n                // if there's a mapping, the original property is always removed\n                delete object[property];\n\n                // should only remove, we done!\n                if (mapping === false) {\n                    return;\n                }\n\n                // move value to new property\n                if (isString(mapping)) {\n                    object[mapping] = value;\n                    return;\n                }\n\n                // move to group\n                var group = mapping.group;\n                if (isObject(mapping) && !object[group]) {\n                    object[group] = {};\n                }\n\n                object[group][lowerCaseFirstLetter(property.replace(selectorRegExp, ''))] = value;\n            });\n\n            // do submapping\n            if (mapping.mapping) {\n                mapObject(object[mapping.group], mapping.mapping);\n            }\n        });\n    };\n\n    var getAttributesAsObject = function getAttributesAsObject(node) {\n        var attributeMapping =\n            arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        // turn attributes into object\n        var attributes = [];\n        forin(node.attributes, function(index) {\n            attributes.push(node.attributes[index]);\n        });\n\n        var output = attributes\n            .filter(function(attribute) {\n                return attribute.name;\n            })\n            .reduce(function(obj, attribute) {\n                var value = attr(node, attribute.name);\n\n                obj[attributeNameToPropertyName(attribute.name)] =\n                    value === attribute.name ? true : value;\n                return obj;\n            }, {});\n\n        // do mapping of object properties\n        mapObject(output, attributeMapping);\n\n        return output;\n    };\n\n    var createAppAtElement = function createAppAtElement(element) {\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n        // how attributes of the input element are mapped to the options for the plugin\n        var attributeMapping = {\n            // translate to other name\n            '^class$': 'className',\n            '^multiple$': 'allowMultiple',\n            '^capture$': 'captureMethod',\n            '^webkitdirectory$': 'allowDirectoriesOnly',\n\n            // group under single property\n            '^server': {\n                group: 'server',\n                mapping: {\n                    '^process': {\n                        group: 'process',\n                    },\n\n                    '^revert': {\n                        group: 'revert',\n                    },\n\n                    '^fetch': {\n                        group: 'fetch',\n                    },\n\n                    '^restore': {\n                        group: 'restore',\n                    },\n\n                    '^load': {\n                        group: 'load',\n                    },\n                },\n            },\n\n            // don't include in object\n            '^type$': false,\n            '^files$': false,\n        };\n\n        // add additional option translators\n        applyFilters('SET_ATTRIBUTE_TO_OPTION_MAP', attributeMapping);\n\n        // create final options object by setting options object and then overriding options supplied on element\n        var mergedOptions = Object.assign({}, options);\n\n        var attributeOptions = getAttributesAsObject(\n            element.nodeName === 'FIELDSET' ? element.querySelector('input[type=file]') : element,\n            attributeMapping\n        );\n\n        // merge with options object\n        Object.keys(attributeOptions).forEach(function(key) {\n            if (isObject(attributeOptions[key])) {\n                if (!isObject(mergedOptions[key])) {\n                    mergedOptions[key] = {};\n                }\n                Object.assign(mergedOptions[key], attributeOptions[key]);\n            } else {\n                mergedOptions[key] = attributeOptions[key];\n            }\n        });\n\n        // if parent is a fieldset, get files from parent by selecting all input fields that are not file upload fields\n        // these will then be automatically set to the initial files\n        mergedOptions.files = (options.files || []).concat(\n            Array.from(element.querySelectorAll('input:not([type=file])')).map(function(input) {\n                return {\n                    source: input.value,\n                    options: {\n                        type: input.dataset.type,\n                    },\n                };\n            })\n        );\n\n        // build plugin\n        var app = createAppObject(mergedOptions);\n\n        // add already selected files\n        if (element.files) {\n            Array.from(element.files).forEach(function(file) {\n                app.addFile(file);\n            });\n        }\n\n        // replace the target element\n        app.replaceElement(element);\n\n        // expose\n        return app;\n    };\n\n    // if an element is passed, we create the instance at that element, if not, we just create an up object\n    var createApp$1 = function createApp() {\n        return isNode(arguments.length <= 0 ? undefined : arguments[0])\n            ? createAppAtElement.apply(void 0, arguments)\n            : createAppObject.apply(void 0, arguments);\n    };\n\n    var PRIVATE_METHODS = ['fire', '_read', '_write'];\n\n    var createAppAPI = function createAppAPI(app) {\n        var api = {};\n\n        copyObjectPropertiesToObject(app, api, PRIVATE_METHODS);\n\n        return api;\n    };\n\n    /**\n     * Replaces placeholders in given string with replacements\n     * @param string - \"Foo {bar}\"\"\n     * @param replacements - { \"bar\": 10 }\n     */\n    var replaceInString = function replaceInString(string, replacements) {\n        return string.replace(/(?:{([a-zA-Z]+)})/g, function(match, group) {\n            return replacements[group];\n        });\n    };\n\n    var createWorker = function createWorker(fn) {\n        var workerBlob = new Blob(['(', fn.toString(), ')()'], {\n            type: 'application/javascript',\n        });\n\n        var workerURL = URL.createObjectURL(workerBlob);\n        var worker = new Worker(workerURL);\n\n        return {\n            transfer: function transfer(message, cb) {},\n            post: function post(message, cb, transferList) {\n                var id = getUniqueId();\n\n                worker.onmessage = function(e) {\n                    if (e.data.id === id) {\n                        cb(e.data.message);\n                    }\n                };\n\n                worker.postMessage(\n                    {\n                        id: id,\n                        message: message,\n                    },\n\n                    transferList\n                );\n            },\n            terminate: function terminate() {\n                worker.terminate();\n                URL.revokeObjectURL(workerURL);\n            },\n        };\n    };\n\n    var loadImage = function loadImage(url) {\n        return new Promise(function(resolve, reject) {\n            var img = new Image();\n            img.onload = function() {\n                resolve(img);\n            };\n            img.onerror = function(e) {\n                reject(e);\n            };\n            img.src = url;\n        });\n    };\n\n    var renameFile = function renameFile(file, name) {\n        var renamedFile = file.slice(0, file.size, file.type);\n        renamedFile.lastModifiedDate = file.lastModifiedDate;\n        renamedFile.name = name;\n        return renamedFile;\n    };\n\n    var copyFile = function copyFile(file) {\n        return renameFile(file, file.name);\n    };\n\n    // already registered plugins (can't register twice)\n    var registeredPlugins = [];\n\n    // pass utils to plugin\n    var createAppPlugin = function createAppPlugin(plugin) {\n        // already registered\n        if (registeredPlugins.includes(plugin)) {\n            return;\n        }\n\n        // remember this plugin\n        registeredPlugins.push(plugin);\n\n        // setup!\n        var pluginOutline = plugin({\n            addFilter: addFilter,\n            utils: {\n                Type: Type,\n                forin: forin,\n                isString: isString,\n                isFile: isFile,\n                toNaturalFileSize: toNaturalFileSize,\n                replaceInString: replaceInString,\n                getExtensionFromFilename: getExtensionFromFilename,\n                getFilenameWithoutExtension: getFilenameWithoutExtension,\n                guesstimateMimeType: guesstimateMimeType,\n                getFileFromBlob: getFileFromBlob,\n                getFilenameFromURL: getFilenameFromURL,\n                createRoute: createRoute,\n                createWorker: createWorker,\n                createView: createView,\n                createItemAPI: createItemAPI,\n                loadImage: loadImage,\n                copyFile: copyFile,\n                renameFile: renameFile,\n                createBlob: createBlob,\n                applyFilterChain: applyFilterChain,\n                text: text,\n                getNumericAspectRatioFromString: getNumericAspectRatioFromString,\n            },\n\n            views: {\n                fileActionButton: fileActionButton,\n            },\n        });\n\n        // add plugin options to default options\n        extendDefaultOptions(pluginOutline.options);\n    };\n\n    // feature detection used by supported() method\n    var isOperaMini = function isOperaMini() {\n        return Object.prototype.toString.call(window.operamini) === '[object OperaMini]';\n    };\n    var hasPromises = function hasPromises() {\n        return 'Promise' in window;\n    };\n    var hasBlobSlice = function hasBlobSlice() {\n        return 'slice' in Blob.prototype;\n    };\n    var hasCreateObjectURL = function hasCreateObjectURL() {\n        return 'URL' in window && 'createObjectURL' in window.URL;\n    };\n    var hasVisibility = function hasVisibility() {\n        return 'visibilityState' in document;\n    };\n    var hasTiming = function hasTiming() {\n        return 'performance' in window;\n    }; // iOS 8.x\n    var hasCSSSupports = function hasCSSSupports() {\n        return 'supports' in (window.CSS || {});\n    }; // use to detect Safari 9+\n    var isIE11 = function isIE11() {\n        return /MSIE|Trident/.test(window.navigator.userAgent);\n    };\n\n    var supported = (function() {\n        // Runs immediately and then remembers result for subsequent calls\n        var isSupported =\n            // Has to be a browser\n            isBrowser() &&\n            // Can't run on Opera Mini due to lack of everything\n            !isOperaMini() &&\n            // Require these APIs to feature detect a modern browser\n            hasVisibility() &&\n            hasPromises() &&\n            hasBlobSlice() &&\n            hasCreateObjectURL() &&\n            hasTiming() &&\n            // doesn't need CSSSupports but is a good way to detect Safari 9+ (we do want to support IE11 though)\n            (hasCSSSupports() || isIE11());\n\n        return function() {\n            return isSupported;\n        };\n    })();\n\n    /**\n     * Plugin internal state (over all instances)\n     */\n    var state = {\n        // active app instances, used to redraw the apps and to find the later\n        apps: [],\n    };\n\n    // plugin name\n    var name = 'filepond';\n\n    /**\n     * Public Plugin methods\n     */\n    var fn = function fn() {};\n    exports.Status = {};\n    exports.FileStatus = {};\n    exports.FileOrigin = {};\n    exports.OptionTypes = {};\n    exports.create = fn;\n    exports.destroy = fn;\n    exports.parse = fn;\n    exports.find = fn;\n    exports.registerPlugin = fn;\n    exports.getOptions = fn;\n    exports.setOptions = fn;\n\n    // if not supported, no API\n    if (supported()) {\n        // start painter and fire load event\n        createPainter(\n            function() {\n                state.apps.forEach(function(app) {\n                    return app._read();\n                });\n            },\n            function(ts) {\n                state.apps.forEach(function(app) {\n                    return app._write(ts);\n                });\n            }\n        );\n\n        // fire loaded event so we know when FilePond is available\n        var dispatch = function dispatch() {\n            // let others know we have area ready\n            document.dispatchEvent(\n                new CustomEvent('FilePond:loaded', {\n                    detail: {\n                        supported: supported,\n                        create: exports.create,\n                        destroy: exports.destroy,\n                        parse: exports.parse,\n                        find: exports.find,\n                        registerPlugin: exports.registerPlugin,\n                        setOptions: exports.setOptions,\n                    },\n                })\n            );\n\n            // clean up event\n            document.removeEventListener('DOMContentLoaded', dispatch);\n        };\n\n        if (document.readyState !== 'loading') {\n            // move to back of execution queue, FilePond should have been exported by then\n            setTimeout(function() {\n                return dispatch();\n            }, 0);\n        } else {\n            document.addEventListener('DOMContentLoaded', dispatch);\n        }\n\n        // updates the OptionTypes object based on the current options\n        var updateOptionTypes = function updateOptionTypes() {\n            return forin(getOptions(), function(key, value) {\n                exports.OptionTypes[key] = value[1];\n            });\n        };\n\n        exports.Status = Object.assign({}, Status);\n        exports.FileOrigin = Object.assign({}, FileOrigin);\n        exports.FileStatus = Object.assign({}, ItemStatus);\n\n        exports.OptionTypes = {};\n        updateOptionTypes();\n\n        // create method, creates apps and adds them to the app array\n        exports.create = function create() {\n            var app = createApp$1.apply(void 0, arguments);\n            app.on('destroy', exports.destroy);\n            state.apps.push(app);\n            return createAppAPI(app);\n        };\n\n        // destroys apps and removes them from the app array\n        exports.destroy = function destroy(hook) {\n            // returns true if the app was destroyed successfully\n            var indexToRemove = state.apps.findIndex(function(app) {\n                return app.isAttachedTo(hook);\n            });\n            if (indexToRemove >= 0) {\n                // remove from apps\n                var app = state.apps.splice(indexToRemove, 1)[0];\n\n                // restore original dom element\n                app.restoreElement();\n\n                return true;\n            }\n\n            return false;\n        };\n\n        // parses the given context for plugins (does not include the context element itself)\n        exports.parse = function parse(context) {\n            // get all possible hooks\n            var matchedHooks = Array.from(context.querySelectorAll('.' + name));\n\n            // filter out already active hooks\n            var newHooks = matchedHooks.filter(function(newHook) {\n                return !state.apps.find(function(app) {\n                    return app.isAttachedTo(newHook);\n                });\n            });\n\n            // create new instance for each hook\n            return newHooks.map(function(hook) {\n                return exports.create(hook);\n            });\n        };\n\n        // returns an app based on the given element hook\n        exports.find = function find(hook) {\n            var app = state.apps.find(function(app) {\n                return app.isAttachedTo(hook);\n            });\n            if (!app) {\n                return null;\n            }\n            return createAppAPI(app);\n        };\n\n        // adds a plugin extension\n        exports.registerPlugin = function registerPlugin() {\n            for (\n                var _len = arguments.length, plugins = new Array(_len), _key = 0;\n                _key < _len;\n                _key++\n            ) {\n                plugins[_key] = arguments[_key];\n            }\n\n            // register plugins\n            plugins.forEach(createAppPlugin);\n\n            // update OptionTypes, each plugin might have extended the default options\n            updateOptionTypes();\n        };\n\n        exports.getOptions = function getOptions$1() {\n            var opts = {};\n            forin(getOptions(), function(key, value) {\n                opts[key] = value[0];\n            });\n            return opts;\n        };\n\n        exports.setOptions = function setOptions$1(opts) {\n            if (isObject(opts)) {\n                // update existing plugins\n                state.apps.forEach(function(app) {\n                    app.setOptions(opts);\n                });\n\n                // override defaults\n                setOptions(opts);\n            }\n\n            // return new options\n            return exports.getOptions();\n        };\n    }\n\n    exports.supported = supported;\n\n    Object.defineProperty(exports, '__esModule', { value: true });\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-layout',[_c('v-flex',{attrs:{\"xs12\":\"\",\"sm8\":\"\",\"offset-sm2\":\"\",\"offset-md3\":\"\",\"md6\":\"\"}},[_c('v-card',{staticStyle:{\"padding\":\"1em\",\"margin-bottom\":\"1em\"}},[_c('div',{staticStyle:{\"text-align\":\"center\"}},[_c('v-btn-toggle',{attrs:{\"mandatory\":\"\"},model:{value:(_vm.sendOrGet),callback:function ($$v) {_vm.sendOrGet=$$v},expression:\"sendOrGet\"}},[_c('v-btn',{attrs:{\"text\":\"\",\"value\":\"send\"}},[_vm._v(\" \"+_vm._s(_vm.strings['send'])+\" \"),_c('v-icon',{attrs:{\"right\":\"\",\"dark\":\"\"}},[_vm._v(_vm._s(_vm.icons.mdiUpload))])],1),_c('v-btn',{attrs:{\"text\":\"\",\"value\":\"get\"}},[_vm._v(\" \"+_vm._s(_vm.strings['get'])+\" \"),_c('v-icon',{attrs:{\"right\":\"\",\"dark\":\"\"}},[_vm._v(_vm._s(_vm.icons.mdiDownload))])],1)],1)],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.sendOrGet === 'send'),expression:\"sendOrGet === 'send'\"}]},[_c('div',{class:\"d-flex justify-end\"},[_c('v-switch',{attrs:{\"inset\":\"\"},scopedSlots:_vm._u([{key:\"label\",fn:function(){return [_c('v-icon',{staticClass:\"icon-and-text-margin\"},[_vm._v(_vm._s(_vm.icons.mdiText))]),_vm._v(\" \"+_vm._s(_vm.strings['text_mode'])+\" \")]},proxy:true}]),model:{value:(_vm.isTextMode),callback:function ($$v) {_vm.isTextMode=$$v},expression:\"isTextMode\"}})],1),(!_vm.isTextMode)?_c('file-pond',{attrs:{\"label-idle\":_vm.filePondLabelIdle,\"allow-multiple\":true,\"allow-paste\":true},model:{value:(_vm.files),callback:function ($$v) {_vm.files=$$v},expression:\"files\"}}):_vm._e(),(_vm.isTextMode)?_c('v-textarea',{attrs:{\"label\":_vm.strings['text_placeholder'],\"clearable\":\"\",\"clear-icon\":_vm.icons.mdiClose,\"outlined\":\"\"},model:{value:(_vm.inputText),callback:function ($$v) {_vm.inputText=$$v},expression:\"inputText\"}}):_vm._e()],1),_c('v-combobox',{ref:\"server_url_ref\",staticClass:\"readable-font\",staticStyle:{\"margin-bottom\":\"0.8em\"},attrs:{\"label\":_vm.strings['server_url'],\"items\":_vm.serverUrlHistory,\"clearable\":\"\",\"clear-icon\":_vm.icons.mdiClose},on:{\"change\":function($event){return _vm.onUpdateServerUrl()},\"blur\":function($event){return _vm.attachProtocolToUrl()}},scopedSlots:_vm._u([{key:\"item\",fn:function(ref){\nvar index = ref.index;\nvar item = ref.item;\nreturn [_c('span',{staticClass:\"readable-font\"},[_vm._v(_vm._s(item))]),_c('div',{staticClass:\"flex-grow-1\"}),_c('v-list-item-action',{on:{\"click\":function($event){$event.stopPropagation();}}},[_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.deleteServerUrl(item)}}},[_c('v-icon',[_vm._v(_vm._s(_vm.icons.mdiDelete))])],1)],1)]}}]),model:{value:(_vm.serverUrl),callback:function ($$v) {_vm.serverUrl=$$v},expression:\"serverUrl\"}}),_c('v-combobox',{ref:\"secret_path_ref\",staticClass:\"ma-0 pa-0 readable-font\",attrs:{\"label\":_vm.strings['secret_path'],\"items\":_vm.secretPathHistory,\"placeholder\":_vm.strings['secret_path_placeholder'],\"clearable\":\"\",\"clear-icon\":_vm.icons.mdiClose},scopedSlots:_vm._u([{key:\"item\",fn:function(ref){\nvar index = ref.index;\nvar item = ref.item;\nreturn [_c('span',{staticClass:\"readable-font\"},[_vm._v(_vm._s(item))]),_c('div',{staticClass:\"flex-grow-1\"}),_c('v-list-item-action',[_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.deleteSecretPath(item)}}},[_c('v-icon',[_vm._v(_vm._s(_vm.icons.mdiDelete))])],1)],1)]}}]),model:{value:(_vm.secretPath),callback:function ($$v) {_vm.secretPath=$$v},expression:\"secretPath\"}}),(_vm.sendOrGet === 'send' && _vm.suggestedSecretPaths.length !== 0)?_c('div',{staticStyle:{\"text-align\":\"right\",\"margin-bottom\":\"1.5em\"}},_vm._l((_vm.suggestedSecretPaths),function(suggestedSecretPath){return _c('v-chip',{key:suggestedSecretPath,staticClass:\"ma-0 readable-font\",staticStyle:{\"font-size\":\"1em\"},attrs:{\"label\":\"\",\"outlined\":\"\"},on:{\"click\":function($event){_vm.secretPath = suggestedSecretPath}}},[_vm._v(\" \"+_vm._s(suggestedSecretPath)+\" \")])}),1):_vm._e(),_c('v-col',{staticClass:\"pa-0\"},[_c('v-row',{staticClass:\"ma-0\",staticStyle:{\"padding-top\":\"0.4em\"},attrs:{\"align\":\"center\"}},[_c('v-switch',{staticClass:\"ma-0 pa-0\",attrs:{\"input-value\":_vm.protectionType === 'passwordless',\"inset\":\"\",\"color\":\"blue\"},on:{\"change\":_vm.onEnablePasswordlessProtection},scopedSlots:_vm._u([{key:\"label\",fn:function(){return [_c('v-icon',{staticClass:\"icon-and-text-margin\",attrs:{\"color\":_vm.protectionType === 'passwordless' ? 'blue' : ''}},[_vm._v(_vm._s(_vm.icons.mdiShieldHalfFull))]),_vm._v(\" \"+_vm._s(_vm.strings['passwordless_protection'])+\" \")]},proxy:true}])})],1),_c('v-row',{staticClass:\"ma-0\",staticStyle:{\"padding-top\":\"0.5em\"},attrs:{\"align\":\"center\"}},[_c('v-switch',{staticClass:\"ma-0 pa-0\",attrs:{\"input-value\":_vm.protectionType === 'password',\"inset\":\"\",\"color\":\"blue\"},on:{\"change\":_vm.onEnablePasswordProtection},scopedSlots:_vm._u([{key:\"label\",fn:function(){return [_c('v-icon',{staticClass:\"icon-and-text-margin\",attrs:{\"color\":_vm.protectionType === 'password' ? 'blue' : ''}},[_vm._v(_vm._s(_vm.icons.mdiKey))]),_vm._v(\" \"+_vm._s(_vm.protectionType === 'password' ? '' : _vm.strings['protect_with_password'])+\" \")]},proxy:true}])}),(_vm.protectionType === 'password')?_c('v-text-field',{staticClass:\"pa-0\",staticStyle:{\"margin-left\":\"0.5em\"},attrs:{\"type\":_vm.showsPassword ? 'text' : 'password',\"label\":_vm.strings['password'],\"append-icon\":_vm.showsPassword ? _vm.icons.mdiEye : _vm.icons.mdiEyeOff,\"single-line\":\"\"},on:{\"click:append\":function($event){_vm.showsPassword = !_vm.showsPassword}},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}}):_vm._e()],1)],1),_c('div',{staticStyle:{\"margin-top\":\"1.2em\"}},[(_vm.sendOrGet === 'send')?_c('v-btn',{attrs:{\"color\":\"primary\",\"block\":\"\"},on:{\"click\":function($event){return _vm.send()}}},[_vm._v(\" \"+_vm._s(_vm.strings['send'])+\" \"),_c('v-icon',{attrs:{\"right\":\"\",\"dark\":\"\"}},[_vm._v(_vm._s(_vm.icons.mdiUpload))])],1):_vm._e(),(_vm.sendOrGet === 'get')?_c('v-layout',[_c('v-flex',{attrs:{\"xs6\":\"\"}},[_c('v-btn',{attrs:{\"color\":\"light-blue\",\"dark\":\"\",\"block\":\"\"},on:{\"click\":function($event){return _vm.view()}}},[_vm._v(\" \"+_vm._s(_vm.strings['view'])+\" \"),_c('v-icon',{attrs:{\"right\":\"\",\"dark\":\"\"}},[_vm._v(_vm._s(_vm.icons.mdiFileFind))])],1)],1),_c('v-flex',{attrs:{\"xs6\":\"\"}},[_c('v-btn',{attrs:{\"color\":\"blue\",\"dark\":\"\",\"block\":\"\"},on:{\"click\":function($event){return _vm.get()}}},[_vm._v(\" \"+_vm._s(_vm.strings['download'])+\" \"),_c('v-icon',{attrs:{\"right\":\"\",\"dark\":\"\"}},[_vm._v(_vm._s(_vm.icons.mdiDownload))])],1)],1)],1):_vm._e()],1)],1),_c('div',{staticStyle:{\"padding\":\"0.5em\"}},[_c('v-expansion-panels',{attrs:{\"multiple\":\"\"},model:{value:(_vm.expandedPanelIds),callback:function ($$v) {_vm.expandedPanelIds=$$v},expression:\"expandedPanelIds\"}},[_vm._l((_vm.expandedPanels),function(expandedPanel){return [(expandedPanel.type === 'data_uploader')?[_c('DataUploader',{key:(\"upload-\" + (expandedPanel.props.uploadNo)),attrs:{\"props\":expandedPanel.props}})]:_vm._e(),(expandedPanel.type === 'data_viewer')?[_c('DataViewer',{key:(\"view-\" + (expandedPanel.props.viewNo)),attrs:{\"props\":expandedPanel.props}})]:_vm._e(),(expandedPanel.type === 'data_downloader')?[_c('DataDownloader',{key:(\"download-\" + (expandedPanel.props.downloadNo)),attrs:{\"props\":expandedPanel.props}})]:_vm._e()]})],2)],1)],1),_c('v-snackbar',{attrs:{\"color\":\"error\",\"top\":\"\"},model:{value:(_vm.showsSnackbar),callback:function ($$v) {_vm.showsSnackbar=$$v},expression:\"showsSnackbar\"}},[_vm._v(\" \"+_vm._s(_vm.snackbarMessage)+\" \"),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":function($event){_vm.showsSnackbar = false}}},[_c('v-icon',[_vm._v(_vm._s(_vm.icons.mdiClose))])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// NOTE: The values are defined in vue.config.js\ndeclare const PIPING_SERVER_URLS: ReadonlyArray<string>;\n\nconst c = {\n  pipingServerUrls: PIPING_SERVER_URLS,\n};\n\nexport default c;\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue, Watch } from 'vue-property-decorator';\nconst urlJoinAsync = () => import('url-join').then(p => p.default);\nimport {DataUploaderProps} from '@/components/DataUploader.vue';\nconst DataUploader = () => import('@/components/DataUploader.vue');\nimport {DataViewerProps} from \"@/components/DataViewer.vue\";\nconst DataViewer = () => import(\"@/components/DataViewer.vue\");\nconst DataDownloader = () => import('@/components/DataDownloader.vue');\nimport {DataDownloaderProps} from \"@/components/DataDownloader.vue\";\nimport * as t from 'io-ts';\nimport {mdiUpload, mdiDownload, mdiDelete, mdiFileFind, mdiClose, mdiEye, mdiEyeOff, mdiKey, mdiShieldHalfFull, mdiText} from \"@mdi/js\";\n\nimport {keys} from \"@/local-storage-keys\";\nimport {globalStore} from \"@/vue-global\";\nimport {strings} from \"@/strings\";\nimport * as filePond from \"filepond\";\nimport {baseAndExt} from \"@/utils\";\nimport type {Protection} from \"@/datatypes\";\nimport buildConstants from \"@/build-constants\";\n\n(async () => require('filepond/dist/filepond.min.css'))();\n\n// Create component\nconst FilePond = () => import('vue-filepond').then(vueFilePond => vueFilePond.default());\n\nconst defaultServerUrls: ReadonlyArray<string> = buildConstants.pipingServerUrls;\n\nfunction normalizeUrl(url: string): string {\n  return new URL(url).href;\n}\n\n// Load from local storage with validation\nfunction loadLocalStorage<T>(typeC: t.Type<T>, key: string): T | undefined {\n  const item: string | null = window.localStorage.getItem(key);\n  if (item !== null) {\n    const either = typeC.decode(JSON.parse(item));\n    if (either._tag === 'Left') return undefined;\n    return either.right;\n  }\n}\n\nconst chars = {\n  nonConfusing: [\"a\", \"b\", \"c\", \"d\", \"e\", \"f\", \"h\", \"i\", \"j\", \"k\", \"m\", \"n\", \"p\", \"r\", \"s\", \"t\", \"u\", \"v\", \"w\", \"x\", \"y\", \"z\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\"],\n  alphanum: [\"a\", \"b\", \"c\", \"d\", \"e\", \"f\", \"g\", \"h\", \"i\", \"j\", \"k\", \"l\", \"m\", \"n\", \"o\", \"p\", \"q\", \"r\", \"s\", \"t\", \"u\", \"v\", \"w\", \"x\", \"y\", \"z\", \"A\", \"B\", \"C\", \"D\", \"E\", \"F\", \"G\", \"H\", \"I\", \"J\", \"K\", \"L\", \"M\", \"N\", \"O\", \"P\", \"Q\", \"R\", \"S\", \"T\", \"U\", \"V\", \"W\", \"X\", \"Y\", \"Z\", \"0\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\"],\n};\n\nfunction randomStr(len: number, chars: ReadonlyArray<string>){\n  // NOTE: Confusing characters are erased\n  const randomArr = window.crypto.getRandomValues(new Uint32Array(len));\n  return Array.from(randomArr).map(n => chars[n % chars.length]).join('');\n}\n\n// Text from Web Share Target API\nfunction getShareTargetText(): string | null {\n  return new URL(window.location.toString()).searchParams.get(\"text\");\n}\n\n@Component({\n  components: {\n    DataUploader,\n    DataViewer,\n    DataDownloader,\n    FilePond,\n  },\n})\nexport default class PipingUI extends Vue {\n  $refs!: {\n    server_url_ref: Vue,\n    secret_path_ref: Vue\n  }\n\n  private sendOrGet: 'send' | 'get' = 'send';\n\n  private serverUrl: string = defaultServerUrls[0];\n  private secretPath: string = \"\";\n  private isTextMode: boolean = getShareTargetText() !== null;\n  private inputText: string = (() => {\n    const shareTargetText = getShareTargetText();\n    return shareTargetText === null ? '' :  shareTargetText;\n  })();\n  private files: filePond.FilePondFile[] = [];\n  private serverUrlHistory: string[] = [];\n  private secretPathHistory: string[] = [];\n  private protectionType: Protection[\"type\"] = 'raw';\n  private password: string = '';\n  private showsPassword: boolean = false;\n\n  // Random strings for suggested secret paths\n  private randomStrs: string[] = [\n    // mini\n    '',\n  ];\n\n  // Progress bar setting\n  private progressSetting: {show: boolean, loadedBytes: number, totalBytes?: number} = {\n    show: false,\n    loadedBytes: 0,\n    totalBytes: undefined,\n  };\n\n  private uploadCount = 0;\n  private viewCount = 0;\n  private downloadCount = 0;\n  private expandedPanels: (\n    {type: 'data_uploader', props: DataUploaderProps} |\n    {type: 'data_viewer', props: DataViewerProps} |\n    {type: 'data_downloader', props: DataDownloaderProps}\n  )[] = [];\n  // Indexes of expanded expansion-panel\n  private expandedPanelIds: number[] = [];\n\n  // Show snackbar\n  private showsSnackbar: boolean = false;\n  // Message of snackbar\n  private snackbarMessage: string = '';\n\n  private icons = {\n    mdiUpload,\n    mdiDownload,\n    mdiDelete,\n    mdiFileFind,\n    mdiClose,\n    mdiEye,\n    mdiEyeOff,\n    mdiKey,\n    mdiShieldHalfFull,\n    mdiText,\n  };\n\n  // for language support\n  private get strings() {\n    return strings(globalStore.language);\n  }\n\n  // FIXME: Should be removed\n  // This for lazy v-model of Combobox\n  private shouldBeRemoved = {\n    latestServerUrl: this.serverUrl,\n    latestSecretPath: this.secretPath,\n  };\n\n\n  // FIXME: Should be removed\n  // NOTE: This is for update by clicking listed auto-complete\n  @Watch('serverUrl')\n  private onServerUrl() {\n    this.shouldBeRemoved.latestServerUrl = this.serverUrl;\n  }\n\n  @Watch('secretPath')\n  private onSecretPath() {\n    // NOTE: <v-combobox> \"clearable\" makes it null or undefined (maybe)\n    if ( this.secretPath === null || this.secretPath === undefined) {\n      this.secretPath = '';\n    }\n\n    // FIXME: Should be removed\n    // NOTE: This is for update by clicking listed auto-complete\n    this.shouldBeRemoved.latestSecretPath = this.secretPath;\n  }\n\n  private onUpdateServerUrl() {\n    window.localStorage.setItem(keys.selectedServerUrl, this.serverUrl);\n  }\n\n  private get filePondLabelIdle(): string {\n    // If files are nothing\n    if (this.files.length === 0) {\n      // Hint with file icon\n      return `<img src='img/file-icon.svg' style='width: 2em'><br>${this.strings['drop_a_file_here_or_browse']}`;\n    } else {\n      return this.strings['drop_a_file_here_or_browse'];\n    }\n  }\n\n  private get enablePasswordProtection(): boolean {\n    return this.protectionType === 'password';\n  }\n\n  // eslint-disable-next-line getter-return\n  private get protection(): Protection {\n    switch (this.protectionType) {\n      case 'raw':\n      case 'passwordless':\n        return {type: this.protectionType};\n      case 'password':\n        return {type: this.protectionType, password: this.password};\n    }\n  }\n\n  private updateRandomStrs() {\n    this.randomStrs[0] = randomStr(3, chars.nonConfusing);\n  }\n\n  private get suggestedSecretPaths(): string[] {\n    const candidates: string[] = (() => {\n      if ((!this.isTextMode && this.files.length === 0) || (this.isTextMode && this.inputText === '')) {\n        // NOTE: This is for simplicity of UI\n        //       Not show suggested secret path on initial status\n        return [];\n      } else if (this.isTextMode) {\n        return [...this.randomStrs.map(s => `${s}.txt`), ...this.randomStrs];\n      } else if (this.files.length === 1) {\n        const fileName = this.files[0].filename;\n        const {ext} = baseAndExt(fileName);\n        return [\n          fileName,\n          ...this.randomStrs.map(s => `${s}${ext}`),\n          ...this.randomStrs,\n        ];\n      } else if(this.files.length > 1) {\n        if(this.secretPath.endsWith('.zip')) {\n          return [];\n        } else {\n          return [\n            ...(this.secretPath === '' ? [] : [`${this.secretPath}.zip`]),\n            ...this.randomStrs.map(s => `${s}.zip`),\n            ...this.randomStrs,\n          ];\n        }\n      } else {\n        return this.randomStrs;\n      }\n    })();\n\n    return candidates.filter(c => this.secretPath !== c);\n  }\n\n  private onEnablePasswordProtection(enable: boolean) {\n    this.protectionType = enable ? 'password' : 'raw';\n  }\n\n  private onEnablePasswordlessProtection(enable: boolean) {\n    this.protectionType = enable ? 'passwordless' : 'raw';\n  }\n\n  private mounted() {\n    // Disable \"Powered by PQINA\" link\n    filePond.setOptions({\n      credits: false,\n    } as any);\n\n    // Update random strings\n    this.updateRandomStrs();\n\n    // Load from Local Storage\n    const serverUrl = window.localStorage.getItem(keys.selectedServerUrl);\n    if (serverUrl !== null) {\n      this.serverUrl = serverUrl;\n    }\n\n    // FIXME: Combobox is lazy to update v-model\n    // This is for updating server URL in real-time\n    this.$refs.server_url_ref.$el.querySelector('input')!.addEventListener('keyup', (ev)=>{\n      // NOTE: [Send] button is hidden by auto-complete list if assigning to this.serverUrl\n      this.shouldBeRemoved.latestServerUrl = (ev.target as any).value;\n    });\n    // FIXME: Combobox is lazy to update v-model\n    // This is for updating secret path in real-time\n    this.$refs.secret_path_ref.$el.querySelector('input')!.addEventListener('keyup', (ev)=>{\n      // NOTE: [Send] button is hidden by auto-complete list if assigning to this.secretPath\n      this.shouldBeRemoved.latestSecretPath = (ev.target as any).value;\n    });\n\n    // Load server URL history from local storage\n    const serverUrlHistory: string[] | undefined = loadLocalStorage(t.array(t.string), keys.serverUrlHistory);\n    // If none\n    if (serverUrlHistory === undefined) {\n      // Set default\n      this.serverUrlHistory = defaultServerUrls.slice();\n    } else {\n      // Load from storage\n      this.serverUrlHistory = serverUrlHistory;\n    }\n\n    // Load server URL history from local storage\n    const secretPathHistory: string[] | undefined = loadLocalStorage(t.array(t.string), keys.secretPathHistory);\n    if (secretPathHistory !== undefined) {\n      this.secretPathHistory = secretPathHistory;\n    }\n  }\n\n  // FIXME: Should be removed\n  private applyLatestServerUrlAndSecretPath() {\n    // FIXME: should be removed after fix\n    // NOTE: This set the latest secret path because v-model of Combobox is lazy\n    this.serverUrl = this.shouldBeRemoved.latestServerUrl;\n    // FIXME: should be removed after fix\n    // NOTE: This set the latest secret path because v-model of Combobox is lazy\n    this.secretPath = this.shouldBeRemoved.latestSecretPath;\n  }\n\n  private async send() {\n    this.applyLatestServerUrlAndSecretPath();\n\n    if (!this.isTextMode && this.files.length === 0) {\n      // Show error message\n      this.showSnackbar(this.strings['error_file_not_selected']);\n      return;\n    }\n    // If secret path is empty\n    if (this.secretPath === '') {\n      // Show error message\n      this.showSnackbar(this.strings['error_secret_path_not_specified']);\n      return;\n    }\n\n    // If enabling password protection and password is empty\n    if (this.protectionType === 'password' && this.password === '') {\n      // Show error message\n      this.showSnackbar(this.strings['password_is_required']);\n      return;\n    }\n\n    const body: filePond.ActualFileObject[] | string = this.isTextMode ? this.inputText : this.files.map(f => f.file);\n\n    // Increment upload counter\n    this.uploadCount++;\n    // Delegate data uploading\n    this.expandedPanels.unshift({\n      type: 'data_uploader',\n      props: {\n        uploadNo: this.uploadCount,\n        data: body,\n        serverUrl: this.serverUrl,\n        secretPath: this.secretPath,\n        protection: this.protection,\n      }\n    });\n    // Open by default\n    this.expandedPanelIds.push(this.expandedPanels.length-1);\n\n    // If history is enable and user-input server URL is new\n    if (globalStore.recordsServerUrlHistory && !this.serverUrlHistory.map(normalizeUrl).includes(normalizeUrl(this.serverUrl))) {\n      // Enroll server URLs\n      this.serverUrlHistory.push(this.serverUrl);\n      // Save to local storage\n      window.localStorage.setItem(keys.serverUrlHistory, JSON.stringify(this.serverUrlHistory));\n    }\n\n    // If history is enable and user-input secret path is new\n    if (globalStore.recordsSecretPathHistory) {\n      // Add secret path\n      this.addSecretPath();\n      // Save to local storage\n      window.localStorage.setItem(keys.secretPathHistory, JSON.stringify(this.secretPathHistory));\n    }\n  }\n\n  // Add secret path: latest-used path is the top\n  private addSecretPath(): void {\n    // Remove element\n    const idx = this.secretPathHistory.indexOf((this.secretPath));\n    if (idx !== -1) {\n      this.secretPathHistory.splice(idx, 1);\n    }\n    // Enrol secret path\n    this.secretPathHistory.unshift(this.secretPath);\n  }\n\n  // NOTE: Some file types are displayed inline\n  private async get() {\n    this.applyLatestServerUrlAndSecretPath();\n\n    // If secret path is empty\n    if (this.secretPath === '') {\n      // Show error message\n      this.showSnackbar(this.strings['error_secret_path_not_specified']);\n      return;\n    }\n\n    const urlJoin = await urlJoinAsync();\n    // If enabling password protection and password is empty\n    if (this.protectionType === 'password' && this.password === '') {\n      // Show error message\n      this.showSnackbar(this.strings['password_is_required']);\n      return;\n    }\n\n    this.downloadCount++;\n    // Delegate data downloading\n    this.expandedPanels.unshift({\n      type: 'data_downloader',\n      props: {\n        downloadNo: this.downloadCount,\n        serverUrl: this.serverUrl,\n        secretPath: this.secretPath,\n        protection: this.protection,\n      }\n    });\n    this.expandedPanelIds.push(this.expandedPanels.length-1);\n  }\n\n  private async view() {\n    this.applyLatestServerUrlAndSecretPath();\n\n    // If secret path is empty\n    if (this.secretPath === '') {\n      // Show error message\n      this.showSnackbar(this.strings['error_secret_path_not_specified']);\n      return;\n    }\n\n    // If enabling password protection and password is empty\n    if (this.enablePasswordProtection && this.password === '') {\n      // Show error message\n      this.showSnackbar(this.strings['password_is_required']);\n      return;\n    }\n\n    this.viewCount++;\n    this.expandedPanels.unshift({\n      type: 'data_viewer',\n      props: {\n        viewNo: this.viewCount,\n        serverUrl: this.serverUrl,\n        secretPath: this.secretPath,\n        protection: this.protection,\n      }\n    });\n    // Open by default\n    this.expandedPanelIds.push(this.expandedPanels.length-1);\n  }\n\n  // Show error message\n  private showSnackbar(message: string): void {\n    this.showsSnackbar = true;\n    this.snackbarMessage = message;\n  }\n\n  private attachProtocolToUrl(): void {\n    // FIXME: Don't use setTimeout()\n    // @blur is called before the value changed.\n    setTimeout(() => {\n      if (this.serverUrl.match(/^https?:\\/\\//) === null) {\n        this.serverUrl = `https://${this.serverUrl}`;\n      }\n    }, 100);\n\n  }\n\n  private deleteServerUrl(url: string): void {\n    // Remove path\n    this.serverUrlHistory = this.serverUrlHistory.filter(u => u !== url);\n    // Save to local storage\n    window.localStorage.setItem(keys.serverUrlHistory, JSON.stringify(this.serverUrlHistory));\n  }\n\n  private deleteSecretPath(path: string): void {\n    // Remove path\n    this.secretPathHistory = this.secretPathHistory.filter(p => p !== path);\n    // Save to local storage\n    window.localStorage.setItem(keys.secretPathHistory, JSON.stringify(this.secretPathHistory));\n  }\n}\n\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PipingUI.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PipingUI.vue?vue&type=script&lang=ts&\"","// Extensions\nimport { BaseItemGroup } from '../../components/VItemGroup/VItemGroup'\n\n/* @vue/component */\nexport default BaseItemGroup.extend({\n  name: 'button-group',\n\n  provide (): object {\n    return {\n      btnToggle: this,\n    }\n  },\n\n  computed: {\n    classes (): object {\n      return BaseItemGroup.options.computed.classes.call(this)\n    },\n  },\n\n  methods: {\n    // Isn't being passed down through types\n    genData: BaseItemGroup.options.methods.genData,\n  },\n})\n","// Styles\nimport './VBtnToggle.sass'\n\n// Mixins\nimport ButtonGroup from '../../mixins/button-group'\nimport Colorable from '../../mixins/colorable'\n\n// Utilities\nimport mixins from '../../util/mixins'\n\n/* @vue/component */\nexport default mixins(\n  ButtonGroup,\n  Colorable\n).extend({\n  name: 'v-btn-toggle',\n\n  props: {\n    backgroundColor: String,\n    borderless: Boolean,\n    dense: Boolean,\n    group: Boolean,\n    rounded: Boolean,\n    shaped: Boolean,\n    tile: Boolean,\n  },\n\n  computed: {\n    classes (): object {\n      return {\n        ...ButtonGroup.options.computed.classes.call(this),\n        'v-btn-toggle': true,\n        'v-btn-toggle--borderless': this.borderless,\n        'v-btn-toggle--dense': this.dense,\n        'v-btn-toggle--group': this.group,\n        'v-btn-toggle--rounded': this.rounded,\n        'v-btn-toggle--shaped': this.shaped,\n        'v-btn-toggle--tile': this.tile,\n        ...this.themeClasses,\n      }\n    },\n  },\n\n  methods: {\n    genData () {\n      const data = this.setTextColor(this.color, {\n        ...ButtonGroup.options.methods.genData.call(this),\n      })\n\n      if (this.group) return data\n\n      return this.setBackgroundColor(this.backgroundColor, data)\n    },\n  },\n})\n","import './VGrid.sass'\n\nimport Vue, { VNode, PropOptions } from 'vue'\nimport mergeData from '../../util/mergeData'\nimport { upperFirst } from '../../util/helpers'\n\n// no xs\nconst breakpoints = ['sm', 'md', 'lg', 'xl']\n\nconst breakpointProps = (() => {\n  return breakpoints.reduce((props, val) => {\n    props[val] = {\n      type: [Boolean, String, Number],\n      default: false,\n    }\n    return props\n  }, {} as Dictionary<PropOptions>)\n})()\n\nconst offsetProps = (() => {\n  return breakpoints.reduce((props, val) => {\n    props['offset' + upperFirst(val)] = {\n      type: [String, Number],\n      default: null,\n    }\n    return props\n  }, {} as Dictionary<PropOptions>)\n})()\n\nconst orderProps = (() => {\n  return breakpoints.reduce((props, val) => {\n    props['order' + upperFirst(val)] = {\n      type: [String, Number],\n      default: null,\n    }\n    return props\n  }, {} as Dictionary<PropOptions>)\n})()\n\nconst propMap = {\n  col: Object.keys(breakpointProps),\n  offset: Object.keys(offsetProps),\n  order: Object.keys(orderProps),\n}\n\nfunction breakpointClass (type: keyof typeof propMap, prop: string, val: boolean | string | number) {\n  let className = type\n  if (val == null || val === false) {\n    return undefined\n  }\n  if (prop) {\n    const breakpoint = prop.replace(type, '')\n    className += `-${breakpoint}`\n  }\n  // Handling the boolean style prop when accepting [Boolean, String, Number]\n  // means Vue will not convert <v-col sm></v-col> to sm: true for us.\n  // Since the default is false, an empty string indicates the prop's presence.\n  if (type === 'col' && (val === '' || val === true)) {\n    // .col-md\n    return className.toLowerCase()\n  }\n  // .order-md-6\n  className += `-${val}`\n  return className.toLowerCase()\n}\n\nconst cache = new Map<string, any[]>()\n\nexport default Vue.extend({\n  name: 'v-col',\n  functional: true,\n  props: {\n    cols: {\n      type: [Boolean, String, Number],\n      default: false,\n    },\n    ...breakpointProps,\n    offset: {\n      type: [String, Number],\n      default: null,\n    },\n    ...offsetProps,\n    order: {\n      type: [String, Number],\n      default: null,\n    },\n    ...orderProps,\n    alignSelf: {\n      type: String,\n      default: null,\n      validator: (str: any) => ['auto', 'start', 'end', 'center', 'baseline', 'stretch'].includes(str),\n    },\n    tag: {\n      type: String,\n      default: 'div',\n    },\n  },\n  render (h, { props, data, children, parent }): VNode {\n    // Super-fast memoization based on props, 5x faster than JSON.stringify\n    let cacheKey = ''\n    for (const prop in props) {\n      cacheKey += String((props as any)[prop])\n    }\n    let classList = cache.get(cacheKey)\n\n    if (!classList) {\n      classList = []\n      // Loop through `col`, `offset`, `order` breakpoint props\n      let type: keyof typeof propMap\n      for (type in propMap) {\n        propMap[type].forEach(prop => {\n          const value: string | number | boolean = (props as any)[prop]\n          const className = breakpointClass(type, prop, value)\n          if (className) classList!.push(className)\n        })\n      }\n\n      const hasColClasses = classList.some(className => className.startsWith('col-'))\n\n      classList.push({\n        // Default to .col if no other col-{bp}-* classes generated nor `cols` specified.\n        col: !hasColClasses || !props.cols,\n        [`col-${props.cols}`]: props.cols,\n        [`offset-${props.offset}`]: props.offset,\n        [`order-${props.order}`]: props.order,\n        [`align-self-${props.alignSelf}`]: props.alignSelf,\n      })\n\n      cache.set(cacheKey, classList)\n    }\n\n    return h(props.tag, mergeData(data, { class: classList }), children)\n  },\n})\n","// Styles\nimport './VAutocomplete.sass'\n\n// Extensions\nimport VSelect, { defaultMenuProps as VSelectMenuProps } from '../VSelect/VSelect'\nimport VTextField from '../VTextField/VTextField'\n\n// Utilities\nimport mergeData from '../../util/mergeData'\nimport {\n  getObjectValueByPath,\n  getPropertyFromItem,\n  keyCodes,\n} from '../../util/helpers'\n\n// Types\nimport { PropType, VNode } from 'vue'\nimport { PropValidator } from 'vue/types/options'\n\nconst defaultMenuProps = {\n  ...VSelectMenuProps,\n  offsetY: true,\n  offsetOverflow: true,\n  transition: false,\n}\n\n/* @vue/component */\nexport default VSelect.extend({\n  name: 'v-autocomplete',\n\n  props: {\n    allowOverflow: {\n      type: Boolean,\n      default: true,\n    },\n    autoSelectFirst: {\n      type: Boolean,\n      default: false,\n    },\n    filter: {\n      type: Function,\n      default: (item: any, queryText: string, itemText: string) => {\n        return itemText.toLocaleLowerCase().indexOf(queryText.toLocaleLowerCase()) > -1\n      },\n    } as PropValidator<(item: any, queryText: string, itemText: string) => boolean>,\n    hideNoData: Boolean,\n    menuProps: {\n      type: VSelect.options.props.menuProps.type,\n      default: () => defaultMenuProps,\n    },\n    noFilter: Boolean,\n    searchInput: {\n      type: String as PropType<string | null>,\n    },\n  },\n\n  data () {\n    return {\n      lazySearch: this.searchInput,\n    }\n  },\n\n  computed: {\n    classes (): object {\n      return {\n        ...VSelect.options.computed.classes.call(this),\n        'v-autocomplete': true,\n        'v-autocomplete--is-selecting-index': this.selectedIndex > -1,\n      }\n    },\n    computedItems (): object[] {\n      return this.filteredItems\n    },\n    selectedValues (): object[] {\n      return this.selectedItems.map(item => this.getValue(item))\n    },\n    hasDisplayedItems (): boolean {\n      return this.hideSelected\n        ? this.filteredItems.some(item => !this.hasItem(item))\n        : this.filteredItems.length > 0\n    },\n    currentRange (): number {\n      if (this.selectedItem == null) return 0\n\n      return String(this.getText(this.selectedItem)).length\n    },\n    filteredItems (): object[] {\n      if (!this.isSearching || this.noFilter || this.internalSearch == null) return this.allItems\n\n      return this.allItems.filter(item => {\n        const value = getPropertyFromItem(item, this.itemText)\n        const text = value != null ? String(value) : ''\n\n        return this.filter(item, String(this.internalSearch), text)\n      })\n    },\n    internalSearch: {\n      get (): string | null {\n        return this.lazySearch\n      },\n      set (val: any) { // TODO: this should be `string | null` but it breaks lots of other types\n        // emit update event only when the new\n        // search value is different from previous\n        if (this.lazySearch !== val) {\n          this.lazySearch = val\n          this.$emit('update:search-input', val)\n        }\n      },\n    },\n    isAnyValueAllowed (): boolean {\n      return false\n    },\n    isDirty (): boolean {\n      return this.searchIsDirty || this.selectedItems.length > 0\n    },\n    isSearching (): boolean {\n      return (\n        this.multiple &&\n        this.searchIsDirty\n      ) || (\n        this.searchIsDirty &&\n        this.internalSearch !== this.getText(this.selectedItem)\n      )\n    },\n    menuCanShow (): boolean {\n      if (!this.isFocused) return false\n\n      return this.hasDisplayedItems || !this.hideNoData\n    },\n    $_menuProps (): object {\n      const props = VSelect.options.computed.$_menuProps.call(this);\n      (props as any).contentClass = `v-autocomplete__content ${(props as any).contentClass || ''}`.trim()\n      return {\n        ...defaultMenuProps,\n        ...props,\n      }\n    },\n    searchIsDirty (): boolean {\n      return this.internalSearch != null &&\n        this.internalSearch !== ''\n    },\n    selectedItem (): any {\n      if (this.multiple) return null\n\n      return this.selectedItems.find(i => {\n        return this.valueComparator(this.getValue(i), this.getValue(this.internalValue))\n      })\n    },\n    listData () {\n      const data = VSelect.options.computed.listData.call(this) as any\n\n      data.props = {\n        ...data.props,\n        items: this.virtualizedItems,\n        noFilter: (\n          this.noFilter ||\n          !this.isSearching ||\n          !this.filteredItems.length\n        ),\n        searchInput: this.internalSearch,\n      }\n\n      return data\n    },\n  },\n\n  watch: {\n    filteredItems: 'onFilteredItemsChanged',\n    internalValue: 'setSearch',\n    isFocused (val) {\n      if (val) {\n        document.addEventListener('copy', this.onCopy)\n        this.$refs.input && this.$refs.input.select()\n      } else {\n        document.removeEventListener('copy', this.onCopy)\n        this.blur()\n        this.updateSelf()\n      }\n    },\n    isMenuActive (val) {\n      if (val || !this.hasSlot) return\n\n      this.lazySearch = null\n    },\n    items (val, oldVal) {\n      // If we are focused, the menu\n      // is not active, hide no data is enabled,\n      // and items change\n      // User is probably async loading\n      // items, try to activate the menu\n      if (\n        !(oldVal && oldVal.length) &&\n        this.hideNoData &&\n        this.isFocused &&\n        !this.isMenuActive &&\n        val.length\n      ) this.activateMenu()\n    },\n    searchInput (val: string) {\n      this.lazySearch = val\n    },\n    internalSearch: 'onInternalSearchChanged',\n    itemText: 'updateSelf',\n  },\n\n  created () {\n    this.setSearch()\n  },\n\n  destroyed () {\n    document.removeEventListener('copy', this.onCopy)\n  },\n\n  methods: {\n    onFilteredItemsChanged (val: never[], oldVal: never[]) {\n      // TODO: How is the watcher triggered\n      // for duplicate items? no idea\n      if (val === oldVal) return\n\n      if (!this.autoSelectFirst) {\n        const preSelectedItem = oldVal[this.$refs.menu.listIndex]\n\n        if (preSelectedItem) {\n          this.setMenuIndex(val.findIndex(i => i === preSelectedItem))\n        } else {\n          this.setMenuIndex(-1)\n        }\n        this.$emit('update:list-index', this.$refs.menu.listIndex)\n      }\n\n      this.$nextTick(() => {\n        if (\n          !this.internalSearch ||\n          (val.length !== 1 &&\n            !this.autoSelectFirst)\n        ) return\n\n        this.$refs.menu.getTiles()\n\n        if (this.autoSelectFirst && val.length) {\n          this.setMenuIndex(0)\n          this.$emit('update:list-index', this.$refs.menu.listIndex)\n        }\n      })\n    },\n    onInternalSearchChanged () {\n      this.updateMenuDimensions()\n    },\n    updateMenuDimensions () {\n      // Type from menuable is not making it through\n      this.isMenuActive && this.$refs.menu && this.$refs.menu.updateDimensions()\n    },\n    changeSelectedIndex (keyCode: number) {\n      // Do not allow changing of selectedIndex\n      // when search is dirty\n      if (this.searchIsDirty) return\n\n      if (this.multiple && keyCode === keyCodes.left) {\n        if (this.selectedIndex === -1) {\n          this.selectedIndex = this.selectedItems.length - 1\n        } else {\n          this.selectedIndex--\n        }\n      } else if (this.multiple && keyCode === keyCodes.right) {\n        if (this.selectedIndex >= this.selectedItems.length - 1) {\n          this.selectedIndex = -1\n        } else {\n          this.selectedIndex++\n        }\n      } else if (keyCode === keyCodes.backspace || keyCode === keyCodes.delete) {\n        this.deleteCurrentItem()\n      }\n    },\n    deleteCurrentItem () {\n      const curIndex = this.selectedIndex\n      const curItem = this.selectedItems[curIndex]\n\n      // Do nothing if input or item is disabled\n      if (\n        !this.isInteractive ||\n        this.getDisabled(curItem)\n      ) return\n\n      const lastIndex = this.selectedItems.length - 1\n\n      // Select the last item if\n      // there is no selection\n      if (\n        this.selectedIndex === -1 &&\n        lastIndex !== 0\n      ) {\n        this.selectedIndex = lastIndex\n\n        return\n      }\n\n      const length = this.selectedItems.length\n      const nextIndex = curIndex !== length - 1\n        ? curIndex\n        : curIndex - 1\n      const nextItem = this.selectedItems[nextIndex]\n\n      if (!nextItem) {\n        this.setValue(this.multiple ? [] : null)\n      } else {\n        this.selectItem(curItem)\n      }\n\n      this.selectedIndex = nextIndex\n    },\n    clearableCallback () {\n      this.internalSearch = null\n\n      VSelect.options.methods.clearableCallback.call(this)\n    },\n    genInput () {\n      const input = VTextField.options.methods.genInput.call(this)\n\n      input.data = mergeData(input.data!, {\n        attrs: {\n          'aria-activedescendant': getObjectValueByPath(this.$refs.menu, 'activeTile.id'),\n          autocomplete: getObjectValueByPath(input.data!, 'attrs.autocomplete', 'off'),\n        },\n        domProps: { value: this.internalSearch },\n      })\n\n      return input\n    },\n    genInputSlot () {\n      const slot = VSelect.options.methods.genInputSlot.call(this)\n\n      slot.data!.attrs!.role = 'combobox'\n\n      return slot\n    },\n    genSelections (): VNode | never[] {\n      return this.hasSlot || this.multiple\n        ? VSelect.options.methods.genSelections.call(this)\n        : []\n    },\n    onClick (e: MouseEvent) {\n      if (!this.isInteractive) return\n\n      this.selectedIndex > -1\n        ? (this.selectedIndex = -1)\n        : this.onFocus()\n\n      if (!this.isAppendInner(e.target)) this.activateMenu()\n    },\n    onInput (e: Event) {\n      if (\n        this.selectedIndex > -1 ||\n        !e.target\n      ) return\n\n      const target = e.target as HTMLInputElement\n      const value = target.value\n\n      // If typing and menu is not currently active\n      if (target.value) this.activateMenu()\n\n      if (!this.multiple && value === '') this.deleteCurrentItem()\n\n      this.internalSearch = value\n      this.badInput = target.validity && target.validity.badInput\n    },\n    onKeyDown (e: KeyboardEvent) {\n      const keyCode = e.keyCode\n\n      if (\n        e.ctrlKey ||\n        ![keyCodes.home, keyCodes.end].includes(keyCode)\n      ) {\n        VSelect.options.methods.onKeyDown.call(this, e)\n      }\n\n      // The ordering is important here\n      // allows new value to be updated\n      // and then moves the index to the\n      // proper location\n      this.changeSelectedIndex(keyCode)\n    },\n    onSpaceDown (e: KeyboardEvent) { /* noop */ },\n    onTabDown (e: KeyboardEvent) {\n      VSelect.options.methods.onTabDown.call(this, e)\n      this.updateSelf()\n    },\n    onUpDown (e: Event) {\n      // Prevent screen from scrolling\n      e.preventDefault()\n\n      // For autocomplete / combobox, cycling\n      // interfers with native up/down behavior\n      // instead activate the menu\n      this.activateMenu()\n    },\n    selectItem (item: object) {\n      VSelect.options.methods.selectItem.call(this, item)\n      this.setSearch()\n    },\n    setSelectedItems () {\n      VSelect.options.methods.setSelectedItems.call(this)\n\n      // #4273 Don't replace if searching\n      // #4403 Don't replace if focused\n      if (!this.isFocused) this.setSearch()\n    },\n    setSearch () {\n      // Wait for nextTick so selectedItem\n      // has had time to update\n      this.$nextTick(() => {\n        if (\n          !this.multiple ||\n          !this.internalSearch ||\n          !this.isMenuActive\n        ) {\n          this.internalSearch = (\n            !this.selectedItems.length ||\n            this.multiple ||\n            this.hasSlot\n          )\n            ? null\n            : this.getText(this.selectedItem)\n        }\n      })\n    },\n    updateSelf () {\n      if (\n        !this.searchIsDirty &&\n        !this.internalValue\n      ) return\n\n      if (\n        !this.multiple &&\n        !this.valueComparator(\n          this.internalSearch,\n          this.getValue(this.internalValue)\n        )\n      ) {\n        this.setSearch()\n      }\n    },\n    hasItem (item: any): boolean {\n      return this.selectedValues.indexOf(this.getValue(item)) > -1\n    },\n    onCopy (event: ClipboardEvent) {\n      if (this.selectedIndex === -1) return\n\n      const currentItem = this.selectedItems[this.selectedIndex]\n      const currentItemText = this.getText(currentItem)\n      event.clipboardData?.setData('text/plain', currentItemText)\n      event.clipboardData?.setData('text/vnd.vuetify.autocomplete.item+plain', currentItemText)\n      event.preventDefault()\n    },\n  },\n})\n","// Styles\nimport '../VAutocomplete/VAutocomplete.sass'\n\n// Extensions\nimport VSelect from '../VSelect/VSelect'\nimport VAutocomplete from '../VAutocomplete/VAutocomplete'\n\n// Utils\nimport { keyCodes } from '../../util/helpers'\n\n// Types\nimport { PropValidator } from 'vue/types/options'\n\n/* @vue/component */\nexport default VAutocomplete.extend({\n  name: 'v-combobox',\n\n  props: {\n    delimiters: {\n      type: Array,\n      default: () => ([]),\n    } as PropValidator<string[]>,\n    returnObject: {\n      type: Boolean,\n      default: true,\n    },\n  },\n\n  data: () => ({\n    editingIndex: -1,\n  }),\n\n  computed: {\n    computedCounterValue (): number {\n      return this.multiple\n        ? this.selectedItems.length\n        : (this.internalSearch || '').toString().length\n    },\n    hasSlot (): boolean {\n      return VSelect.options.computed.hasSlot.call(this) || this.multiple\n    },\n    isAnyValueAllowed (): boolean {\n      return true\n    },\n    menuCanShow (): boolean {\n      if (!this.isFocused) return false\n\n      return this.hasDisplayedItems ||\n        (!!this.$slots['no-data'] && !this.hideNoData)\n    },\n    searchIsDirty (): boolean {\n      return this.internalSearch != null\n    },\n  },\n\n  methods: {\n    onInternalSearchChanged (val: any) {\n      if (\n        val &&\n        this.multiple &&\n        this.delimiters.length\n      ) {\n        const delimiter = this.delimiters.find(d => val.endsWith(d))\n        if (delimiter != null) {\n          this.internalSearch = val.slice(0, val.length - delimiter.length)\n          this.updateTags()\n        }\n      }\n\n      this.updateMenuDimensions()\n    },\n    genInput () {\n      const input = VAutocomplete.options.methods.genInput.call(this)\n\n      delete input.data!.attrs!.name\n      input.data!.on!.paste = this.onPaste\n\n      return input\n    },\n    genChipSelection (item: object, index: number) {\n      const chip = VSelect.options.methods.genChipSelection.call(this, item, index)\n\n      // Allow user to update an existing value\n      if (this.multiple) {\n        chip.componentOptions!.listeners! = {\n          ...chip.componentOptions!.listeners!,\n          dblclick: () => {\n            this.editingIndex = index\n            this.internalSearch = this.getText(item)\n            this.selectedIndex = -1\n          },\n        }\n      }\n\n      return chip\n    },\n    onChipInput (item: object) {\n      VSelect.options.methods.onChipInput.call(this, item)\n\n      this.editingIndex = -1\n    },\n    // Requires a manual definition\n    // to overwrite removal in v-autocomplete\n    onEnterDown (e: Event) {\n      e.preventDefault()\n      // If has menu index, let v-select-list handle\n      if (this.getMenuIndex() > -1) return\n\n      this.$nextTick(this.updateSelf)\n    },\n    onKeyDown (e: KeyboardEvent) {\n      const keyCode = e.keyCode\n\n      if (\n        e.ctrlKey ||\n        ![keyCodes.home, keyCodes.end].includes(keyCode)\n      ) {\n        VSelect.options.methods.onKeyDown.call(this, e)\n      }\n\n      // If user is at selection index of 0\n      // create a new tag\n      if (this.multiple &&\n        keyCode === keyCodes.left &&\n        this.$refs.input.selectionStart === 0\n      ) {\n        this.updateSelf()\n      } else if (keyCode === keyCodes.enter) {\n        this.onEnterDown(e)\n      }\n\n      // The ordering is important here\n      // allows new value to be updated\n      // and then moves the index to the\n      // proper location\n      this.changeSelectedIndex(keyCode)\n    },\n    onTabDown (e: KeyboardEvent) {\n      // When adding tags, if searching and\n      // there is not a filtered options,\n      // add the value to the tags list\n      if (this.multiple &&\n        this.internalSearch &&\n        this.getMenuIndex() === -1\n      ) {\n        e.preventDefault()\n        e.stopPropagation()\n\n        return this.updateTags()\n      }\n\n      VAutocomplete.options.methods.onTabDown.call(this, e)\n    },\n    selectItem (item: object) {\n      // Currently only supports items:<string[]>\n      if (this.editingIndex > -1) {\n        this.updateEditing()\n      } else {\n        VAutocomplete.options.methods.selectItem.call(this, item)\n\n        // if selected item contains search value,\n        // remove the search string\n        if (\n          this.internalSearch &&\n          this.multiple &&\n          this.getText(item).toLocaleLowerCase().includes(this.internalSearch.toLocaleLowerCase())\n        ) {\n          this.internalSearch = null\n        }\n      }\n    },\n    setSelectedItems () {\n      if (this.internalValue == null ||\n        this.internalValue === ''\n      ) {\n        this.selectedItems = []\n      } else {\n        this.selectedItems = this.multiple ? this.internalValue : [this.internalValue]\n      }\n    },\n    setValue (value?: any) {\n      VSelect.options.methods.setValue.call(this, value === undefined ? this.internalSearch : value)\n    },\n    updateEditing () {\n      const value = this.internalValue.slice()\n      const index = this.selectedItems.findIndex(item =>\n        this.getText(item) === this.internalSearch)\n\n      // If user enters a duplicate text on chip edit,\n      // don't add it, move it to the end of the list\n      if (index > -1) {\n        const item = typeof value[index] === 'object'\n          ? Object.assign({}, value[index])\n          : value[index]\n\n        value.splice(index, 1)\n        value.push(item)\n      } else {\n        value[this.editingIndex] = this.internalSearch\n      }\n\n      this.setValue(value)\n      this.editingIndex = -1\n      this.internalSearch = null\n    },\n    updateCombobox () {\n      // If search is not dirty, do nothing\n      if (!this.searchIsDirty) return\n\n      // The internal search is not matching\n      // the internal value, update the input\n      if (this.internalSearch !== this.getText(this.internalValue)) this.setValue()\n\n      // Reset search if using slot to avoid a double input\n      const isUsingSlot = Boolean(this.$scopedSlots.selection) || this.hasChips\n      if (isUsingSlot) this.internalSearch = null\n    },\n    updateSelf () {\n      this.multiple ? this.updateTags() : this.updateCombobox()\n    },\n    updateTags () {\n      const menuIndex = this.getMenuIndex()\n\n      // If the user is not searching\n      // and no menu item is selected\n      // or if the search is empty\n      // do nothing\n      if ((menuIndex < 0 && !this.searchIsDirty) ||\n          !this.internalSearch) return\n\n      if (this.editingIndex > -1) {\n        return this.updateEditing()\n      }\n\n      const index = this.selectedItems.findIndex(item =>\n        this.internalSearch === this.getText(item))\n\n      // If the duplicate item is an object,\n      // copy it, so that it can be added again later\n      const itemToSelect = index > -1 && typeof this.selectedItems[index] === 'object'\n        ? Object.assign({}, this.selectedItems[index])\n        : this.internalSearch\n\n      // If it already exists, do nothing\n      // this might need to change to bring\n      // the duplicated item to the last entered\n      if (index > -1) {\n        const internalValue = this.internalValue.slice()\n        internalValue.splice(index, 1)\n\n        this.setValue(internalValue)\n      }\n\n      // If menu index is greater than 1\n      // the selection is handled elsewhere\n      // TODO: find out where\n      if (menuIndex > -1) return (this.internalSearch = null)\n\n      this.selectItem(itemToSelect)\n\n      this.internalSearch = null\n    },\n    onPaste (event: ClipboardEvent) {\n      if (!this.multiple || this.searchIsDirty) return\n\n      const pastedItemText = event.clipboardData?.getData('text/vnd.vuetify.autocomplete.item+plain')\n      if (pastedItemText && this.findExistingIndex(pastedItemText as any) === -1) {\n        event.preventDefault()\n        VSelect.options.methods.selectItem.call(this, pastedItemText as any)\n      }\n    },\n    clearableCallback () {\n      this.editingIndex = -1\n\n      VAutocomplete.options.methods.clearableCallback.call(this)\n    },\n  },\n})\n","// Styles\nimport './VExpansionPanel.sass'\n\n// Components\nimport { BaseItemGroup, GroupableInstance } from '../VItemGroup/VItemGroup'\nimport VExpansionPanel from './VExpansionPanel'\n\n// Utilities\nimport { breaking } from '../../util/console'\n\n// Types\ninterface VExpansionPanelInstance extends InstanceType<typeof VExpansionPanel> {}\n\n/* @vue/component */\nexport default BaseItemGroup.extend({\n  name: 'v-expansion-panels',\n\n  provide (): object {\n    return {\n      expansionPanels: this,\n    }\n  },\n\n  props: {\n    accordion: Boolean,\n    disabled: Boolean,\n    flat: Boolean,\n    hover: Boolean,\n    focusable: Boolean,\n    inset: Boolean,\n    popout: Boolean,\n    readonly: Boolean,\n    tile: Boolean,\n  },\n\n  computed: {\n    classes (): object {\n      return {\n        ...BaseItemGroup.options.computed.classes.call(this),\n        'v-expansion-panels': true,\n        'v-expansion-panels--accordion': this.accordion,\n        'v-expansion-panels--flat': this.flat,\n        'v-expansion-panels--hover': this.hover,\n        'v-expansion-panels--focusable': this.focusable,\n        'v-expansion-panels--inset': this.inset,\n        'v-expansion-panels--popout': this.popout,\n        'v-expansion-panels--tile': this.tile,\n      }\n    },\n  },\n\n  created () {\n    /* istanbul ignore next */\n    if (this.$attrs.hasOwnProperty('expand')) {\n      breaking('expand', 'multiple', this)\n    }\n\n    /* istanbul ignore next */\n    if (\n      Array.isArray(this.value) &&\n      this.value.length > 0 &&\n      typeof this.value[0] === 'boolean'\n    ) {\n      breaking(':value=\"[true, false, true]\"', ':value=\"[0, 2]\"', this)\n    }\n  },\n\n  methods: {\n    updateItem (item: GroupableInstance & VExpansionPanelInstance, index: number) {\n      const value = this.getValue(item, index)\n      const nextValue = this.getValue(item, index + 1)\n\n      item.isActive = this.toggleMethod(value)\n      item.nextIsActive = this.toggleMethod(nextValue)\n    },\n  },\n})\n","import './VGrid.sass'\n\nimport Vue, { PropOptions } from 'vue'\nimport mergeData from '../../util/mergeData'\nimport { upperFirst } from '../../util/helpers'\n\n// no xs\nconst breakpoints = ['sm', 'md', 'lg', 'xl']\n\nconst ALIGNMENT = ['start', 'end', 'center']\n\nfunction makeProps (prefix: string, def: () => PropOptions) {\n  return breakpoints.reduce((props, val) => {\n    props[prefix + upperFirst(val)] = def()\n    return props\n  }, {} as Dictionary<PropOptions>)\n}\n\nconst alignValidator = (str: any) => [...ALIGNMENT, 'baseline', 'stretch'].includes(str)\nconst alignProps = makeProps('align', () => ({\n  type: String,\n  default: null,\n  validator: alignValidator,\n}))\n\nconst justifyValidator = (str: any) => [...ALIGNMENT, 'space-between', 'space-around'].includes(str)\nconst justifyProps = makeProps('justify', () => ({\n  type: String,\n  default: null,\n  validator: justifyValidator,\n}))\n\nconst alignContentValidator = (str: any) => [...ALIGNMENT, 'space-between', 'space-around', 'stretch'].includes(str)\nconst alignContentProps = makeProps('alignContent', () => ({\n  type: String,\n  default: null,\n  validator: alignContentValidator,\n}))\n\nconst propMap = {\n  align: Object.keys(alignProps),\n  justify: Object.keys(justifyProps),\n  alignContent: Object.keys(alignContentProps),\n}\n\nconst classMap = {\n  align: 'align',\n  justify: 'justify',\n  alignContent: 'align-content',\n}\n\nfunction breakpointClass (type: keyof typeof propMap, prop: string, val: string) {\n  let className = classMap[type]\n  if (val == null) {\n    return undefined\n  }\n  if (prop) {\n    // alignSm -> Sm\n    const breakpoint = prop.replace(type, '')\n    className += `-${breakpoint}`\n  }\n  // .align-items-sm-center\n  className += `-${val}`\n  return className.toLowerCase()\n}\n\nconst cache = new Map<string, any[]>()\n\nexport default Vue.extend({\n  name: 'v-row',\n  functional: true,\n  props: {\n    tag: {\n      type: String,\n      default: 'div',\n    },\n    dense: Boolean,\n    noGutters: Boolean,\n    align: {\n      type: String,\n      default: null,\n      validator: alignValidator,\n    },\n    ...alignProps,\n    justify: {\n      type: String,\n      default: null,\n      validator: justifyValidator,\n    },\n    ...justifyProps,\n    alignContent: {\n      type: String,\n      default: null,\n      validator: alignContentValidator,\n    },\n    ...alignContentProps,\n  },\n  render (h, { props, data, children }) {\n    // Super-fast memoization based on props, 5x faster than JSON.stringify\n    let cacheKey = ''\n    for (const prop in props) {\n      cacheKey += String((props as any)[prop])\n    }\n    let classList = cache.get(cacheKey)\n\n    if (!classList) {\n      classList = []\n      // Loop through `align`, `justify`, `alignContent` breakpoint props\n      let type: keyof typeof propMap\n      for (type in propMap) {\n        propMap[type].forEach(prop => {\n          const value: string = (props as any)[prop]\n          const className = breakpointClass(type, prop, value)\n          if (className) classList!.push(className)\n        })\n      }\n\n      classList.push({\n        'no-gutters': props.noGutters,\n        'row--dense': props.dense,\n        [`align-${props.align}`]: props.align,\n        [`justify-${props.justify}`]: props.justify,\n        [`align-content-${props.alignContent}`]: props.alignContent,\n      })\n\n      cache.set(cacheKey, classList)\n    }\n\n    return h(\n      props.tag,\n      mergeData(data, {\n        staticClass: 'row',\n        class: classList,\n      }),\n      children\n    )\n  },\n})\n","// Styles\nimport './VSnackbar.sass'\n\n// Components\nimport VSheet from '../VSheet/VSheet'\n\n// Mixins\nimport Colorable from '../../mixins/colorable'\nimport Themeable from '../../mixins/themeable'\nimport Toggleable from '../../mixins/toggleable'\nimport { factory as PositionableFactory } from '../../mixins/positionable'\n\n// Utilities\nimport mixins from '../../util/mixins'\nimport { convertToUnit, getSlot } from '../../util/helpers'\nimport { deprecate, removed } from '../../util/console'\n\n// Types\nimport { PropType, VNode } from 'vue'\n\nexport default mixins(\n  VSheet,\n  Colorable,\n  Toggleable,\n  PositionableFactory([\n    'absolute',\n    'bottom',\n    'left',\n    'right',\n    'top',\n  ])\n/* @vue/component */\n).extend({\n  name: 'v-snackbar',\n\n  props: {\n    app: Boolean,\n    centered: Boolean,\n    contentClass: {\n      type: String,\n      default: '',\n    },\n    multiLine: Boolean,\n    text: Boolean,\n    timeout: {\n      type: [Number, String],\n      default: 5000,\n    },\n    transition: {\n      type: [Boolean, String] as PropType<false | string>,\n      default: 'v-snack-transition',\n      validator: v => typeof v === 'string' || v === false,\n    },\n    vertical: Boolean,\n  },\n\n  data: () => ({\n    activeTimeout: -1,\n  }),\n\n  computed: {\n    classes (): object {\n      return {\n        'v-snack--absolute': this.absolute,\n        'v-snack--active': this.isActive,\n        'v-snack--bottom': this.bottom || !this.top,\n        'v-snack--centered': this.centered,\n        'v-snack--has-background': this.hasBackground,\n        'v-snack--left': this.left,\n        'v-snack--multi-line': this.multiLine && !this.vertical,\n        'v-snack--right': this.right,\n        'v-snack--text': this.text,\n        'v-snack--top': this.top,\n        'v-snack--vertical': this.vertical,\n      }\n    },\n    // Text and outlined styles both\n    // use transparent backgrounds\n    hasBackground (): boolean {\n      return (\n        !this.text &&\n        !this.outlined\n      )\n    },\n    // Snackbar is dark by default\n    // override themeable logic.\n    isDark (): boolean {\n      return this.hasBackground\n        ? !this.light\n        : Themeable.options.computed.isDark.call(this)\n    },\n    styles (): object {\n      if (this.absolute || !this.app) return {}\n\n      const {\n        bar,\n        bottom,\n        footer,\n        insetFooter,\n        left,\n        right,\n        top,\n      } = this.$vuetify.application\n\n      return {\n        paddingBottom: convertToUnit(bottom + footer + insetFooter),\n        paddingLeft: convertToUnit(left),\n        paddingRight: convertToUnit(right),\n        paddingTop: convertToUnit(bar + top),\n      }\n    },\n  },\n\n  watch: {\n    isActive: 'setTimeout',\n    timeout: 'setTimeout',\n  },\n\n  mounted () {\n    if (this.isActive) this.setTimeout()\n  },\n\n  created () {\n    /* istanbul ignore next */\n    if (this.$attrs.hasOwnProperty('auto-height')) {\n      removed('auto-height', this)\n    }\n\n    /* istanbul ignore next */\n    // eslint-disable-next-line eqeqeq\n    if (this.timeout == 0) {\n      deprecate('timeout=\"0\"', '-1', this)\n    }\n  },\n\n  methods: {\n    genActions () {\n      return this.$createElement('div', {\n        staticClass: 'v-snack__action ',\n      }, [\n        getSlot(this, 'action', {\n          attrs: { class: 'v-snack__btn' },\n        }),\n      ])\n    },\n    genContent () {\n      return this.$createElement('div', {\n        staticClass: 'v-snack__content',\n        class: {\n          [this.contentClass]: true,\n        },\n        attrs: {\n          role: 'status',\n          'aria-live': 'polite',\n        },\n      }, [getSlot(this)])\n    },\n    genWrapper () {\n      const setColor = this.hasBackground\n        ? this.setBackgroundColor\n        : this.setTextColor\n\n      const data = setColor(this.color, {\n        staticClass: 'v-snack__wrapper',\n        class: VSheet.options.computed.classes.call(this),\n        style: VSheet.options.computed.styles.call(this),\n        directives: [{\n          name: 'show',\n          value: this.isActive,\n        }],\n        on: {\n          pointerenter: () => window.clearTimeout(this.activeTimeout),\n          pointerleave: this.setTimeout,\n        },\n      })\n\n      return this.$createElement('div', data, [\n        this.genContent(),\n        this.genActions(),\n      ])\n    },\n    genTransition () {\n      return this.$createElement('transition', {\n        props: { name: this.transition },\n      }, [this.genWrapper()])\n    },\n    setTimeout () {\n      window.clearTimeout(this.activeTimeout)\n\n      const timeout = Number(this.timeout)\n\n      if (\n        !this.isActive ||\n        // TODO: remove 0 in v3\n        [0, -1].includes(timeout)\n      ) {\n        return\n      }\n\n      this.activeTimeout = window.setTimeout(() => {\n        this.isActive = false\n      }, timeout)\n    },\n  },\n\n  render (h): VNode {\n    return h('div', {\n      staticClass: 'v-snack',\n      class: this.classes,\n      style: this.styles,\n    }, [\n      this.transition !== false\n        ? this.genTransition()\n        : this.genWrapper(),\n    ])\n  },\n})\n","// Styles\nimport './VTextarea.sass'\n\n// Extensions\nimport VTextField from '../VTextField/VTextField'\n\n// Utilities\nimport mixins from '../../util/mixins'\n\n// Types\nimport Vue from 'vue'\n\ninterface options extends Vue {\n  $refs: {\n    input: HTMLTextAreaElement\n  }\n}\n\nconst baseMixins = mixins<options &\n  InstanceType<typeof VTextField>\n>(\n  VTextField\n)\n\n/* @vue/component */\nexport default baseMixins.extend({\n  name: 'v-textarea',\n\n  props: {\n    autoGrow: Boolean,\n    noResize: Boolean,\n    rowHeight: {\n      type: [Number, String],\n      default: 24,\n      validator: (v: any) => !isNaN(parseFloat(v)),\n    },\n    rows: {\n      type: [Number, String],\n      default: 5,\n      validator: (v: any) => !isNaN(parseInt(v, 10)),\n    },\n  },\n\n  computed: {\n    classes (): object {\n      return {\n        'v-textarea': true,\n        'v-textarea--auto-grow': this.autoGrow,\n        'v-textarea--no-resize': this.noResizeHandle,\n        ...VTextField.options.computed.classes.call(this),\n      }\n    },\n    noResizeHandle (): boolean {\n      return this.noResize || this.autoGrow\n    },\n  },\n\n  watch: {\n    autoGrow (val: boolean) {\n      this.$nextTick(() => {\n        val\n          ? this.calculateInputHeight()\n          : this.$refs.input?.style.removeProperty('height')\n      })\n    },\n    lazyValue () {\n      this.autoGrow && this.$nextTick(this.calculateInputHeight)\n    },\n    rowHeight () {\n      this.autoGrow && this.$nextTick(this.calculateInputHeight)\n    },\n  },\n\n  mounted () {\n    setTimeout(() => {\n      this.autoGrow && this.calculateInputHeight()\n    }, 0)\n  },\n\n  methods: {\n    calculateInputHeight () {\n      const input = this.$refs.input\n      if (!input) return\n\n      input.style.height = '0'\n      const height = input.scrollHeight\n      const minHeight = parseInt(this.rows, 10) * parseFloat(this.rowHeight)\n      // This has to be done ASAP, waiting for Vue\n      // to update the DOM causes ugly layout jumping\n      input.style.height = Math.max(minHeight, height) + 'px'\n    },\n    genInput () {\n      const input = VTextField.options.methods.genInput.call(this)\n\n      input.tag = 'textarea'\n      delete input.data!.attrs!.type\n      input.data!.attrs!.rows = this.rows\n\n      return input\n    },\n    onInput (e: Event) {\n      VTextField.options.methods.onInput.call(this, e)\n      this.autoGrow && this.calculateInputHeight()\n    },\n    onKeyDown (e: KeyboardEvent) {\n      // Prevents closing of a\n      // dialog when pressing\n      // enter\n      if (this.isFocused && e.keyCode === 13) {\n        e.stopPropagation()\n      }\n\n      this.$emit('keydown', e)\n    },\n  },\n})\n","import { render, staticRenderFns } from \"./PipingUI.vue?vue&type=template&id=52cc8bba&scoped=true&\"\nimport script from \"./PipingUI.vue?vue&type=script&lang=ts&\"\nexport * from \"./PipingUI.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./PipingUI.vue?vue&type=style&index=0&id=52cc8bba&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"52cc8bba\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VBtnToggle } from 'vuetify/lib/components/VBtnToggle';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VCombobox } from 'vuetify/lib/components/VCombobox';\nimport { VExpansionPanels } from 'vuetify/lib/components/VExpansionPanel';\nimport { VFlex } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VLayout } from 'vuetify/lib/components/VGrid';\nimport { VListItemAction } from 'vuetify/lib/components/VList';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSnackbar } from 'vuetify/lib/components/VSnackbar';\nimport { VSwitch } from 'vuetify/lib/components/VSwitch';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTextarea } from 'vuetify/lib/components/VTextarea';\ninstallComponents(component, {VBtn,VBtnToggle,VCard,VChip,VCol,VCombobox,VExpansionPanels,VFlex,VIcon,VLayout,VListItemAction,VRow,VSnackbar,VSwitch,VTextField,VTextarea})\n","// Types\nimport Vue, { VNode } from 'vue'\n\nexport default function VGrid (name: string) {\n  /* @vue/component */\n  return Vue.extend({\n    name: `v-${name}`,\n\n    functional: true,\n\n    props: {\n      id: String,\n      tag: {\n        type: String,\n        default: 'div',\n      },\n    },\n\n    render (h, { props, data, children }): VNode {\n      data.staticClass = (`${name} ${data.staticClass || ''}`).trim()\n\n      const { attrs } = data\n      if (attrs) {\n        // reset attrs to extract utility clases like pa-3\n        data.attrs = {}\n        const classes = Object.keys(attrs).filter(key => {\n          // TODO: Remove once resolved\n          // https://github.com/vuejs/vue/issues/7841\n          if (key === 'slot') return false\n\n          const value = attrs[key]\n\n          // add back data attributes like data-test=\"foo\" but do not\n          // add them as classes\n          if (key.startsWith('data-')) {\n            data.attrs![key] = value\n            return false\n          }\n\n          return value || typeof value === 'string'\n        })\n\n        if (classes.length) data.staticClass += ` ${classes.join(' ')}`\n      }\n\n      if (props.id) {\n        data.domProps = data.domProps || {}\n        data.domProps.id = props.id\n      }\n\n      return h(props.tag, data, children)\n    },\n  })\n}\n","var createTypedArrayConstructor = require('../internals/typed-array-constructor');\n\n// `Uint32Array` constructor\n// https://tc39.es/ecma262/#sec-typedarray-objects\ncreateTypedArrayConstructor('Uint32', function (init) {\n  return function Uint32Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n"],"sourceRoot":""}