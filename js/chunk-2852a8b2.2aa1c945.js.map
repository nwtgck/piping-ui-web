{"version":3,"sources":["webpack:///../../../src/mixins/transitionable/index.ts","webpack:///../../../src/components/VAlert/VAlert.ts","webpack:///../../../src/components/VDataTable/VSimpleTable.ts","webpack:///../../../src/components/VExpansionPanel/VExpansionPanelContent.ts","webpack:///./node_modules/url-join/lib/url-join.js","webpack:///./src/datatypes.ts","webpack:///./src/piping-ui-utils.ts","webpack:///../../../src/components/VBtn/index.ts","webpack:///./src/components/VerificationCode.vue?aa90","webpack:///./src/components/VerificationCode.vue","webpack:///./src/components/VerificationCode.vue?624b","webpack:///./src/components/VerificationCode.vue?1e67","webpack:///../../../src/components/VExpansionPanel/VExpansionPanelHeader.ts","webpack:///../../../src/components/VExpansionPanel/VExpansionPanel.ts"],"names":["name","props","mode","origin","transition","String","mixins","border","type","validator","closeLabel","default","coloredBorder","dense","dismissible","icon","Boolean","val","outlined","prominent","text","value","computed","__cachedBorder","this","data","staticClass","class","setBackgroundColor","$createElement","__cachedDismissible","color","VBtn","small","attrs","$vuetify","lang","t","on","click","VIcon","__cachedIcon","iconColor","classes","VSheet","computedColor","computedIcon","includes","hasColoredIcon","hasText","isDark","created","$attrs","hasOwnProperty","methods","genWrapper","children","$slots","prepend","$scopedSlots","close","toggle","genContent","genAlert","role","style","directives","isActive","setColor","render","h","fixedHeader","height","Number","themeClasses","wrapper","baseMixins","expansionPanel","beforeDestroy","showLazyContent","module","exports","definition","normalize","strArray","resultArray","length","TypeError","match","first","shift","replace","i","component","push","str","join","parts","split","input","arguments","slice","call","rsaOtherPrimesInfoFormat","d","r","ecJsonWebKeyFormat","alg","crv","dp","dq","e","ext","k","key_ops","kty","n","oth","p","q","qi","use","x","y","keyExchangeParcelFormat","version","encryptPublicJwk","verifiedParcelFormat","verified","FileSaverAsync","urlJoinAsync","then","binconvAsync","swDownloadAsync","utilsAsync","jwkThumbprintAsync","uint8ArrayToStringAsync","uint8ArrayToString","decryptingDownload","downloadUrl","fileName","key","decryptErrorMessage","swDownload","supportsSwDownload","binconv","protection","undefined","uint8ArrayToBase64","utils","downloadInfo","url","filename","sendToServiceWorker","enrollDownloadInfoRes","downloadInfoId","aTag","document","createElement","href","target","download","fetch","res","blob","blobToUint8Array","resBody","decrypt","plain","FileSaver","saveAs","uint8ArrayToBlob","keyExchangePath","secretPath","sha256","verifiedPath","keyExchange","serverUrl","KEY_EXCHANGE_VERSION","KEY_BITS","window","crypto","subtle","generateKey","namedCurve","keyPair","exportKey","publicKey","publicKeyJwk","keyExchangeParcel","urlJoin","myPath","peerPath","Promise","all","method","body","JSON","stringify","peerRes","peerPublicKeyExchange","errorCode","importKey","peerPublicKey","deriveBits","public","privateKey","keyBits","generateVerificationCode","verificationCode","Uint8Array","publicJwk1","publicJwk2","jwkThumbprintByEncoding","hashes","sort","substring","keyExchangeAndReceiveVerified","setVerificationStep","password","keyExchangeRes","errorMessage","strings","path","arrayBuffer","decryptedBody","verifiedParcel","scrollTo","element","appBar","moveTop","getBoundingClientRect","clientHeight","scrollBy","top","left","behavior","_vm","_h","_c","_self","staticStyle","_v","_s","staticRenderFns","language","VAlert","ripple","disableIconRotate","expandIcon","hideActions","hasMousedown","isDisabled","isReadonly","onClick","genIcon","tabindex","mousedown","mouseup","open","disabled","readonly","content","header","nextIsActive","groupClasses","expansionPanels","registerContent","unregisterContent","registerHeader","vm","unregisterHeader","isBooted"],"mappings":"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","file":"js/chunk-2852a8b2.2aa1c945.js","sourcesContent":["import Vue from 'vue'\n\nexport default Vue.extend({\n  name: 'transitionable',\n\n  props: {\n    mode: String,\n    origin: String,\n    transition: String,\n  },\n})\n","// Styles\nimport './VAlert.sass'\n\n// Extensions\nimport VSheet from '../VSheet'\n\n// Components\nimport VBtn from '../VBtn'\nimport VIcon from '../VIcon'\n\n// Mixins\nimport Toggleable from '../../mixins/toggleable'\nimport Themeable from '../../mixins/themeable'\nimport Transitionable from '../../mixins/transitionable'\n\n// Utilities\nimport mixins from '../../util/mixins'\nimport { breaking } from '../../util/console'\n\n// Types\nimport { VNodeData } from 'vue'\nimport { VNode } from 'vue/types'\n\n/* @vue/component */\nexport default mixins(\n  VSheet,\n  Toggleable,\n  Transitionable\n).extend({\n  name: 'v-alert',\n\n  props: {\n    border: {\n      type: String,\n      validator (val: string) {\n        return [\n          'top',\n          'right',\n          'bottom',\n          'left',\n        ].includes(val)\n      },\n    },\n    closeLabel: {\n      type: String,\n      default: '$vuetify.close',\n    },\n    coloredBorder: Boolean,\n    dense: Boolean,\n    dismissible: Boolean,\n    icon: {\n      default: '',\n      type: [Boolean, String],\n      validator (val: boolean | string) {\n        return typeof val === 'string' || val === false\n      },\n    },\n    outlined: Boolean,\n    prominent: Boolean,\n    text: Boolean,\n    type: {\n      type: String,\n      validator (val: string) {\n        return [\n          'info',\n          'error',\n          'success',\n          'warning',\n        ].includes(val)\n      },\n    },\n    value: {\n      type: Boolean,\n      default: true,\n    },\n  },\n\n  computed: {\n    __cachedBorder (): VNode | null {\n      if (!this.border) return null\n\n      let data: VNodeData = {\n        staticClass: 'v-alert__border',\n        class: {\n          [`v-alert__border--${this.border}`]: true,\n        },\n      }\n\n      if (this.coloredBorder) {\n        data = this.setBackgroundColor(this.computedColor, data)\n        data.class['v-alert__border--has-color'] = true\n      }\n\n      return this.$createElement('div', data)\n    },\n    __cachedDismissible (): VNode | null {\n      if (!this.dismissible) return null\n\n      const color = this.iconColor\n\n      return this.$createElement(VBtn, {\n        staticClass: 'v-alert__dismissible',\n        props: {\n          color,\n          icon: true,\n          small: true,\n        },\n        attrs: {\n          'aria-label': this.$vuetify.lang.t(this.closeLabel),\n        },\n        on: {\n          click: () => (this.isActive = false),\n        },\n      }, [\n        this.$createElement(VIcon, {\n          props: { color },\n        }, '$cancel'),\n      ])\n    },\n    __cachedIcon (): VNode | null {\n      if (!this.computedIcon) return null\n\n      return this.$createElement(VIcon, {\n        staticClass: 'v-alert__icon',\n        props: { color: this.iconColor },\n      }, this.computedIcon)\n    },\n    classes (): object {\n      const classes: Record<string, boolean> = {\n        ...VSheet.options.computed.classes.call(this),\n        'v-alert--border': Boolean(this.border),\n        'v-alert--dense': this.dense,\n        'v-alert--outlined': this.outlined,\n        'v-alert--prominent': this.prominent,\n        'v-alert--text': this.text,\n      }\n\n      if (this.border) {\n        classes[`v-alert--border-${this.border}`] = true\n      }\n\n      return classes\n    },\n    computedColor (): string {\n      return this.color || this.type\n    },\n    computedIcon (): string | boolean {\n      if (this.icon === false) return false\n      if (typeof this.icon === 'string' && this.icon) return this.icon\n      if (!['error', 'info', 'success', 'warning'].includes(this.type)) return false\n\n      return `$${this.type}`\n    },\n    hasColoredIcon (): boolean {\n      return (\n        this.hasText ||\n        (Boolean(this.border) && this.coloredBorder)\n      )\n    },\n    hasText (): boolean {\n      return this.text || this.outlined\n    },\n    iconColor (): string | undefined {\n      return this.hasColoredIcon ? this.computedColor : undefined\n    },\n    isDark (): boolean {\n      if (\n        this.type &&\n        !this.coloredBorder &&\n        !this.outlined\n      ) return true\n\n      return Themeable.options.computed.isDark.call(this)\n    },\n  },\n\n  created () {\n    /* istanbul ignore next */\n    if (this.$attrs.hasOwnProperty('outline')) {\n      breaking('outline', 'outlined', this)\n    }\n  },\n\n  methods: {\n    genWrapper (): VNode {\n      const children = [\n        this.$slots.prepend || this.__cachedIcon,\n        this.genContent(),\n        this.__cachedBorder,\n        this.$slots.append,\n        this.$scopedSlots.close\n          ? this.$scopedSlots.close({ toggle: this.toggle })\n          : this.__cachedDismissible,\n      ]\n\n      const data: VNodeData = {\n        staticClass: 'v-alert__wrapper',\n      }\n\n      return this.$createElement('div', data, children)\n    },\n    genContent (): VNode {\n      return this.$createElement('div', {\n        staticClass: 'v-alert__content',\n      }, this.$slots.default)\n    },\n    genAlert (): VNode {\n      let data: VNodeData = {\n        staticClass: 'v-alert',\n        attrs: {\n          role: 'alert',\n        },\n        class: this.classes,\n        style: this.styles,\n        directives: [{\n          name: 'show',\n          value: this.isActive,\n        }],\n      }\n\n      if (!this.coloredBorder) {\n        const setColor = this.hasText ? this.setTextColor : this.setBackgroundColor\n        data = setColor(this.computedColor, data)\n      }\n\n      return this.$createElement('div', data, [this.genWrapper()])\n    },\n    /** @public */\n    toggle () {\n      this.isActive = !this.isActive\n    },\n  },\n\n  render (h): VNode {\n    const render = this.genAlert()\n\n    if (!this.transition) return render\n\n    return h('transition', {\n      props: {\n        name: this.transition,\n        origin: this.origin,\n        mode: this.mode,\n      },\n    }, [render])\n  },\n})\n","import './VSimpleTable.sass'\n\nimport { convertToUnit } from '../../util/helpers'\nimport Themeable from '../../mixins/themeable'\nimport mixins from '../../util/mixins'\nimport { VNode } from 'vue'\n\nexport default mixins(Themeable).extend({\n  name: 'v-simple-table',\n\n  props: {\n    dense: Boolean,\n    fixedHeader: Boolean,\n    height: [Number, String],\n  },\n\n  computed: {\n    classes (): Record<string, boolean> {\n      return {\n        'v-data-table--dense': this.dense,\n        'v-data-table--fixed-height': !!this.height && !this.fixedHeader,\n        'v-data-table--fixed-header': this.fixedHeader,\n        ...this.themeClasses,\n      }\n    },\n  },\n\n  methods: {\n    genWrapper () {\n      return this.$slots.wrapper || this.$createElement('div', {\n        staticClass: 'v-data-table__wrapper',\n        style: {\n          height: convertToUnit(this.height),\n        },\n      }, [\n        this.$createElement('table', this.$slots.default),\n      ])\n    },\n  },\n\n  render (h): VNode {\n    return h('div', {\n      staticClass: 'v-data-table',\n      class: this.classes,\n    }, [\n      this.$slots.top,\n      this.genWrapper(),\n      this.$slots.bottom,\n    ])\n  },\n})\n","// Components\nimport VExpansionPanel from './VExpansionPanel'\nimport { VExpandTransition } from '../transitions'\n\n// Mixins\nimport Bootable from '../../mixins/bootable'\nimport Colorable from '../../mixins/colorable'\nimport { inject as RegistrableInject } from '../../mixins/registrable'\n\n// Utilities\nimport { getSlot } from '../../util/helpers'\nimport mixins, { ExtractVue } from '../../util/mixins'\n\n// Types\nimport Vue, { VNode, VueConstructor } from 'vue'\n\nconst baseMixins = mixins(\n  Bootable,\n  Colorable,\n  RegistrableInject<'expansionPanel', VueConstructor<Vue>>('expansionPanel', 'v-expansion-panel-content', 'v-expansion-panel')\n)\n\ninterface options extends ExtractVue<typeof baseMixins> {\n  expansionPanel: InstanceType<typeof VExpansionPanel>\n}\n\n/* @vue/component */\nexport default baseMixins.extend<options>().extend({\n  name: 'v-expansion-panel-content',\n\n  computed: {\n    isActive (): boolean {\n      return this.expansionPanel.isActive\n    },\n  },\n\n  created () {\n    this.expansionPanel.registerContent(this)\n  },\n\n  beforeDestroy () {\n    this.expansionPanel.unregisterContent()\n  },\n\n  render (h): VNode {\n    return h(VExpandTransition, this.showLazyContent(() => [\n      h('div', this.setBackgroundColor(this.color, {\n        staticClass: 'v-expansion-panel-content',\n        directives: [{\n          name: 'show',\n          value: this.isActive,\n        }],\n      }), [\n        h('div', { class: 'v-expansion-panel-content__wrap' }, getSlot(this)),\n      ]),\n    ]))\n  },\n})\n","(function (name, context, definition) {\n  if (typeof module !== 'undefined' && module.exports) module.exports = definition();\n  else if (typeof define === 'function' && define.amd) define(definition);\n  else context[name] = definition();\n})('urljoin', this, function () {\n\n  function normalize (strArray) {\n    var resultArray = [];\n    if (strArray.length === 0) { return ''; }\n\n    if (typeof strArray[0] !== 'string') {\n      throw new TypeError('Url must be a string. Received ' + strArray[0]);\n    }\n\n    // If the first part is a plain protocol, we combine it with the next part.\n    if (strArray[0].match(/^[^/:]+:\\/*$/) && strArray.length > 1) {\n      var first = strArray.shift();\n      strArray[0] = first + strArray[0];\n    }\n\n    // There must be two or three slashes in the file protocol, two slashes in anything else.\n    if (strArray[0].match(/^file:\\/\\/\\//)) {\n      strArray[0] = strArray[0].replace(/^([^/:]+):\\/*/, '$1:///');\n    } else {\n      strArray[0] = strArray[0].replace(/^([^/:]+):\\/*/, '$1://');\n    }\n\n    for (var i = 0; i < strArray.length; i++) {\n      var component = strArray[i];\n\n      if (typeof component !== 'string') {\n        throw new TypeError('Url must be a string. Received ' + component);\n      }\n\n      if (component === '') { continue; }\n\n      if (i > 0) {\n        // Removing the starting slashes for each component but the first.\n        component = component.replace(/^[\\/]+/, '');\n      }\n      if (i < strArray.length - 1) {\n        // Removing the ending slashes for each component but the last.\n        component = component.replace(/[\\/]+$/, '');\n      } else {\n        // For the last component we will combine multiple slashes to a single one.\n        component = component.replace(/[\\/]+$/, '/');\n      }\n\n      resultArray.push(component);\n\n    }\n\n    var str = resultArray.join('/');\n    // Each input component is now separated by a single slash except the possible first plain protocol part.\n\n    // remove trailing slash before parameters or hash\n    str = str.replace(/\\/(\\?|&|#[^!])/g, '$1');\n\n    // replace ? in parameters with &\n    var parts = str.split('?');\n    str = parts.shift() + (parts.length > 0 ? '?': '') + parts.join('&');\n\n    return str;\n  }\n\n  return function () {\n    var input;\n\n    if (typeof arguments[0] === 'object') {\n      input = arguments[0];\n    } else {\n      input = [].slice.call(arguments);\n    }\n\n    return normalize(input);\n  };\n\n});\n","import {bool, num, str, literal, opt, arr, obj, TsType} from 'ts-json-validator';\n\nexport type Protection = NoProtection | PasswordProtection| PasswordlessProtection;\ntype NoProtection = {\n  type: 'raw'\n};\ntype PasswordProtection = {\n  type: 'password',\n  password: string,\n};\n// Password-inputless protection\ntype PasswordlessProtection = {\n  type: 'passwordless',\n};\n\nconst rsaOtherPrimesInfoFormat = obj({\n  d: opt(str),\n  r: opt(str),\n  t: opt(str),\n});\nconst ecJsonWebKeyFormat = obj({\n  alg: opt(str),\n  crv: opt(str),\n  d: opt(str),\n  dp: opt(str),\n  dq: opt(str),\n  e: opt(str),\n  ext: opt(bool),\n  k: opt(str),\n  key_ops: opt(arr(str)),\n  kty: literal('EC' as const),\n  n: opt(str),\n  oth: opt(arr(rsaOtherPrimesInfoFormat)),\n  p: opt(str),\n  q: opt(str),\n  qi: opt(str),\n  use: opt(str),\n  x: opt(str),\n  y: opt(str),\n});\nexport const keyExchangeParcelFormat = obj({\n  version: num,\n  // Public JWK for encryption\n  encryptPublicJwk: ecJsonWebKeyFormat,\n});\nexport type KeyExchangeParcel = TsType<typeof keyExchangeParcelFormat>;\n\nexport const verifiedParcelFormat = obj({\n  verified: bool,\n});\nexport type VerifiedParcel = TsType<typeof verifiedParcelFormat>;\n\nexport type VerificationStep =\n  {type: 'initial'} |\n  {type: 'error'} |\n  {type: 'verification_code_arrived', verificationCode: string, key: Uint8Array} |\n  {type: 'verified', verified: boolean};\n","import {\n  KeyExchangeParcel,\n  keyExchangeParcelFormat,\n  Protection, VerificationStep,\n  VerifiedParcel,\n  verifiedParcelFormat\n} from \"@/datatypes\";\nimport {validatingParse} from 'ts-json-validator';\nimport {strings} from \"@/strings\";\n\nconst FileSaverAsync = () => import('file-saver');\nconst urlJoinAsync = () => import('url-join').then(p => p.default);\nconst binconvAsync = () => import('binconv');\nconst swDownloadAsync = () => import(\"@/sw-download\");\nconst utilsAsync = () => import(\"@/utils\");\nconst jwkThumbprintAsync  = () => import(\"jwk-thumbprint\");\nconst uint8ArrayToStringAsync = () => import('binconv/dist/src/uint8ArrayToString').then(p => p.uint8ArrayToString);\nimport {appBarPromise} from \"@/App.vue\";\n\n// Decrypt & Download\nexport async function decryptingDownload(\n  {downloadUrl, fileName, key, decryptErrorMessage}:\n  {downloadUrl: string, fileName: string, key: string | Uint8Array | undefined, decryptErrorMessage: string}\n) {\n  type Protection = {type: 'raw'} | {type: 'string', key: string} | {type: 'uint8array', key: string};\n\n  const swDownload = await swDownloadAsync();\n  // If supporting stream-download via Service Worker\n  if (await swDownload.supportsSwDownload) {\n    const binconv = await binconvAsync();\n    const protection: Protection = (() => {\n      if (key === undefined) {\n        return {type: 'raw'} as const;\n      } else if (typeof key === 'string') {\n        return {type: 'string', key: key} as const;\n      } else {\n        return {\n          type: 'uint8array',\n          key: binconv.uint8ArrayToBase64(key),\n        } as const;\n      }\n    })();\n\n    const utils = await utilsAsync();\n    // Create download info to tell to Service Worker\n    const downloadInfo = {\n      url: downloadUrl,\n      filename: fileName,\n      protection,\n      decryptErrorMessage: decryptErrorMessage,\n    };\n    // Enroll download-info\n    const enrollDownloadInfoRes: MessageEvent = await utils.sendToServiceWorker({\n      type: 'enroll-download-info',\n      downloadInfo,\n    });\n    // Get download-info ID\n    const {downloadInfoId} = enrollDownloadInfoRes.data;\n    // Download via Service Worker\n    const aTag = document.createElement('a');\n    // NOTE: '/sw-download' can be received by Service Worker in src/sw.js\n    // NOTE: URL fragment is passed to Service Worker but not passed to Web server\n    aTag.href = `/sw-download#${downloadInfoId}`;\n    aTag.target = \"_blank\";\n    aTag.click();\n  } else {\n    const binconv = await binconvAsync();\n    // If password-protection is disabled\n    if (key === undefined) {\n      // Download or show on browser sometimes\n      const aTag = document.createElement('a');\n      aTag.href = downloadUrl;\n      aTag.target = \"_blank\";\n      aTag.download = fileName;\n      aTag.click();\n    } else {\n      // Get response\n      const res = await fetch(downloadUrl);\n      const resBody = await binconv.blobToUint8Array(await res.blob());\n      // Decrypt the response body\n      const plain = await (await utilsAsync()).decrypt(resBody, key);\n      // Save\n      const FileSaver = await FileSaverAsync();\n      FileSaver.saveAs(binconv.uint8ArrayToBlob(plain), fileName);\n    }\n  }\n}\n\n\nasync function keyExchangePath(type: 'sender' | 'receiver', secretPath: string): Promise<string> {\n  const utils = await utilsAsync();\n  return utils.sha256(`${secretPath}/key_exchange/${type}`);\n}\n\nexport async function verifiedPath(secretPath: string): Promise<string> {\n  const utils = await utilsAsync();\n  return utils.sha256(`${secretPath}/verified`);\n}\n\nexport type KeyExchangeErrorCode = 'invalid_parcel_format' | 'different_key_exchange_version';\ntype KeyExchangeResult =\n  {type: \"key\", key: Uint8Array, verificationCode: string} |\n  {type: \"error\", errorCode: KeyExchangeErrorCode};\n\nexport async function keyExchange(serverUrl: string, type: 'sender' | 'receiver', secretPath: string): Promise<KeyExchangeResult> {\n  const KEY_EXCHANGE_VERSION = 1;\n  // 256 is max value for deriveBits()\n  const KEY_BITS = 256;\n  // Create ECDH key pair\n  const keyPair: CryptoKeyPair = await window.crypto.subtle.generateKey(\n    { name: 'ECDH', namedCurve: 'P-256'},\n    false,\n    ['deriveKey', 'deriveBits']\n  );\n  // Get public key as JWK\n  // NOTE: kty should be 'EC' because it's ECDH key\n  const publicKeyJwk = await crypto.subtle.exportKey(\n    'jwk',\n    keyPair.publicKey\n  ) as JsonWebKey & {kty: 'EC'};\n  const keyExchangeParcel: KeyExchangeParcel = {\n    version: KEY_EXCHANGE_VERSION,\n    encryptPublicJwk: publicKeyJwk,\n  };\n  const urlJoin = await urlJoinAsync();\n  const myPath = await keyExchangePath(type, secretPath);\n  const peerPath = await keyExchangePath(type === 'sender' ? 'receiver' : 'sender', secretPath);\n  // Exchange\n  const [_, peerRes] = await Promise.all([\n    fetch(urlJoin(serverUrl, myPath), {method: 'POST', body: JSON.stringify(keyExchangeParcel)}),\n    fetch(urlJoin(serverUrl, peerPath)),\n  ]);\n  const peerPublicKeyExchange: KeyExchangeParcel | undefined = validatingParse(keyExchangeParcelFormat, await peerRes.text());\n  if (peerPublicKeyExchange === undefined) {\n    return {type: \"error\", errorCode: 'invalid_parcel_format'};\n  }\n  if (KEY_EXCHANGE_VERSION !== peerPublicKeyExchange.version) {\n    return {type: \"error\", errorCode: 'different_key_exchange_version'};\n  }\n  const peerPublicKey = await crypto.subtle.importKey(\n    'jwk',\n    peerPublicKeyExchange.encryptPublicJwk,\n    {name: 'ECDH', namedCurve: 'P-256'},\n    false,\n    []\n  );\n  const keyBits: ArrayBuffer = await crypto.subtle.deriveBits(\n    { name: 'ECDH', public: peerPublicKey },\n    keyPair.privateKey,\n    KEY_BITS,\n  );\n  const verificationCode = await generateVerificationCode(publicKeyJwk, peerPublicKeyExchange.encryptPublicJwk);\n  return {\n    type: 'key',\n    key: new Uint8Array(keyBits),\n    verificationCode,\n  };\n}\n\nasync function generateVerificationCode(publicJwk1: JsonWebKey, publicJwk2: JsonWebKey) {\n  const {jwkThumbprintByEncoding} = await jwkThumbprintAsync();\n  const hashes = [\n    jwkThumbprintByEncoding(publicJwk1, 'SHA-256', 'hex'),\n    jwkThumbprintByEncoding(publicJwk2, 'SHA-256', 'hex'),\n  ];\n  const utils = await utilsAsync();\n  return (await utils.sha256(hashes.sort().join('-'))).substring(0, 32);\n}\n\nexport async function keyExchangeAndReceiveVerified(serverUrl: string, secretPath: string, protection: Protection, setVerificationStep: (step: VerificationStep) => void):\n  Promise<\n    {type: 'key', key: string | Uint8Array | undefined} |\n    {type: 'error', errorMessage: (lang: string) => string}\n  > {\n  switch (protection.type) {\n    case 'raw':\n      return {\n        type: 'key',\n        key: undefined,\n      };\n    case 'password':\n      return {\n        type: 'key',\n        key: protection.password,\n      };\n    case 'passwordless': {\n      // Key exchange\n      const keyExchangeRes = await keyExchange(serverUrl, 'receiver', secretPath);\n      if (keyExchangeRes.type === 'error') {\n        setVerificationStep({type: 'error'});\n        return {\n          type: \"error\",\n          errorMessage(lang) {\n            return strings(lang)['key_exchange_error'](keyExchangeRes.errorCode);\n          }\n        };\n      }\n      const {key, verificationCode} = keyExchangeRes;\n      setVerificationStep({type: 'verification_code_arrived', verificationCode, key});\n      const uint8ArrayToString = await uint8ArrayToStringAsync();\n      const urlJoin = await urlJoinAsync();\n      const path = urlJoin(serverUrl, await verifiedPath(secretPath));\n      // Get verified or not\n      const res = await fetch(path);\n      const utils = await utilsAsync();\n      // Decrypt body\n      const decryptedBody: Uint8Array = await utils.decrypt(new Uint8Array(await res.arrayBuffer()), key);\n      // Parse\n      const verifiedParcel: VerifiedParcel | undefined = validatingParse(verifiedParcelFormat, uint8ArrayToString(decryptedBody));\n      if (verifiedParcel === undefined) {\n        return {\n          type: \"error\",\n          errorMessage(lang) {\n            return strings(lang)['key_exchange_error']('invalid_parcel_format');\n          }\n        };\n      }\n      const {verified} = verifiedParcel;\n      setVerificationStep({type: 'verified', verified});\n      if (!verified) {\n        return {\n          type: \"error\",\n          errorMessage(lang) {\n            return strings(lang)['sender_not_verified'];\n          }\n        };\n      }\n      return {\n        type: 'key',\n        key,\n      };\n    }\n  }\n}\n\n/**\n * Scroll to the specific element considering the app bar\n * @param element\n */\nexport async function scrollTo(element: Element): Promise<void> {\n  const appBar = await appBarPromise;\n  const moveTop = element.getBoundingClientRect().y - appBar.clientHeight;\n  window.scrollBy({ top: moveTop, left: 0, behavior: 'smooth' });\n}\n","import VBtn from './VBtn'\n\nexport { VBtn }\nexport default VBtn\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-alert',{attrs:{\"type\":\"info\"}},[_c('span',{staticStyle:{\"font-size\":\"1.2em\"}},[_vm._v(_vm._s(_vm.strings['verification_code'])+\": \"),_c('b',[_vm._v(_vm._s(_vm.value))])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\nimport { Component, Prop, Vue } from 'vue-property-decorator';\nimport {globalStore} from \"@/vue-global\";\nimport {strings} from \"@/strings\";\n\n@Component\nexport default class VerificationCode extends Vue {\n  @Prop() public value!: string;\n\n  // for language support\n  private get strings() {\n    return strings(globalStore.language);\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VerificationCode.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VerificationCode.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./VerificationCode.vue?vue&type=template&id=7f16f78c&\"\nimport script from \"./VerificationCode.vue?vue&type=script&lang=ts&\"\nexport * from \"./VerificationCode.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAlert } from 'vuetify/lib/components/VAlert';\ninstallComponents(component, {VAlert})\n","// Components\nimport { VFadeTransition } from '../transitions'\nimport VExpansionPanel from './VExpansionPanel'\nimport VIcon from '../VIcon'\n\n// Mixins\nimport Colorable from '../../mixins/colorable'\nimport { inject as RegistrableInject } from '../../mixins/registrable'\n\n// Directives\nimport ripple from '../../directives/ripple'\n\n// Utilities\nimport { getSlot } from '../../util/helpers'\nimport mixins, { ExtractVue } from '../../util/mixins'\n\n// Types\nimport Vue, { VNode, VueConstructor } from 'vue'\n\nconst baseMixins = mixins(\n  Colorable,\n  RegistrableInject<'expansionPanel', VueConstructor<Vue>>('expansionPanel', 'v-expansion-panel-header', 'v-expansion-panel')\n)\n\ninterface options extends ExtractVue<typeof baseMixins> {\n  $el: HTMLElement\n  expansionPanel: InstanceType<typeof VExpansionPanel>\n}\n\nexport default baseMixins.extend<options>().extend({\n  name: 'v-expansion-panel-header',\n\n  directives: { ripple },\n\n  props: {\n    disableIconRotate: Boolean,\n    expandIcon: {\n      type: String,\n      default: '$expand',\n    },\n    hideActions: Boolean,\n    ripple: {\n      type: [Boolean, Object],\n      default: false,\n    },\n  },\n\n  data: () => ({\n    hasMousedown: false,\n  }),\n\n  computed: {\n    classes (): object {\n      return {\n        'v-expansion-panel-header--active': this.isActive,\n        'v-expansion-panel-header--mousedown': this.hasMousedown,\n      }\n    },\n    isActive (): boolean {\n      return this.expansionPanel.isActive\n    },\n    isDisabled (): boolean {\n      return this.expansionPanel.isDisabled\n    },\n    isReadonly (): boolean {\n      return this.expansionPanel.isReadonly\n    },\n  },\n\n  created () {\n    this.expansionPanel.registerHeader(this)\n  },\n\n  beforeDestroy () {\n    this.expansionPanel.unregisterHeader()\n  },\n\n  methods: {\n    onClick (e: MouseEvent) {\n      this.$emit('click', e)\n    },\n    genIcon () {\n      const icon = getSlot(this, 'actions') ||\n        [this.$createElement(VIcon, this.expandIcon)]\n\n      return this.$createElement(VFadeTransition, [\n        this.$createElement('div', {\n          staticClass: 'v-expansion-panel-header__icon',\n          class: {\n            'v-expansion-panel-header__icon--disable-rotate': this.disableIconRotate,\n          },\n          directives: [{\n            name: 'show',\n            value: !this.isDisabled,\n          }],\n        }, icon),\n      ])\n    },\n  },\n\n  render (h): VNode {\n    return h('button', this.setBackgroundColor(this.color, {\n      staticClass: 'v-expansion-panel-header',\n      class: this.classes,\n      attrs: {\n        tabindex: this.isDisabled ? -1 : null,\n        type: 'button',\n      },\n      directives: [{\n        name: 'ripple',\n        value: this.ripple,\n      }],\n      on: {\n        ...this.$listeners,\n        click: this.onClick,\n        mousedown: () => (this.hasMousedown = true),\n        mouseup: () => (this.hasMousedown = false),\n      },\n    }), [\n      getSlot(this, 'default', { open: this.isActive }, true),\n      this.hideActions || this.genIcon(),\n    ])\n  },\n})\n","// Components\nimport VExpansionPanels from './VExpansionPanels'\nimport VExpansionPanelHeader from './VExpansionPanelHeader'\nimport VExpansionPanelContent from './VExpansionPanelContent'\n\n// Mixins\nimport { factory as GroupableFactory } from '../../mixins/groupable'\nimport { provide as RegistrableProvide } from '../../mixins/registrable'\n\n// Utilities\nimport { getSlot } from '../../util/helpers'\nimport mixins from '../../util/mixins'\n\n// Types\nimport { VNode } from 'vue'\n\ntype VExpansionPanelHeaderInstance = InstanceType<typeof VExpansionPanelHeader>\ntype VExpansionPanelContentInstance = InstanceType<typeof VExpansionPanelContent>\n\nexport default mixins(\n  GroupableFactory<'expansionPanels', typeof VExpansionPanels>('expansionPanels', 'v-expansion-panel', 'v-expansion-panels'),\n  RegistrableProvide('expansionPanel', true)\n  /* @vue/component */\n).extend({\n  name: 'v-expansion-panel',\n\n  props: {\n    disabled: Boolean,\n    readonly: Boolean,\n  },\n\n  data () {\n    return {\n      content: null as VExpansionPanelContentInstance | null,\n      header: null as VExpansionPanelHeaderInstance | null,\n      nextIsActive: false,\n    }\n  },\n\n  computed: {\n    classes (): object {\n      return {\n        'v-expansion-panel--active': this.isActive,\n        'v-expansion-panel--next-active': this.nextIsActive,\n        'v-expansion-panel--disabled': this.isDisabled,\n        ...this.groupClasses,\n      }\n    },\n    isDisabled (): boolean {\n      return this.expansionPanels.disabled || this.disabled\n    },\n    isReadonly (): boolean {\n      return this.expansionPanels.readonly || this.readonly\n    },\n  },\n\n  methods: {\n    registerContent (vm: VExpansionPanelContentInstance) {\n      this.content = vm\n    },\n    unregisterContent () {\n      this.content = null\n    },\n    registerHeader (vm: VExpansionPanelHeaderInstance) {\n      this.header = vm\n      vm.$on('click', this.onClick)\n    },\n    unregisterHeader () {\n      this.header = null\n    },\n    onClick (e: MouseEvent) {\n      if (e.detail) this.header!.$el.blur()\n\n      this.$emit('click', e)\n\n      this.isReadonly || this.isDisabled || this.toggle()\n    },\n    toggle () {\n      /* istanbul ignore else */\n      if (this.content) this.content.isBooted = true\n      this.$nextTick(() => this.$emit('change'))\n    },\n  },\n\n  render (h): VNode {\n    return h('div', {\n      staticClass: 'v-expansion-panel',\n      class: this.classes,\n      attrs: {\n        'aria-expanded': String(this.isActive),\n      },\n    }, getSlot(this))\n  },\n})\n"],"sourceRoot":""}